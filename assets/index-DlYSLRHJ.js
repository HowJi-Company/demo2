(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();function Tg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wu={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function rj(){if(bp)return rl;bp=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(c,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var m in u)m!=="key"&&(h[m]=u[m])}else h=u;return u=h.ref,{$$typeof:a,type:c,key:f,ref:u!==void 0?u:null,props:h}}return rl.Fragment=i,rl.jsx=r,rl.jsxs=r,rl}var _p;function cj(){return _p||(_p=1,wu.exports=rj()),wu.exports}var t=cj(),Cu={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function oj(){if(Np)return Ue;Np=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),N=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=N&&T[N]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function z(T,$,Y){this.props=T,this.context=$,this.refs=S,this.updater=Y||E}z.prototype.isReactComponent={},z.prototype.setState=function(T,$){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,$,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function O(){}O.prototype=z.prototype;function q(T,$,Y){this.props=T,this.context=$,this.refs=S,this.updater=Y||E}var V=q.prototype=new O;V.constructor=q,C(V,z.prototype),V.isPureReactComponent=!0;var te=Array.isArray;function ge(){}var ae={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function X(T,$,Y){var J=Y.ref;return{$$typeof:a,type:T,key:$,ref:J!==void 0?J:null,props:Y}}function ye(T,$){return X(T.type,$,T.props)}function me(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function de(T){var $={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Y){return $[Y]})}var pe=/\/+/g;function k(T,$){return typeof T=="object"&&T!==null&&T.key!=null?de(""+T.key):$.toString(36)}function ne(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ge,ge):(T.status="pending",T.then(function($){T.status==="pending"&&(T.status="fulfilled",T.value=$)},function($){T.status==="pending"&&(T.status="rejected",T.reason=$)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function w(T,$,Y,J,le){var Ne=typeof T;(Ne==="undefined"||Ne==="boolean")&&(T=null);var Oe=!1;if(T===null)Oe=!0;else switch(Ne){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(T.$$typeof){case a:case i:Oe=!0;break;case x:return Oe=T._init,w(Oe(T._payload),$,Y,J,le)}}if(Oe)return le=le(T),Oe=J===""?"."+k(T,0):J,te(le)?(Y="",Oe!=null&&(Y=Oe.replace(pe,"$&/")+"/"),w(le,$,Y,"",function(Ze){return Ze})):le!=null&&(me(le)&&(le=ye(le,Y+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(pe,"$&/")+"/")+Oe)),$.push(le)),1;Oe=0;var qe=J===""?".":J+":";if(te(T))for(var ke=0;ke<T.length;ke++)J=T[ke],Ne=qe+k(J,ke),Oe+=w(J,$,Y,Ne,le);else if(ke=A(T),typeof ke=="function")for(T=ke.call(T),ke=0;!(J=T.next()).done;)J=J.value,Ne=qe+k(J,ke++),Oe+=w(J,$,Y,Ne,le);else if(Ne==="object"){if(typeof T.then=="function")return w(ne(T),$,Y,J,le);throw $=String(T),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(T,$,Y){if(T==null)return T;var J=[],le=0;return w(T,J,"","",function(Ne){return $.call(Y,Ne,le++)}),J}function ce(T){if(T._status===-1){var $=T._result;$=$(),$.then(function(Y){(T._status===0||T._status===-1)&&(T._status=1,T._result=Y)},function(Y){(T._status===0||T._status===-1)&&(T._status=2,T._result=Y)}),T._status===-1&&(T._status=0,T._result=$)}if(T._status===1)return T._result.default;throw T._result}var ve=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Te={map:W,forEach:function(T,$,Y){W(T,function(){$.apply(this,arguments)},Y)},count:function(T){var $=0;return W(T,function(){$++}),$},toArray:function(T){return W(T,function($){return $})||[]},only:function(T){if(!me(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ue.Activity=y,Ue.Children=Te,Ue.Component=z,Ue.Fragment=r,Ue.Profiler=u,Ue.PureComponent=q,Ue.StrictMode=c,Ue.Suspense=g,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ae.H.useMemoCache(T)}},Ue.cache=function(T){return function(){return T.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(T,$,Y){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var J=C({},T.props),le=T.key;if($!=null)for(Ne in $.key!==void 0&&(le=""+$.key),$)!oe.call($,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&$.ref===void 0||(J[Ne]=$[Ne]);var Ne=arguments.length-2;if(Ne===1)J.children=Y;else if(1<Ne){for(var Oe=Array(Ne),qe=0;qe<Ne;qe++)Oe[qe]=arguments[qe+2];J.children=Oe}return X(T.type,le,J)},Ue.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:h,_context:T},T},Ue.createElement=function(T,$,Y){var J,le={},Ne=null;if($!=null)for(J in $.key!==void 0&&(Ne=""+$.key),$)oe.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=$[J]);var Oe=arguments.length-2;if(Oe===1)le.children=Y;else if(1<Oe){for(var qe=Array(Oe),ke=0;ke<Oe;ke++)qe[ke]=arguments[ke+2];le.children=qe}if(T&&T.defaultProps)for(J in Oe=T.defaultProps,Oe)le[J]===void 0&&(le[J]=Oe[J]);return X(T,Ne,le)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(T){return{$$typeof:m,render:T}},Ue.isValidElement=me,Ue.lazy=function(T){return{$$typeof:x,_payload:{_status:-1,_result:T},_init:ce}},Ue.memo=function(T,$){return{$$typeof:p,type:T,compare:$===void 0?null:$}},Ue.startTransition=function(T){var $=ae.T,Y={};ae.T=Y;try{var J=T(),le=ae.S;le!==null&&le(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ge,ve)}catch(Ne){ve(Ne)}finally{$!==null&&Y.types!==null&&($.types=Y.types),ae.T=$}},Ue.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ue.use=function(T){return ae.H.use(T)},Ue.useActionState=function(T,$,Y){return ae.H.useActionState(T,$,Y)},Ue.useCallback=function(T,$){return ae.H.useCallback(T,$)},Ue.useContext=function(T){return ae.H.useContext(T)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(T,$){return ae.H.useDeferredValue(T,$)},Ue.useEffect=function(T,$){return ae.H.useEffect(T,$)},Ue.useEffectEvent=function(T){return ae.H.useEffectEvent(T)},Ue.useId=function(){return ae.H.useId()},Ue.useImperativeHandle=function(T,$,Y){return ae.H.useImperativeHandle(T,$,Y)},Ue.useInsertionEffect=function(T,$){return ae.H.useInsertionEffect(T,$)},Ue.useLayoutEffect=function(T,$){return ae.H.useLayoutEffect(T,$)},Ue.useMemo=function(T,$){return ae.H.useMemo(T,$)},Ue.useOptimistic=function(T,$){return ae.H.useOptimistic(T,$)},Ue.useReducer=function(T,$,Y){return ae.H.useReducer(T,$,Y)},Ue.useRef=function(T){return ae.H.useRef(T)},Ue.useState=function(T){return ae.H.useState(T)},Ue.useSyncExternalStore=function(T,$,Y){return ae.H.useSyncExternalStore(T,$,Y)},Ue.useTransition=function(){return ae.H.useTransition()},Ue.version="19.2.0",Ue}var Sp;function td(){return Sp||(Sp=1,Cu.exports=oj()),Cu.exports}var j=td();const mn=Tg(j);var Eu={exports:{}},cl={},Tu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function uj(){return wp||(wp=1,(function(a){function i(w,W){var ce=w.length;w.push(W);e:for(;0<ce;){var ve=ce-1>>>1,Te=w[ve];if(0<u(Te,W))w[ve]=W,w[ce]=Te,ce=ve;else break e}}function r(w){return w.length===0?null:w[0]}function c(w){if(w.length===0)return null;var W=w[0],ce=w.pop();if(ce!==W){w[0]=ce;e:for(var ve=0,Te=w.length,T=Te>>>1;ve<T;){var $=2*(ve+1)-1,Y=w[$],J=$+1,le=w[J];if(0>u(Y,ce))J<Te&&0>u(le,Y)?(w[ve]=le,w[J]=ce,ve=J):(w[ve]=Y,w[$]=ce,ve=$);else if(J<Te&&0>u(le,ce))w[ve]=le,w[J]=ce,ve=J;else break e}}return W}function u(w,W){var ce=w.sortIndex-W.sortIndex;return ce!==0?ce:w.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],p=[],x=1,y=null,N=3,A=!1,E=!1,C=!1,S=!1,z=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function V(w){for(var W=r(p);W!==null;){if(W.callback===null)c(p);else if(W.startTime<=w)c(p),W.sortIndex=W.expirationTime,i(g,W);else break;W=r(p)}}function te(w){if(C=!1,V(w),!E)if(r(g)!==null)E=!0,ge||(ge=!0,de());else{var W=r(p);W!==null&&ne(te,W.startTime-w)}}var ge=!1,ae=-1,oe=5,X=-1;function ye(){return S?!0:!(a.unstable_now()-X<oe)}function me(){if(S=!1,ge){var w=a.unstable_now();X=w;var W=!0;try{e:{E=!1,C&&(C=!1,O(ae),ae=-1),A=!0;var ce=N;try{t:{for(V(w),y=r(g);y!==null&&!(y.expirationTime>w&&ye());){var ve=y.callback;if(typeof ve=="function"){y.callback=null,N=y.priorityLevel;var Te=ve(y.expirationTime<=w);if(w=a.unstable_now(),typeof Te=="function"){y.callback=Te,V(w),W=!0;break t}y===r(g)&&c(g),V(w)}else c(g);y=r(g)}if(y!==null)W=!0;else{var T=r(p);T!==null&&ne(te,T.startTime-w),W=!1}}break e}finally{y=null,N=ce,A=!1}W=void 0}}finally{W?de():ge=!1}}}var de;if(typeof q=="function")de=function(){q(me)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,k=pe.port2;pe.port1.onmessage=me,de=function(){k.postMessage(null)}}else de=function(){z(me,0)};function ne(w,W){ae=z(function(){w(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(w){w.callback=null},a.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<w?Math.floor(1e3/w):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(w){switch(N){case 1:case 2:case 3:var W=3;break;default:W=N}var ce=N;N=W;try{return w()}finally{N=ce}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(w,W){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var ce=N;N=w;try{return W()}finally{N=ce}},a.unstable_scheduleCallback=function(w,W,ce){var ve=a.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ve+ce:ve):ce=ve,w){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ce+Te,w={id:x++,callback:W,priorityLevel:w,startTime:ce,expirationTime:Te,sortIndex:-1},ce>ve?(w.sortIndex=ce,i(p,w),r(g)===null&&w===r(p)&&(C?(O(ae),ae=-1):C=!0,ne(te,ce-ve))):(w.sortIndex=Te,i(g,w),E||A||(E=!0,ge||(ge=!0,de()))),w},a.unstable_shouldYield=ye,a.unstable_wrapCallback=function(w){var W=N;return function(){var ce=N;N=W;try{return w.apply(this,arguments)}finally{N=ce}}}})(Ru)),Ru}var Cp;function dj(){return Cp||(Cp=1,Tu.exports=uj()),Tu.exports}var Au={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function hj(){if(Ep)return Wt;Ep=1;var a=td();function i(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(g,p,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:g,containerInfo:p,implementation:x}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Wt.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return h(g,p,null,x)},Wt.flushSync=function(g){var p=f.T,x=c.p;try{if(f.T=null,c.p=2,g)return g()}finally{f.T=p,c.p=x,c.d.f()}},Wt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(g,p))},Wt.prefetchDNS=function(g){typeof g=="string"&&c.d.D(g)},Wt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,y=m(x,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?c.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:N,fetchPriority:A}):x==="script"&&c.d.X(g,{crossOrigin:y,integrity:N,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Wt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);c.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(g)},Wt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,y=m(x,p.crossOrigin);c.d.L(g,x,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Wt.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);c.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(g)},Wt.requestFormReset=function(g){c.d.r(g)},Wt.unstable_batchedUpdates=function(g,p){return g(p)},Wt.useFormState=function(g,p,x){return f.H.useFormState(g,p,x)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var Tp;function fj(){if(Tp)return Au.exports;Tp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Au.exports=hj(),Au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function mj(){if(Rp)return cl;Rp=1;var a=dj(),i=td(),r=fj();function c(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(c(188))}function p(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(c(188));return n!==e?null:e}for(var s=e,l=n;;){var o=s.return;if(o===null)break;var d=o.alternate;if(d===null){if(l=o.return,l!==null){s=l;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===s)return g(o),e;if(d===l)return g(o),n;d=d.sibling}throw Error(c(188))}if(s.return!==l.return)s=o,l=d;else{for(var v=!1,_=o.child;_;){if(_===s){v=!0,s=o,l=d;break}if(_===l){v=!0,l=o,s=d;break}_=_.sibling}if(!v){for(_=d.child;_;){if(_===s){v=!0,s=d,l=o;break}if(_===l){v=!0,l=d,s=o;break}_=_.sibling}if(!v)throw Error(c(189))}}if(s.alternate!==l)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,N=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),q=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function k(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case z:return"Profiler";case S:return"StrictMode";case te:return"Suspense";case ge:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case q:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:k(e.type)||"Memo";case oe:n=e._payload,e=e._init;try{return k(e(n))}catch{}}return null}var ne=Array.isArray,w=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ve=[],Te=-1;function T(e){return{current:e}}function $(e){0>Te||(e.current=ve[Te],ve[Te]=null,Te--)}function Y(e,n){Te++,ve[Te]=e.current,e.current=n}var J=T(null),le=T(null),Ne=T(null),Oe=T(null);function qe(e,n){switch(Y(Ne,n),Y(le,e),Y(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Vm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Vm(n),e=$m(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(J),Y(J,e)}function ke(){$(J),$(le),$(Ne)}function Ze(e){e.memoizedState!==null&&Y(Oe,e);var n=J.current,s=$m(n,e.type);n!==s&&(Y(le,e),Y(J,s))}function Yt(e){le.current===e&&($(J),$(le)),Oe.current===e&&($(Oe),al._currentValue=ce)}var pt,Pe;function it(e){if(pt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);pt=n&&n[1]||"",Pe=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+e+Pe}var Me=!1;function gt(e,n){if(!e||Me)return"";Me=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Z){var Q=Z}Reflect.construct(e,[],re)}else{try{re.call()}catch(Z){Q=Z}e.call(re.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],_=d[1];if(v&&_){var R=v.split(`
`),H=_.split(`
`);for(o=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;o<H.length&&!H[o].includes("DetermineComponentFrameRoot");)o++;if(l===R.length||o===H.length)for(l=R.length-1,o=H.length-1;1<=l&&0<=o&&R[l]!==H[o];)o--;for(;1<=l&&0<=o;l--,o--)if(R[l]!==H[o]){if(l!==1||o!==1)do if(l--,o--,0>o||R[l]!==H[o]){var ee=`
`+R[l].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=l&&0<=o);break}}}finally{Me=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?it(s):""}function Nt(e,n){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return e.child!==n&&n!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return gt(e.type,!1);case 11:return gt(e.type.render,!1);case 1:return gt(e.type,!0);case 31:return it("Activity");default:return""}}function _e(e){try{var n="",s=null;do n+=Nt(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tt=Object.prototype.hasOwnProperty,D=a.unstable_scheduleCallback,B=a.unstable_cancelCallback,P=a.unstable_shouldYield,he=a.unstable_requestPaint,se=a.unstable_now,I=a.unstable_getCurrentPriorityLevel,Se=a.unstable_ImmediatePriority,U=a.unstable_UserBlockingPriority,xe=a.unstable_NormalPriority,Qe=a.unstable_LowPriority,nt=a.unstable_IdlePriority,vt=a.log,en=a.unstable_setDisableYieldValue,ht=null,Je=null;function dt(e){if(typeof vt=="function"&&en(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(ht,e)}catch{}}var b=Math.clz32?Math.clz32:je,Ee=Math.log,fe=Math.LN2;function je(e){return e>>>=0,e===0?32:31-(Ee(e)/fe|0)|0}var Le=256,_t=262144,ot=4194304;function an(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sa(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var o=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~d,l!==0?o=an(l):(v&=_,v!==0?o=an(v):s||(s=_&~e,s!==0&&(o=an(s))))):(_=l&~d,_!==0?o=an(_):v!==0?o=an(v):s||(s=l&~e,s!==0&&(o=an(s)))),o===0?0:n!==0&&n!==o&&(n&d)===0&&(d=o&-o,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:o}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var e=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),e}function vi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function K(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function St(e,n,s,l,o,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,R=e.expirationTimes,H=e.hiddenUpdates;for(s=v&~s;0<s;){var ee=31-b(s),re=1<<ee;_[ee]=0,R[ee]=-1;var Q=H[ee];if(Q!==null)for(H[ee]=null,ee=0;ee<Q.length;ee++){var Z=Q[ee];Z!==null&&(Z.lane&=-536870913)}s&=~re}l!==0&&ln(e,l,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function ln(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-b(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function En(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-b(s),o=1<<l;o&n|e[l]&n&&(e[l]|=n),s&=~o}}function Ed(e,n){var s=n&-n;return s=(s&42)!==0?1:fc(s),(s&(e.suspendedLanes|n))!==0?0:s}function fc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Td(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:mp(e.type))}function Rd(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var wa=Math.random().toString(36).slice(2),Gt="__reactFiber$"+wa,rn="__reactProps$"+wa,Ns="__reactContainer$"+wa,pc="__reactEvents$"+wa,Pv="__reactListeners$"+wa,Jv="__reactHandles$"+wa,Ad="__reactResources$"+wa,xi="__reactMarker$"+wa;function gc(e){delete e[Gt],delete e[rn],delete e[pc],delete e[Pv],delete e[Jv]}function Ss(e){var n=e[Gt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ns]||s[Gt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Wm(e);e!==null;){if(s=e[Gt])return s;e=Wm(e)}return n}e=s,s=e.parentNode}return null}function ws(e){if(e=e[Gt]||e[Ns]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(c(33))}function Cs(e){var n=e[Ad];return n||(n=e[Ad]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qt(e){e[xi]=!0}var Dd=new Set,Od={};function Wa(e,n){Es(e,n),Es(e+"Capture",n)}function Es(e,n){for(Od[e]=n,e=0;e<n.length;e++)Dd.add(n[e])}var Wv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Md={},kd={};function Iv(e){return tt.call(kd,e)?!0:tt.call(Md,e)?!1:Wv.test(e)?kd[e]=!0:(Md[e]=!0,!1)}function El(e,n,s){if(Iv(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Tl(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function na(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ex(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function vc(e){if(!e._valueTracker){var n=zd(e)?"checked":"value";e._valueTracker=ex(e,n,""+e[n])}}function qd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=zd(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tx=/[\n"\\]/g;function Rn(e){return e.replace(tx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xc(e,n,s,l,o,d,v,_){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Tn(n)):e.value!==""+Tn(n)&&(e.value=""+Tn(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?yc(e,v,Tn(n)):s!=null?yc(e,v,Tn(s)):l!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Tn(_):e.removeAttribute("name")}function Ud(e,n,s,l,o,d,v,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){vc(e);return}s=s!=null?""+Tn(s):"",n=n!=null?""+Tn(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),vc(e)}function yc(e,n,s){n==="number"&&Rl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ts(e,n,s,l){if(e=e.options,n){n={};for(var o=0;o<s.length;o++)n["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=n.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Tn(s),n=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function Ld(e,n,s){if(n!=null&&(n=""+Tn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Tn(s):""}function Bd(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(c(92));if(ne(l)){if(1<l.length)throw Error(c(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Tn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),vc(e)}function Rs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var nx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||nx.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Hd(e,n,s){if(n!=null&&typeof n!="object")throw Error(c(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in n)l=n[o],n.hasOwnProperty(o)&&s[o]!==l&&Fd(e,o,l)}else for(var d in n)n.hasOwnProperty(d)&&Fd(e,d,n[d])}function jc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ax=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(e){return sx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function aa(){}var bc=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,Ds=null;function Qd(e){var n=ws(e);if(n&&(e=n.stateNode)){var s=e[rn]||null;e:switch(e=n.stateNode,n.type){case"input":if(xc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var o=l[rn]||null;if(!o)throw Error(c(90));xc(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&qd(l)}break e;case"textarea":Ld(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ts(e,!!s.multiple,n,!1)}}}var Nc=!1;function Kd(e,n,s){if(Nc)return e(n,s);Nc=!0;try{var l=e(n);return l}finally{if(Nc=!1,(As!==null||Ds!==null)&&(vr(),As&&(n=As,e=Ds,Ds=As=null,Qd(n),e)))for(n=0;n<e.length;n++)Qd(e[n])}}function ji(e,n){var s=e.stateNode;if(s===null)return null;var l=s[rn]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(c(231,n,typeof s));return s}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(sa)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Sc=!1}var Ca=null,wc=null,Dl=null;function Vd(){if(Dl)return Dl;var e,n=wc,s=n.length,l,o="value"in Ca?Ca.value:Ca.textContent,d=o.length;for(e=0;e<s&&n[e]===o[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===o[d-l];l++);return Dl=o.slice(e,1<l?1-l:void 0)}function Ol(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function $d(){return!1}function cn(e){function n(s,l,o,d,v){this._reactName=s,this._targetInst=o,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ml:$d,this.isPropagationStopped=$d,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=cn(Ia),_i=y({},Ia,{view:0,detail:0}),ix=cn(_i),Cc,Ec,Ni,zl=y({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(Cc=e.screenX-Ni.screenX,Ec=e.screenY-Ni.screenY):Ec=Cc=0,Ni=e),Cc)},movementY:function(e){return"movementY"in e?e.movementY:Ec}}),Yd=cn(zl),lx=y({},zl,{dataTransfer:0}),rx=cn(lx),cx=y({},_i,{relatedTarget:0}),Tc=cn(cx),ox=y({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),ux=cn(ox),dx=y({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hx=cn(dx),fx=y({},Ia,{data:0}),Gd=cn(fx),mx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},px={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gx[e])?!!n[e]:!1}function Rc(){return vx}var xx=y({},_i,{key:function(e){if(e.key){var n=mx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?px[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(e){return e.type==="keypress"?Ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yx=cn(xx),jx=y({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=cn(jx),bx=y({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),_x=cn(bx),Nx=y({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sx=cn(Nx),wx=y({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cx=cn(wx),Ex=y({},Ia,{newState:0,oldState:0}),Tx=cn(Ex),Rx=[9,13,27,32],Ac=sa&&"CompositionEvent"in window,Si=null;sa&&"documentMode"in document&&(Si=document.documentMode);var Ax=sa&&"TextEvent"in window&&!Si,Zd=sa&&(!Ac||Si&&8<Si&&11>=Si),Pd=" ",Jd=!1;function Wd(e,n){switch(e){case"keyup":return Rx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function Dx(e,n){switch(e){case"compositionend":return Id(n);case"keypress":return n.which!==32?null:(Jd=!0,Pd);case"textInput":return e=n.data,e===Pd&&Jd?null:e;default:return null}}function Ox(e,n){if(Os)return e==="compositionend"||!Ac&&Wd(e,n)?(e=Vd(),Dl=wc=Ca=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zd&&n.locale!=="ko"?null:n.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Mx[e.type]:n==="textarea"}function th(e,n,s,l){As?Ds?Ds.push(l):Ds=[l]:As=l,n=Sr(n,"onChange"),0<n.length&&(s=new kl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var wi=null,Ci=null;function kx(e){Lm(e,0)}function ql(e){var n=yi(e);if(qd(n))return e}function nh(e,n){if(e==="change")return n}var ah=!1;if(sa){var Dc;if(sa){var Oc="oninput"in document;if(!Oc){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Oc=typeof sh.oninput=="function"}Dc=Oc}else Dc=!1;ah=Dc&&(!document.documentMode||9<document.documentMode)}function ih(){wi&&(wi.detachEvent("onpropertychange",lh),Ci=wi=null)}function lh(e){if(e.propertyName==="value"&&ql(Ci)){var n=[];th(n,Ci,e,_c(e)),Kd(kx,n)}}function zx(e,n,s){e==="focusin"?(ih(),wi=n,Ci=s,wi.attachEvent("onpropertychange",lh)):e==="focusout"&&ih()}function qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(Ci)}function Ux(e,n){if(e==="click")return ql(n)}function Lx(e,n){if(e==="input"||e==="change")return ql(n)}function Bx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:Bx;function Ei(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var o=s[l];if(!tt.call(n,o)||!yn(e[o],n[o]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ch(e,n){var s=rh(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rh(s)}}function oh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?oh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function uh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Rl(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Rl(e.document)}return n}function Mc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Fx=sa&&"documentMode"in document&&11>=document.documentMode,Ms=null,kc=null,Ti=null,zc=!1;function dh(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zc||Ms==null||Ms!==Rl(l)||(l=Ms,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ti&&Ei(Ti,l)||(Ti=l,l=Sr(kc,"onSelect"),0<l.length&&(n=new kl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ms)))}function es(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ks={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},qc={},hh={};sa&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function ts(e){if(qc[e])return qc[e];if(!ks[e])return e;var n=ks[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in hh)return qc[e]=n[s];return e}var fh=ts("animationend"),mh=ts("animationiteration"),ph=ts("animationstart"),Hx=ts("transitionrun"),Qx=ts("transitionstart"),Kx=ts("transitioncancel"),gh=ts("transitionend"),vh=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Qn(e,n){vh.set(e,n),Wa(n,[e])}var Ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},An=[],zs=0,Lc=0;function Ll(){for(var e=zs,n=Lc=zs=0;n<e;){var s=An[n];An[n++]=null;var l=An[n];An[n++]=null;var o=An[n];An[n++]=null;var d=An[n];if(An[n++]=null,l!==null&&o!==null){var v=l.pending;v===null?o.next=o:(o.next=v.next,v.next=o),l.pending=o}d!==0&&xh(s,o,d)}}function Bl(e,n,s,l){An[zs++]=e,An[zs++]=n,An[zs++]=s,An[zs++]=l,Lc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bc(e,n,s,l){return Bl(e,n,s,l),Fl(e)}function ns(e,n){return Bl(e,null,null,n),Fl(e)}function xh(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var o=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&n!==null&&(o=31-b(s),e=d.hiddenUpdates,l=e[o],l===null?e[o]=[n]:l.push(n),n.lane=s|536870912),d):null}function Fl(e){if(50<Pi)throw Pi=0,Zo=null,Error(c(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var qs={};function Vx(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,n,s,l){return new Vx(e,n,s,l)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,n){var s=e.alternate;return s===null?(s=jn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yh(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hl(e,n,s,l,o,d){var v=0;if(l=e,typeof e=="function")Fc(e)&&(v=1);else if(typeof e=="string")v=Zy(e,s,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=jn(31,s,n,o),e.elementType=X,e.lanes=d,e;case C:return as(s.children,o,d,n);case S:v=8,o|=24;break;case z:return e=jn(12,s,n,o|2),e.elementType=z,e.lanes=d,e;case te:return e=jn(13,s,n,o),e.elementType=te,e.lanes=d,e;case ge:return e=jn(19,s,n,o),e.elementType=ge,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:v=10;break e;case O:v=9;break e;case V:v=11;break e;case ae:v=14;break e;case oe:v=16,l=null;break e}v=29,s=Error(c(130,e===null?"null":typeof e,"")),l=null}return n=jn(v,s,n,o),n.elementType=e,n.type=l,n.lanes=d,n}function as(e,n,s,l){return e=jn(7,e,l,n),e.lanes=s,e}function Hc(e,n,s){return e=jn(6,e,null,n),e.lanes=s,e}function jh(e){var n=jn(18,null,null,0);return n.stateNode=e,n}function Qc(e,n,s){return n=jn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bh=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=bh.get(e);return s!==void 0?s:(n={value:e,source:n,stack:_e(n)},bh.set(e,n),n)}return{value:e,source:n,stack:_e(n)}}var Us=[],Ls=0,Ql=null,Ri=0,On=[],Mn=0,Ea=null,Pn=1,Jn="";function la(e,n){Us[Ls++]=Ri,Us[Ls++]=Ql,Ql=e,Ri=n}function _h(e,n,s){On[Mn++]=Pn,On[Mn++]=Jn,On[Mn++]=Ea,Ea=e;var l=Pn;e=Jn;var o=32-b(l)-1;l&=~(1<<o),s+=1;var d=32-b(n)+o;if(30<d){var v=o-o%5;d=(l&(1<<v)-1).toString(32),l>>=v,o-=v,Pn=1<<32-b(n)+o|s<<o|l,Jn=d+e}else Pn=1<<d|s<<o|l,Jn=e}function Kc(e){e.return!==null&&(la(e,1),_h(e,1,0))}function Vc(e){for(;e===Ql;)Ql=Us[--Ls],Us[Ls]=null,Ri=Us[--Ls],Us[Ls]=null;for(;e===Ea;)Ea=On[--Mn],On[Mn]=null,Jn=On[--Mn],On[Mn]=null,Pn=On[--Mn],On[Mn]=null}function Nh(e,n){On[Mn++]=Pn,On[Mn++]=Jn,On[Mn++]=Ea,Pn=n.id,Jn=n.overflow,Ea=e}var Xt=null,ft=null,Xe=!1,Ta=null,kn=!1,$c=Error(c(519));function Ra(e){var n=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ai(Dn(n,e)),$c}function Sh(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Gt]=e,n[rn]=l,s){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(s=0;s<Wi.length;s++)Ve(Wi[s],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),Ud(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Bd(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Qm(n.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=aa),n=!0):n=!1,n||Ra(e,!0)}function wh(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Xt=Xt.return}}function Bs(e){if(e!==Xt)return!1;if(!Xe)return wh(e),Xe=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||uu(e.type,e.memoizedProps)),s=!s),s&&ft&&Ra(e),wh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));ft=Jm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));ft=Jm(e)}else n===27?(n=ft,Ka(e.type)?(e=pu,pu=null,ft=e):ft=n):ft=Xt?qn(e.stateNode.nextSibling):null;return!0}function ss(){ft=Xt=null,Xe=!1}function Yc(){var e=Ta;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Ta=null),e}function Ai(e){Ta===null?Ta=[e]:Ta.push(e)}var Gc=T(null),is=null,ra=null;function Aa(e,n,s){Y(Gc,n._currentValue),n._currentValue=s}function ca(e){e._currentValue=Gc.current,$(Gc)}function Xc(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Zc(e,n,s,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var v=o.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=o;for(var R=0;R<n.length;R++)if(_.context===n[R]){d.lanes|=s,_=d.alternate,_!==null&&(_.lanes|=s),Xc(d.return,s,e),l||(v=null);break e}d=_.next}}else if(o.tag===18){if(v=o.return,v===null)throw Error(c(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Xc(v,s,e),v=null}else v=o.child;if(v!==null)v.return=o;else for(v=o;v!==null;){if(v===e){v=null;break}if(o=v.sibling,o!==null){o.return=v.return,v=o;break}v=v.return}o=v}}function Fs(e,n,s,l){e=null;for(var o=n,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var v=o.alternate;if(v===null)throw Error(c(387));if(v=v.memoizedProps,v!==null){var _=o.type;yn(o.pendingProps.value,v.value)||(e!==null?e.push(_):e=[_])}}else if(o===Oe.current){if(v=o.alternate,v===null)throw Error(c(387));v.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}o=o.return}e!==null&&Zc(n,e,s,l),n.flags|=262144}function Kl(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ls(e){is=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return Ch(is,e)}function Vl(e,n){return is===null&&ls(e),Ch(e,n)}function Ch(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ra===null){if(e===null)throw Error(c(308));ra=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ra=ra.next=n;return s}var $x=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Yx=a.unstable_scheduleCallback,Gx=a.unstable_NormalPriority,Ot={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new $x,data:new Map,refCount:0}}function Di(e){e.refCount--,e.refCount===0&&Yx(Gx,function(){e.controller.abort()})}var Oi=null,Jc=0,Hs=0,Qs=null;function Xx(e,n){if(Oi===null){var s=Oi=[];Jc=0,Hs=tu(),Qs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jc++,n.then(Eh,Eh),n}function Eh(){if(--Jc===0&&Oi!==null){Qs!==null&&(Qs.status="fulfilled");var e=Oi;Oi=null,Hs=0,Qs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Zx(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(o){s.push(o)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var o=0;o<s.length;o++)(0,s[o])(n)},function(o){for(l.status="rejected",l.reason=o,o=0;o<s.length;o++)(0,s[o])(void 0)}),l}var Th=w.S;w.S=function(e,n){hm=se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Xx(e,n),Th!==null&&Th(e,n)};var rs=T(null);function Wc(){var e=rs.current;return e!==null?e:ut.pooledCache}function $l(e,n){n===null?Y(rs,rs.current):Y(rs,n.pool)}function Rh(){var e=Wc();return e===null?null:{parent:Ot._currentValue,pool:e}}var Ks=Error(c(460)),Ic=Error(c(474)),Yl=Error(c(542)),Gl={then:function(){}};function Ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dh(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(aa,aa),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mh(e),e;default:if(typeof n.status=="string")n.then(aa,aa);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var o=n;o.status="fulfilled",o.value=l}},function(l){if(n.status==="pending"){var o=n;o.status="rejected",o.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mh(e),e}throw os=n,Ks}}function cs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(os=s,Ks):s}}var os=null;function Oh(){if(os===null)throw Error(c(459));var e=os;return os=null,e}function Mh(e){if(e===Ks||e===Yl)throw Error(c(483))}var Vs=null,Mi=0;function Xl(e){var n=Mi;return Mi+=1,Vs===null&&(Vs=[]),Dh(Vs,e,n)}function ki(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Zl(e,n){throw n.$$typeof===N?Error(c(525)):(e=Object.prototype.toString.call(n),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kh(e){function n(L,M){if(e){var F=L.deletions;F===null?(L.deletions=[M],L.flags|=16):F.push(M)}}function s(L,M){if(!e)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function o(L,M){return L=ia(L,M),L.index=0,L.sibling=null,L}function d(L,M,F){return L.index=F,e?(F=L.alternate,F!==null?(F=F.index,F<M?(L.flags|=67108866,M):F):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function _(L,M,F,ie){return M===null||M.tag!==6?(M=Hc(F,L.mode,ie),M.return=L,M):(M=o(M,F),M.return=L,M)}function R(L,M,F,ie){var De=F.type;return De===C?ee(L,M,F.props.children,ie,F.key):M!==null&&(M.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===oe&&cs(De)===M.type)?(M=o(M,F.props),ki(M,F),M.return=L,M):(M=Hl(F.type,F.key,F.props,null,L.mode,ie),ki(M,F),M.return=L,M)}function H(L,M,F,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=Qc(F,L.mode,ie),M.return=L,M):(M=o(M,F.children||[]),M.return=L,M)}function ee(L,M,F,ie,De){return M===null||M.tag!==7?(M=as(F,L.mode,ie,De),M.return=L,M):(M=o(M,F),M.return=L,M)}function re(L,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hc(""+M,L.mode,F),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return F=Hl(M.type,M.key,M.props,null,L.mode,F),ki(F,M),F.return=L,F;case E:return M=Qc(M,L.mode,F),M.return=L,M;case oe:return M=cs(M),re(L,M,F)}if(ne(M)||de(M))return M=as(M,L.mode,F,null),M.return=L,M;if(typeof M.then=="function")return re(L,Xl(M),F);if(M.$$typeof===q)return re(L,Vl(L,M),F);Zl(L,M)}return null}function Q(L,M,F,ie){var De=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return De!==null?null:_(L,M,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===De?R(L,M,F,ie):null;case E:return F.key===De?H(L,M,F,ie):null;case oe:return F=cs(F),Q(L,M,F,ie)}if(ne(F)||de(F))return De!==null?null:ee(L,M,F,ie,null);if(typeof F.then=="function")return Q(L,M,Xl(F),ie);if(F.$$typeof===q)return Q(L,M,Vl(L,F),ie);Zl(L,F)}return null}function Z(L,M,F,ie,De){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return L=L.get(F)||null,_(M,L,""+ie,De);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return L=L.get(ie.key===null?F:ie.key)||null,R(M,L,ie,De);case E:return L=L.get(ie.key===null?F:ie.key)||null,H(M,L,ie,De);case oe:return ie=cs(ie),Z(L,M,F,ie,De)}if(ne(ie)||de(ie))return L=L.get(F)||null,ee(M,L,ie,De,null);if(typeof ie.then=="function")return Z(L,M,F,Xl(ie),De);if(ie.$$typeof===q)return Z(L,M,F,Vl(M,ie),De);Zl(M,ie)}return null}function we(L,M,F,ie){for(var De=null,We=null,Re=M,He=M=0,Ge=null;Re!==null&&He<F.length;He++){Re.index>He?(Ge=Re,Re=null):Ge=Re.sibling;var Ie=Q(L,Re,F[He],ie);if(Ie===null){Re===null&&(Re=Ge);break}e&&Re&&Ie.alternate===null&&n(L,Re),M=d(Ie,M,He),We===null?De=Ie:We.sibling=Ie,We=Ie,Re=Ge}if(He===F.length)return s(L,Re),Xe&&la(L,He),De;if(Re===null){for(;He<F.length;He++)Re=re(L,F[He],ie),Re!==null&&(M=d(Re,M,He),We===null?De=Re:We.sibling=Re,We=Re);return Xe&&la(L,He),De}for(Re=l(Re);He<F.length;He++)Ge=Z(Re,L,He,F[He],ie),Ge!==null&&(e&&Ge.alternate!==null&&Re.delete(Ge.key===null?He:Ge.key),M=d(Ge,M,He),We===null?De=Ge:We.sibling=Ge,We=Ge);return e&&Re.forEach(function(Xa){return n(L,Xa)}),Xe&&la(L,He),De}function ze(L,M,F,ie){if(F==null)throw Error(c(151));for(var De=null,We=null,Re=M,He=M=0,Ge=null,Ie=F.next();Re!==null&&!Ie.done;He++,Ie=F.next()){Re.index>He?(Ge=Re,Re=null):Ge=Re.sibling;var Xa=Q(L,Re,Ie.value,ie);if(Xa===null){Re===null&&(Re=Ge);break}e&&Re&&Xa.alternate===null&&n(L,Re),M=d(Xa,M,He),We===null?De=Xa:We.sibling=Xa,We=Xa,Re=Ge}if(Ie.done)return s(L,Re),Xe&&la(L,He),De;if(Re===null){for(;!Ie.done;He++,Ie=F.next())Ie=re(L,Ie.value,ie),Ie!==null&&(M=d(Ie,M,He),We===null?De=Ie:We.sibling=Ie,We=Ie);return Xe&&la(L,He),De}for(Re=l(Re);!Ie.done;He++,Ie=F.next())Ie=Z(Re,L,He,Ie.value,ie),Ie!==null&&(e&&Ie.alternate!==null&&Re.delete(Ie.key===null?He:Ie.key),M=d(Ie,M,He),We===null?De=Ie:We.sibling=Ie,We=Ie);return e&&Re.forEach(function(lj){return n(L,lj)}),Xe&&la(L,He),De}function ct(L,M,F,ie){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var De=F.key;M!==null;){if(M.key===De){if(De=F.type,De===C){if(M.tag===7){s(L,M.sibling),ie=o(M,F.props.children),ie.return=L,L=ie;break e}}else if(M.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===oe&&cs(De)===M.type){s(L,M.sibling),ie=o(M,F.props),ki(ie,F),ie.return=L,L=ie;break e}s(L,M);break}else n(L,M);M=M.sibling}F.type===C?(ie=as(F.props.children,L.mode,ie,F.key),ie.return=L,L=ie):(ie=Hl(F.type,F.key,F.props,null,L.mode,ie),ki(ie,F),ie.return=L,L=ie)}return v(L);case E:e:{for(De=F.key;M!==null;){if(M.key===De)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){s(L,M.sibling),ie=o(M,F.children||[]),ie.return=L,L=ie;break e}else{s(L,M);break}else n(L,M);M=M.sibling}ie=Qc(F,L.mode,ie),ie.return=L,L=ie}return v(L);case oe:return F=cs(F),ct(L,M,F,ie)}if(ne(F))return we(L,M,F,ie);if(de(F)){if(De=de(F),typeof De!="function")throw Error(c(150));return F=De.call(F),ze(L,M,F,ie)}if(typeof F.then=="function")return ct(L,M,Xl(F),ie);if(F.$$typeof===q)return ct(L,M,Vl(L,F),ie);Zl(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,M!==null&&M.tag===6?(s(L,M.sibling),ie=o(M,F),ie.return=L,L=ie):(s(L,M),ie=Hc(F,L.mode,ie),ie.return=L,L=ie),v(L)):s(L,M)}return function(L,M,F,ie){try{Mi=0;var De=ct(L,M,F,ie);return Vs=null,De}catch(Re){if(Re===Ks||Re===Yl)throw Re;var We=jn(29,Re,null,L.mode);return We.lanes=ie,We.return=L,We}finally{}}}var us=kh(!0),zh=kh(!1),Da=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function to(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var o=l.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),l.pending=n,n=Fl(e),xh(e,null,s),n}return Bl(e,l,n,s),Fl(e)}function zi(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,En(e,s)}}function no(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var o=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?o=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?o=d=n:d=d.next=n}else o=d=n;s={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ao=!1;function qi(){if(ao){var e=Qs;if(e!==null)throw e}}function Ui(e,n,s,l){ao=!1;var o=e.updateQueue;Da=!1;var d=o.firstBaseUpdate,v=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var R=_,H=R.next;R.next=null,v===null?d=H:v.next=H,v=R;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,_=ee.lastBaseUpdate,_!==v&&(_===null?ee.firstBaseUpdate=H:_.next=H,ee.lastBaseUpdate=R))}if(d!==null){var re=o.baseState;v=0,ee=H=R=null,_=d;do{var Q=_.lane&-536870913,Z=Q!==_.lane;if(Z?(Ye&Q)===Q:(l&Q)===Q){Q!==0&&Q===Hs&&(ao=!0),ee!==null&&(ee=ee.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var we=e,ze=_;Q=n;var ct=s;switch(ze.tag){case 1:if(we=ze.payload,typeof we=="function"){re=we.call(ct,re,Q);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ze.payload,Q=typeof we=="function"?we.call(ct,re,Q):we,Q==null)break e;re=y({},re,Q);break e;case 2:Da=!0}}Q=_.callback,Q!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=o.callbacks,Z===null?o.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ee===null?(H=ee=Z,R=re):ee=ee.next=Z,v|=Q;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;Z=_,_=Z.next,Z.next=null,o.lastBaseUpdate=Z,o.shared.pending=null}}while(!0);ee===null&&(R=re),o.baseState=R,o.firstBaseUpdate=H,o.lastBaseUpdate=ee,d===null&&(o.shared.lanes=0),La|=v,e.lanes=v,e.memoizedState=re}}function qh(e,n){if(typeof e!="function")throw Error(c(191,e));e.call(n)}function Uh(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)qh(s[e],n)}var $s=T(null),Pl=T(0);function Lh(e,n){e=va,Y(Pl,e),Y($s,n),va=e|n.baseLanes}function so(){Y(Pl,va),Y($s,$s.current)}function io(){va=Pl.current,$($s),$(Pl)}var bn=T(null),zn=null;function ka(e){var n=e.alternate;Y(Tt,Tt.current&1),Y(bn,e),zn===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(zn=e)}function lo(e){Y(Tt,Tt.current),Y(bn,e),zn===null&&(zn=e)}function Bh(e){e.tag===22?(Y(Tt,Tt.current),Y(bn,e),zn===null&&(zn=e)):za()}function za(){Y(Tt,Tt.current),Y(bn,bn.current)}function _n(e){$(bn),zn===e&&(zn=null),$(Tt)}var Tt=T(0);function Jl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fu(s)||mu(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var oa=0,Be=null,lt=null,Mt=null,Wl=!1,Ys=!1,ds=!1,Il=0,Li=0,Gs=null,Px=0;function wt(){throw Error(c(321))}function ro(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function co(e,n,s,l,o,d){return oa=d,Be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=e===null||e.memoizedState===null?Nf:So,ds=!1,d=s(l,o),ds=!1,Ys&&(d=Hh(n,s,l,o)),Fh(e),d}function Fh(e){w.H=Hi;var n=lt!==null&&lt.next!==null;if(oa=0,Mt=lt=Be=null,Wl=!1,Li=0,Gs=null,n)throw Error(c(300));e===null||kt||(e=e.dependencies,e!==null&&Kl(e)&&(kt=!0))}function Hh(e,n,s,l){Be=e;var o=0;do{if(Ys&&(Gs=null),Li=0,Ys=!1,25<=o)throw Error(c(301));if(o+=1,Mt=lt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Sf,d=n(s,l)}while(Ys);return d}function Jx(){var e=w.H,n=e.useState()[0];return n=typeof n.then=="function"?Bi(n):n,e=e.useState()[0],(lt!==null?lt.memoizedState:null)!==e&&(Be.flags|=1024),n}function oo(){var e=Il!==0;return Il=0,e}function uo(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ho(e){if(Wl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wl=!1}oa=0,Mt=lt=Be=null,Ys=!1,Li=Il=0,Gs=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Be.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Rt(){if(lt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var n=Mt===null?Be.memoizedState:Mt.next;if(n!==null)Mt=n,lt=e;else{if(e===null)throw Be.alternate===null?Error(c(467)):Error(c(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Mt===null?Be.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(e){var n=Li;return Li+=1,Gs===null&&(Gs=[]),e=Dh(Gs,e,n),n=Be,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?Nf:So),e}function tr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bi(e);if(e.$$typeof===q)return Zt(e)}throw Error(c(438,String(e)))}function fo(e){var n=null,s=Be.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(o){return o.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=er(),Be.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=ye;return n.index++,s}function ua(e,n){return typeof n=="function"?n(e):n}function nr(e){var n=Rt();return mo(n,lt,e)}function mo(e,n,s){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=s;var o=e.baseQueue,d=l.pending;if(d!==null){if(o!==null){var v=o.next;o.next=d.next,d.next=v}n.baseQueue=o=d,l.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{n=o.next;var _=v=null,R=null,H=n,ee=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(Ye&re)===re:(oa&re)===re){var Q=H.revertLane;if(Q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===Hs&&(ee=!0);else if((oa&Q)===Q){H=H.next,Q===Hs&&(ee=!0);continue}else re={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(_=R=re,v=d):R=R.next=re,Be.lanes|=Q,La|=Q;re=H.action,ds&&s(d,re),d=H.hasEagerState?H.eagerState:s(d,re)}else Q={lane:re,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(_=R=Q,v=d):R=R.next=Q,Be.lanes|=re,La|=re;H=H.next}while(H!==null&&H!==n);if(R===null?v=d:R.next=_,!yn(d,e.memoizedState)&&(kt=!0,ee&&(s=Qs,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function po(e){var n=Rt(),s=n.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=e;var l=s.dispatch,o=s.pending,d=n.memoizedState;if(o!==null){s.pending=null;var v=o=o.next;do d=e(d,v.action),v=v.next;while(v!==o);yn(d,n.memoizedState)||(kt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Qh(e,n,s){var l=Be,o=Rt(),d=Xe;if(d){if(s===void 0)throw Error(c(407));s=s()}else s=n();var v=!yn((lt||o).memoizedState,s);if(v&&(o.memoizedState=s,kt=!0),o=o.queue,xo($h.bind(null,l,o,e),[e]),o.getSnapshot!==n||v||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Xs(9,{destroy:void 0},Vh.bind(null,l,o,s,n),null),ut===null)throw Error(c(349));d||(oa&127)!==0||Kh(l,n,s)}return s}function Kh(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Be.updateQueue,n===null?(n=er(),Be.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Vh(e,n,s,l){n.value=s,n.getSnapshot=l,Yh(n)&&Gh(e)}function $h(e,n,s){return s(function(){Yh(n)&&Gh(e)})}function Yh(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function Gh(e){var n=ns(e,2);n!==null&&fn(n,e,2)}function go(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),ds){dt(!0);try{s()}finally{dt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},n}function Xh(e,n,s,l){return e.baseState=s,mo(e,lt,typeof l=="function"?l:ua)}function Wx(e,n,s,l,o){if(ir(e))throw Error(c(485));if(e=n.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,Zh(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Zh(e,n){var s=n.action,l=n.payload,o=e.state;if(n.isTransition){var d=w.T,v={};w.T=v;try{var _=s(o,l),R=w.S;R!==null&&R(v,_),Ph(e,n,_)}catch(H){vo(e,n,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),w.T=d}}else try{d=s(o,l),Ph(e,n,d)}catch(H){vo(e,n,H)}}function Ph(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Jh(e,n,l)},function(l){return vo(e,n,l)}):Jh(e,n,s)}function Jh(e,n,s){n.status="fulfilled",n.value=s,Wh(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Zh(e,s)))}function vo(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Wh(n),n=n.next;while(n!==l)}e.action=null}function Wh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ih(e,n){return n}function ef(e,n){if(Xe){var s=ut.formState;if(s!==null){e:{var l=Be;if(Xe){if(ft){t:{for(var o=ft,d=kn;o.nodeType!==8;){if(!d){o=null;break t}if(o=qn(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){ft=qn(o.nextSibling),l=o.data==="F!";break e}}Ra(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:n},s.queue=l,s=jf.bind(null,Be,l),l.dispatch=s,l=go(!1),d=No.bind(null,Be,!1,l.queue),l=tn(),o={state:n,dispatch:null,action:e,pending:null},l.queue=o,s=Wx.bind(null,Be,o,d,s),o.dispatch=s,l.memoizedState=e,[n,s,!1]}function tf(e){var n=Rt();return nf(n,lt,e)}function nf(e,n,s){if(n=mo(e,n,Ih)[0],e=nr(ua)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Bi(n)}catch(v){throw v===Ks?Yl:v}else l=n;n=Rt();var o=n.queue,d=o.dispatch;return s!==n.memoizedState&&(Be.flags|=2048,Xs(9,{destroy:void 0},Ix.bind(null,o,s),null)),[l,d,e]}function Ix(e,n){e.action=n}function af(e){var n=Rt(),s=lt;if(s!==null)return nf(n,s,e);Rt(),n=n.memoizedState,s=Rt();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Xs(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Be.updateQueue,n===null&&(n=er(),Be.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function sf(){return Rt().memoizedState}function ar(e,n,s,l){var o=tn();Be.flags|=e,o.memoizedState=Xs(1|n,{destroy:void 0},s,l===void 0?null:l)}function sr(e,n,s,l){var o=Rt();l=l===void 0?null:l;var d=o.memoizedState.inst;lt!==null&&l!==null&&ro(l,lt.memoizedState.deps)?o.memoizedState=Xs(n,d,s,l):(Be.flags|=e,o.memoizedState=Xs(1|n,d,s,l))}function lf(e,n){ar(8390656,8,e,n)}function xo(e,n){sr(2048,8,e,n)}function ey(e){Be.flags|=4;var n=Be.updateQueue;if(n===null)n=er(),Be.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function rf(e){var n=Rt().memoizedState;return ey({ref:n,nextImpl:e}),function(){if((et&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}function cf(e,n){return sr(4,2,e,n)}function of(e,n){return sr(4,4,e,n)}function uf(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function df(e,n,s){s=s!=null?s.concat([e]):null,sr(4,4,uf.bind(null,n,e),s)}function yo(){}function hf(e,n){var s=Rt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ro(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function ff(e,n){var s=Rt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ro(n,l[1]))return l[0];if(l=e(),ds){dt(!0);try{e()}finally{dt(!1)}}return s.memoizedState=[l,n],l}function jo(e,n,s){return s===void 0||(oa&1073741824)!==0&&(Ye&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=mm(),Be.lanes|=e,La|=e,s)}function mf(e,n,s,l){return yn(s,n)?s:$s.current!==null?(e=jo(e,s,l),yn(e,n)||(kt=!0),e):(oa&42)===0||(oa&1073741824)!==0&&(Ye&261930)===0?(kt=!0,e.memoizedState=s):(e=mm(),Be.lanes|=e,La|=e,n)}function pf(e,n,s,l,o){var d=W.p;W.p=d!==0&&8>d?d:8;var v=w.T,_={};w.T=_,No(e,!1,n,s);try{var R=o(),H=w.S;if(H!==null&&H(_,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ee=Zx(R,l);Fi(e,n,ee,wn(e))}else Fi(e,n,l,wn(e))}catch(re){Fi(e,n,{then:function(){},status:"rejected",reason:re},wn())}finally{W.p=d,v!==null&&_.types!==null&&(v.types=_.types),w.T=v}}function ty(){}function bo(e,n,s,l){if(e.tag!==5)throw Error(c(476));var o=gf(e).queue;pf(e,o,n,ce,s===null?ty:function(){return vf(e),s(l)})}function gf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vf(e){var n=gf(e);n.next===null&&(n=e.alternate.memoizedState),Fi(e,n.next.queue,{},wn())}function _o(){return Zt(al)}function xf(){return Rt().memoizedState}function yf(){return Rt().memoizedState}function ny(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=Oa(s);var l=Ma(n,e,s);l!==null&&(fn(l,n,s),zi(l,n,s)),n={cache:Pc()},e.payload=n;return}n=n.return}}function ay(e,n,s){var l=wn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ir(e)?bf(n,s):(s=Bc(e,n,s,l),s!==null&&(fn(s,e,l),_f(s,n,l)))}function jf(e,n,s){var l=wn();Fi(e,n,s,l)}function Fi(e,n,s,l){var o={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ir(e))bf(n,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,_=d(v,s);if(o.hasEagerState=!0,o.eagerState=_,yn(_,v))return Bl(e,n,o,0),ut===null&&Ll(),!1}catch{}finally{}if(s=Bc(e,n,o,l),s!==null)return fn(s,e,l),_f(s,n,l),!0}return!1}function No(e,n,s,l){if(l={lane:2,revertLane:tu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ir(e)){if(n)throw Error(c(479))}else n=Bc(e,s,l,2),n!==null&&fn(n,e,2)}function ir(e){var n=e.alternate;return e===Be||n!==null&&n===Be}function bf(e,n){Ys=Wl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _f(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,En(e,s)}}var Hi={readContext:Zt,use:tr,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Hi.useEffectEvent=wt;var Nf={readContext:Zt,use:tr,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Zt,useEffect:lf,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ar(4194308,4,uf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ar(4194308,4,e,n)},useInsertionEffect:function(e,n){ar(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var l=e();if(ds){dt(!0);try{e()}finally{dt(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=tn();if(s!==void 0){var o=s(n);if(ds){dt(!0);try{s(n)}finally{dt(!1)}}}else o=n;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=ay.bind(null,Be,e),[l.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=go(e);var n=e.queue,s=jf.bind(null,Be,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yo,useDeferredValue:function(e,n){var s=tn();return jo(s,e,n)},useTransition:function(){var e=go(!1);return e=pf.bind(null,Be,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Be,o=tn();if(Xe){if(s===void 0)throw Error(c(407));s=s()}else{if(s=n(),ut===null)throw Error(c(349));(Ye&127)!==0||Kh(l,n,s)}o.memoizedState=s;var d={value:s,getSnapshot:n};return o.queue=d,lf($h.bind(null,l,d,e),[e]),l.flags|=2048,Xs(9,{destroy:void 0},Vh.bind(null,l,d,s,n),null),s},useId:function(){var e=tn(),n=ut.identifierPrefix;if(Xe){var s=Jn,l=Pn;s=(l&~(1<<32-b(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Il++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Px++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_o,useFormState:ef,useActionState:ef,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=No.bind(null,Be,!0,s),s.dispatch=n,[e,n]},useMemoCache:fo,useCacheRefresh:function(){return tn().memoizedState=ny.bind(null,Be)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((et&2)!==0)throw Error(c(440));return s.impl.apply(void 0,arguments)}}},So={readContext:Zt,use:tr,useCallback:hf,useContext:Zt,useEffect:xo,useImperativeHandle:df,useInsertionEffect:cf,useLayoutEffect:of,useMemo:ff,useReducer:nr,useRef:sf,useState:function(){return nr(ua)},useDebugValue:yo,useDeferredValue:function(e,n){var s=Rt();return mf(s,lt.memoizedState,e,n)},useTransition:function(){var e=nr(ua)[0],n=Rt().memoizedState;return[typeof e=="boolean"?e:Bi(e),n]},useSyncExternalStore:Qh,useId:xf,useHostTransitionStatus:_o,useFormState:tf,useActionState:tf,useOptimistic:function(e,n){var s=Rt();return Xh(s,lt,e,n)},useMemoCache:fo,useCacheRefresh:yf};So.useEffectEvent=rf;var Sf={readContext:Zt,use:tr,useCallback:hf,useContext:Zt,useEffect:xo,useImperativeHandle:df,useInsertionEffect:cf,useLayoutEffect:of,useMemo:ff,useReducer:po,useRef:sf,useState:function(){return po(ua)},useDebugValue:yo,useDeferredValue:function(e,n){var s=Rt();return lt===null?jo(s,e,n):mf(s,lt.memoizedState,e,n)},useTransition:function(){var e=po(ua)[0],n=Rt().memoizedState;return[typeof e=="boolean"?e:Bi(e),n]},useSyncExternalStore:Qh,useId:xf,useHostTransitionStatus:_o,useFormState:af,useActionState:af,useOptimistic:function(e,n){var s=Rt();return lt!==null?Xh(s,lt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:fo,useCacheRefresh:yf};Sf.useEffectEvent=rf;function wo(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:y({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Co={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=wn(),o=Oa(l);o.payload=n,s!=null&&(o.callback=s),n=Ma(e,o,l),n!==null&&(fn(n,e,l),zi(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=wn(),o=Oa(l);o.tag=1,o.payload=n,s!=null&&(o.callback=s),n=Ma(e,o,l),n!==null&&(fn(n,e,l),zi(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),l=Oa(s);l.tag=2,n!=null&&(l.callback=n),n=Ma(e,l,s),n!==null&&(fn(n,e,s),zi(n,e,s))}};function wf(e,n,s,l,o,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!Ei(s,l)||!Ei(o,d):!0}function Cf(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Co.enqueueReplaceState(n,n.state,null)}function hs(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=y({},s));for(var o in e)s[o]===void 0&&(s[o]=e[o])}return s}function Ef(e){Ul(e)}function Tf(e){console.error(e)}function Rf(e){Ul(e)}function lr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Af(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Eo(e,n,s){return s=Oa(s),s.tag=3,s.payload={element:null},s.callback=function(){lr(e,n)},s}function Df(e){return e=Oa(e),e.tag=3,e}function Of(e,n,s,l){var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var d=l.value;e.payload=function(){return o(d)},e.callback=function(){Af(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Af(n,s,l),typeof o!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function sy(e,n,s,l,o){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Fs(n,s,o,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return zn===null?xr():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=o,l===Gl?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Wo(e,l,o)),!1;case 22:return s.flags|=65536,l===Gl?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Wo(e,l,o)),!1}throw Error(c(435,s.tag))}return Wo(e,l,o),xr(),!1}if(Xe)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=o,l!==$c&&(e=Error(c(422),{cause:l}),Ai(Dn(e,s)))):(l!==$c&&(n=Error(c(423),{cause:l}),Ai(Dn(n,s))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Dn(l,s),o=Eo(e.stateNode,l,o),no(e,o),Ct!==4&&(Ct=2)),!1;var d=Error(c(520),{cause:l});if(d=Dn(d,s),Zi===null?Zi=[d]:Zi.push(d),Ct!==4&&(Ct=2),n===null)return!0;l=Dn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=o&-o,s.lanes|=e,e=Eo(s.stateNode,l,e),no(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ba===null||!Ba.has(d))))return s.flags|=65536,o&=-o,s.lanes|=o,o=Df(o),Of(o,e,s,l),no(s,o),!1}s=s.return}while(s!==null);return!1}var To=Error(c(461)),kt=!1;function Pt(e,n,s,l){n.child=e===null?zh(n,null,s,l):us(n,e.child,s,l)}function Mf(e,n,s,l,o){s=s.render;var d=n.ref;if("ref"in l){var v={};for(var _ in l)_!=="ref"&&(v[_]=l[_])}else v=l;return ls(n),l=co(e,n,s,v,d,o),_=oo(),e!==null&&!kt?(uo(e,n,o),da(e,n,o)):(Xe&&_&&Kc(n),n.flags|=1,Pt(e,n,l,o),n.child)}function kf(e,n,s,l,o){if(e===null){var d=s.type;return typeof d=="function"&&!Fc(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,zf(e,n,d,l,o)):(e=Hl(s.type,null,l,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!qo(e,o)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ei,s(v,l)&&e.ref===n.ref)return da(e,n,o)}return n.flags|=1,e=ia(d,l),e.ref=n.ref,e.return=n,n.child=e}function zf(e,n,s,l,o){if(e!==null){var d=e.memoizedProps;if(Ei(d,l)&&e.ref===n.ref)if(kt=!1,n.pendingProps=l=d,qo(e,o))(e.flags&131072)!==0&&(kt=!0);else return n.lanes=e.lanes,da(e,n,o)}return Ro(e,n,s,l,o)}function qf(e,n,s,l){var o=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=n.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~d}else l=0,n.child=null;return Uf(e,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$l(n,d!==null?d.cachePool:null),d!==null?Lh(n,d):so(),Bh(n);else return l=n.lanes=536870912,Uf(e,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?($l(n,d.cachePool),Lh(n,d),za(),n.memoizedState=null):(e!==null&&$l(n,null),so(),za());return Pt(e,n,o,s),n.child}function Qi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Uf(e,n,s,l,o){var d=Wc();return d=d===null?null:{parent:Ot._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&$l(n,null),so(),Bh(n),e!==null&&Fs(e,n,l,!0),n.childLanes=o,null}function rr(e,n){return n=or({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Lf(e,n,s){return us(n,e.child,null,s),e=rr(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function iy(e,n,s){var l=n.pendingProps,o=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Xe){if(l.mode==="hidden")return e=rr(n,l),n.lanes=536870912,Qi(null,e);if(lo(n),(e=ft)?(e=Pm(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Pn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},s=jh(e),s.return=n,n.child=s,Xt=n,ft=null)):e=null,e===null)throw Ra(n);return n.lanes=536870912,null}return rr(n,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(lo(n),o)if(n.flags&256)n.flags&=-257,n=Lf(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(c(558));else if(kt||Fs(e,n,s,!1),o=(s&e.childLanes)!==0,kt||o){if(l=ut,l!==null&&(v=Ed(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,ns(e,v),fn(l,e,v),To;xr(),n=Lf(e,n,s)}else e=d.treeContext,ft=qn(v.nextSibling),Xt=n,Xe=!0,Ta=null,kn=!1,e!==null&&Nh(n,e),n=rr(n,l),n.flags|=4096;return n}return e=ia(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function cr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(c(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ro(e,n,s,l,o){return ls(n),s=co(e,n,s,l,void 0,o),l=oo(),e!==null&&!kt?(uo(e,n,o),da(e,n,o)):(Xe&&l&&Kc(n),n.flags|=1,Pt(e,n,s,o),n.child)}function Bf(e,n,s,l,o,d){return ls(n),n.updateQueue=null,s=Hh(n,l,s,o),Fh(e),l=oo(),e!==null&&!kt?(uo(e,n,d),da(e,n,d)):(Xe&&l&&Kc(n),n.flags|=1,Pt(e,n,s,d),n.child)}function Ff(e,n,s,l,o){if(ls(n),n.stateNode===null){var d=qs,v=s.contextType;typeof v=="object"&&v!==null&&(d=Zt(v)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Co,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},eo(n),v=s.contextType,d.context=typeof v=="object"&&v!==null?Zt(v):qs,d.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(wo(n,s,v,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Co.enqueueReplaceState(d,d.state,null),Ui(n,l,d,o),qi(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var _=n.memoizedProps,R=hs(s,_);d.props=R;var H=d.context,ee=s.contextType;v=qs,typeof ee=="object"&&ee!==null&&(v=Zt(ee));var re=s.getDerivedStateFromProps;ee=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||H!==v)&&Cf(n,d,l,v),Da=!1;var Q=n.memoizedState;d.state=Q,Ui(n,l,d,o),qi(),H=n.memoizedState,_||Q!==H||Da?(typeof re=="function"&&(wo(n,s,re,l),H=n.memoizedState),(R=Da||wf(n,s,R,l,Q,H,v))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,to(e,n),v=n.memoizedProps,ee=hs(s,v),d.props=ee,re=n.pendingProps,Q=d.context,H=s.contextType,R=qs,typeof H=="object"&&H!==null&&(R=Zt(H)),_=s.getDerivedStateFromProps,(H=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==re||Q!==R)&&Cf(n,d,l,R),Da=!1,Q=n.memoizedState,d.state=Q,Ui(n,l,d,o),qi();var Z=n.memoizedState;v!==re||Q!==Z||Da||e!==null&&e.dependencies!==null&&Kl(e.dependencies)?(typeof _=="function"&&(wo(n,s,_,l),Z=n.memoizedState),(ee=Da||wf(n,s,ee,l,Q,Z,R)||e!==null&&e.dependencies!==null&&Kl(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Z,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Z,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Z),d.props=l,d.state=Z,d.context=R,l=ee):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,cr(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=us(n,e.child,null,o),n.child=us(n,null,s,o)):Pt(e,n,s,o),n.memoizedState=d.state,e=n.child):e=da(e,n,o),e}function Hf(e,n,s,l){return ss(),n.flags|=256,Pt(e,n,s,l),n.child}var Ao={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Do(e){return{baseLanes:e,cachePool:Rh()}}function Oo(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Sn),e}function Qf(e,n,s){var l=n.pendingProps,o=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),v&&(o=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Xe){if(o?ka(n):za(),(e=ft)?(e=Pm(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Pn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},s=jh(e),s.return=n,n.child=s,Xt=n,ft=null)):e=null,e===null)throw Ra(n);return mu(e)?n.lanes=32:n.lanes=536870912,null}var _=l.children;return l=l.fallback,o?(za(),o=n.mode,_=or({mode:"hidden",children:_},o),l=as(l,o,s,null),_.return=n,l.return=n,_.sibling=l,n.child=_,l=n.child,l.memoizedState=Do(s),l.childLanes=Oo(e,v,s),n.memoizedState=Ao,Qi(null,l)):(ka(n),Mo(n,_))}var R=e.memoizedState;if(R!==null&&(_=R.dehydrated,_!==null)){if(d)n.flags&256?(ka(n),n.flags&=-257,n=ko(e,n,s)):n.memoizedState!==null?(za(),n.child=e.child,n.flags|=128,n=null):(za(),_=l.fallback,o=n.mode,l=or({mode:"visible",children:l.children},o),_=as(_,o,s,null),_.flags|=2,l.return=n,_.return=n,l.sibling=_,n.child=l,us(n,e.child,null,s),l=n.child,l.memoizedState=Do(s),l.childLanes=Oo(e,v,s),n.memoizedState=Ao,n=Qi(null,l));else if(ka(n),mu(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(c(419)),l.stack="",l.digest=v,Ai({value:l,source:null,stack:null}),n=ko(e,n,s)}else if(kt||Fs(e,n,s,!1),v=(s&e.childLanes)!==0,kt||v){if(v=ut,v!==null&&(l=Ed(v,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,ns(e,l),fn(v,e,l),To;fu(_)||xr(),n=ko(e,n,s)}else fu(_)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ft=qn(_.nextSibling),Xt=n,Xe=!0,Ta=null,kn=!1,e!==null&&Nh(n,e),n=Mo(n,l.children),n.flags|=4096);return n}return o?(za(),_=l.fallback,o=n.mode,R=e.child,H=R.sibling,l=ia(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,H!==null?_=ia(H,_):(_=as(_,o,s,null),_.flags|=2),_.return=n,l.return=n,l.sibling=_,n.child=l,Qi(null,l),l=n.child,_=e.child.memoizedState,_===null?_=Do(s):(o=_.cachePool,o!==null?(R=Ot._currentValue,o=o.parent!==R?{parent:R,pool:R}:o):o=Rh(),_={baseLanes:_.baseLanes|s,cachePool:o}),l.memoizedState=_,l.childLanes=Oo(e,v,s),n.memoizedState=Ao,Qi(e.child,l)):(ka(n),s=e.child,e=s.sibling,s=ia(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function Mo(e,n){return n=or({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function or(e,n){return e=jn(22,e,null,n),e.lanes=0,e}function ko(e,n,s){return us(n,e.child,null,s),e=Mo(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Xc(e.return,n,s)}function zo(e,n,s,l,o,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:o,treeForkCount:d}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=o,v.treeForkCount=d)}function Vf(e,n,s){var l=n.pendingProps,o=l.revealOrder,d=l.tail;l=l.children;var v=Tt.current,_=(v&2)!==0;if(_?(v=v&1|2,n.flags|=128):v&=1,Y(Tt,v),Pt(e,n,l,s),l=Xe?Ri:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kf(e,s,n);else if(e.tag===19)Kf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(s=n.child,o=null;s!==null;)e=s.alternate,e!==null&&Jl(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=n.child,n.child=null):(o=s.sibling,s.sibling=null),zo(n,!1,o,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Jl(e)===null){n.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}zo(n,!0,s,null,d,l);break;case"together":zo(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function da(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),La|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Fs(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(c(153));if(n.child!==null){for(e=n.child,s=ia(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ia(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function qo(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Kl(e)))}function ly(e,n,s){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),Aa(n,Ot,e.memoizedState.cache),ss();break;case 27:case 5:Ze(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:Aa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lo(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ka(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Qf(e,n,s):(ka(n),e=da(e,n,s),e!==null?e.sibling:null);ka(n);break;case 19:var o=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Fs(e,n,s,!1),l=(s&n.childLanes)!==0),o){if(l)return Vf(e,n,s);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Y(Tt,Tt.current),l)break;return null;case 22:return n.lanes=0,qf(e,n,s,n.pendingProps);case 24:Aa(n,Ot,e.memoizedState.cache)}return da(e,n,s)}function $f(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)kt=!0;else{if(!qo(e,s)&&(n.flags&128)===0)return kt=!1,ly(e,n,s);kt=(e.flags&131072)!==0}else kt=!1,Xe&&(n.flags&1048576)!==0&&_h(n,Ri,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=cs(n.elementType),n.type=e,typeof e=="function")Fc(e)?(l=hs(e,l),n.tag=1,n=Ff(null,n,e,l,s)):(n.tag=0,n=Ro(null,n,e,l,s));else{if(e!=null){var o=e.$$typeof;if(o===V){n.tag=11,n=Mf(null,n,e,l,s);break e}else if(o===ae){n.tag=14,n=kf(null,n,e,l,s);break e}}throw n=k(e)||e,Error(c(306,n,""))}}return n;case 0:return Ro(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,o=hs(l,n.pendingProps),Ff(e,n,l,o,s);case 3:e:{if(qe(n,n.stateNode.containerInfo),e===null)throw Error(c(387));l=n.pendingProps;var d=n.memoizedState;o=d.element,to(e,n),Ui(n,l,null,s);var v=n.memoizedState;if(l=v.cache,Aa(n,Ot,l),l!==d.cache&&Zc(n,[Ot],s,!0),qi(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Hf(e,n,l,s);break e}else if(l!==o){o=Dn(Error(c(424)),n),Ai(o),n=Hf(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ft=qn(e.firstChild),Xt=n,Xe=!0,Ta=null,kn=!0,s=zh(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ss(),l===o){n=da(e,n,s);break e}Pt(e,n,l,s)}n=n.child}return n;case 26:return cr(e,n),e===null?(s=np(n.type,null,n.pendingProps,null))?n.memoizedState=s:Xe||(s=n.type,e=n.pendingProps,l=wr(Ne.current).createElement(s),l[Gt]=n,l[rn]=e,Jt(l,s,e),Qt(l),n.stateNode=l):n.memoizedState=np(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ze(n),e===null&&Xe&&(l=n.stateNode=Im(n.type,n.pendingProps,Ne.current),Xt=n,kn=!0,o=ft,Ka(n.type)?(pu=o,ft=qn(l.firstChild)):ft=o),Pt(e,n,n.pendingProps.children,s),cr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Xe&&((o=l=ft)&&(l=qy(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Xt=n,ft=qn(l.firstChild),kn=!1,o=!0):o=!1),o||Ra(n)),Ze(n),o=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,uu(o,d)?l=null:v!==null&&uu(o,v)&&(n.flags|=32),n.memoizedState!==null&&(o=co(e,n,Jx,null,null,s),al._currentValue=o),cr(e,n),Pt(e,n,l,s),n.child;case 6:return e===null&&Xe&&((e=s=ft)&&(s=Uy(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Xt=n,ft=null,e=!0):e=!1),e||Ra(n)),null;case 13:return Qf(e,n,s);case 4:return qe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=us(n,null,l,s):Pt(e,n,l,s),n.child;case 11:return Mf(e,n,n.type,n.pendingProps,s);case 7:return Pt(e,n,n.pendingProps,s),n.child;case 8:return Pt(e,n,n.pendingProps.children,s),n.child;case 12:return Pt(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Aa(n,n.type,l.value),Pt(e,n,l.children,s),n.child;case 9:return o=n.type._context,l=n.pendingProps.children,ls(n),o=Zt(o),l=l(o),n.flags|=1,Pt(e,n,l,s),n.child;case 14:return kf(e,n,n.type,n.pendingProps,s);case 15:return zf(e,n,n.type,n.pendingProps,s);case 19:return Vf(e,n,s);case 31:return iy(e,n,s);case 22:return qf(e,n,s,n.pendingProps);case 24:return ls(n),l=Zt(Ot),e===null?(o=Wc(),o===null&&(o=ut,d=Pc(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=s),o=d),n.memoizedState={parent:l,cache:o},eo(n),Aa(n,Ot,o)):((e.lanes&s)!==0&&(to(e,n),Ui(n,null,null,s),qi()),o=e.memoizedState,d=n.memoizedState,o.parent!==l?(o={parent:l,cache:l},n.memoizedState=o,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=o),Aa(n,Ot,l)):(l=d.cache,Aa(n,Ot,l),l!==o.cache&&Zc(n,[Ot],s,!0))),Pt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(c(156,n.tag))}function ha(e){e.flags|=4}function Uo(e,n,s,l,o){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(xm())e.flags|=8192;else throw os=Gl,Ic}else e.flags&=-16777217}function Yf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rp(n))if(xm())e.flags|=8192;else throw os=Gl,Ic}function ur(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Cl():536870912,e.lanes|=n,Ws|=n)}function Ki(e,n){if(!Xe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function mt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function ry(e,n,s){var l=n.pendingProps;switch(Vc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ca(Ot),ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bs(n)?ha(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yc())),mt(n),null;case 26:var o=n.type,d=n.memoizedState;return e===null?(ha(n),d!==null?(mt(n),Yf(n,d)):(mt(n),Uo(n,o,null,l,s))):d?d!==e.memoizedState?(ha(n),mt(n),Yf(n,d)):(mt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&ha(n),mt(n),Uo(n,o,e,l,s)),null;case 27:if(Yt(n),s=Ne.current,o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ha(n);else{if(!l){if(n.stateNode===null)throw Error(c(166));return mt(n),null}e=J.current,Bs(n)?Sh(n):(e=Im(o,l,s),n.stateNode=e,ha(n))}return mt(n),null;case 5:if(Yt(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ha(n);else{if(!l){if(n.stateNode===null)throw Error(c(166));return mt(n),null}if(d=J.current,Bs(n))Sh(n);else{var v=wr(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(o,{is:l.is}):v.createElement(o)}}d[Gt]=n,d[rn]=l;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=d;e:switch(Jt(d,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ha(n)}}return mt(n),Uo(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ha(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(c(166));if(e=Ne.current,Bs(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,o=Xt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[Gt]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Qm(e.nodeValue,s)),e||Ra(n,!0)}else e=wr(e).createTextNode(l),e[Gt]=n,n.stateNode=e}return mt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Bs(n),s!==null){if(e===null){if(!l)throw Error(c(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Gt]=n}else ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),e=!1}else s=Yc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(c(558))}return mt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Bs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Gt]=n}else ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),o=!1}else o=Yc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ur(n,n.updateQueue),mt(n),null);case 4:return ke(),e===null&&iu(n.stateNode.containerInfo),mt(n),null;case 10:return ca(n.type),mt(n),null;case 19:if($(Tt),l=n.memoizedState,l===null)return mt(n),null;if(o=(n.flags&128)!==0,d=l.rendering,d===null)if(o)Ki(l,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Jl(e),d!==null){for(n.flags|=128,Ki(l,!1),e=d.updateQueue,n.updateQueue=e,ur(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)yh(s,e),s=s.sibling;return Y(Tt,Tt.current&1|2),Xe&&la(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&se()>pr&&(n.flags|=128,o=!0,Ki(l,!1),n.lanes=4194304)}else{if(!o)if(e=Jl(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,ur(n,e),Ki(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Xe)return mt(n),null}else 2*se()-l.renderingStartTime>pr&&s!==536870912&&(n.flags|=128,o=!0,Ki(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=se(),e.sibling=null,s=Tt.current,Y(Tt,o?s&1|2:s&1),Xe&&la(n,l.treeForkCount),e):(mt(n),null);case 22:case 23:return _n(n),io(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),s=n.updateQueue,s!==null&&ur(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&$(rs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ca(Ot),mt(n),null;case 25:return null;case 30:return null}throw Error(c(156,n.tag))}function cy(e,n){switch(Vc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ca(Ot),ke(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yt(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(c(340));ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(c(340));ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(Tt),null;case 4:return ke(),null;case 10:return ca(n.type),null;case 22:case 23:return _n(n),io(),e!==null&&$(rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ca(Ot),null;case 25:return null;default:return null}}function Gf(e,n){switch(Vc(n),n.tag){case 3:ca(Ot),ke();break;case 26:case 27:case 5:Yt(n);break;case 4:ke();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:$(Tt);break;case 10:ca(n.type);break;case 22:case 23:_n(n),io(),e!==null&&$(rs);break;case 24:ca(Ot)}}function Vi(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var o=l.next;s=o;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==o)}}catch(_){st(n,n.return,_)}}function qa(e,n,s){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var d=o.next;l=d;do{if((l.tag&e)===e){var v=l.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,o=n;var R=s,H=_;try{H()}catch(ee){st(o,R,ee)}}}l=l.next}while(l!==d)}}catch(ee){st(n,n.return,ee)}}function Xf(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Uh(n,s)}catch(l){st(e,e.return,l)}}}function Zf(e,n,s){s.props=hs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){st(e,n,l)}}function $i(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(o){st(e,n,o)}}function Wn(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(o){st(e,n,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(o){st(e,n,o)}else s.current=null}function Pf(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(o){st(e,e.return,o)}}function Lo(e,n,s){try{var l=e.stateNode;Ay(l,e.type,s,n),l[rn]=n}catch(o){st(e,e.return,o)}}function Jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ka(e.type)||e.tag===4}function Bo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=aa));else if(l!==4&&(l===27&&Ka(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Fo(e,n,s),e=e.sibling;e!==null;)Fo(e,n,s),e=e.sibling}function dr(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ka(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(dr(e,n,s),e=e.sibling;e!==null;)dr(e,n,s),e=e.sibling}function Wf(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Jt(n,l,s),n[Gt]=e,n[rn]=s}catch(d){st(e,e.return,d)}}var fa=!1,zt=!1,Ho=!1,If=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function oy(e,n){if(e=e.containerInfo,cu=Or,e=uh(e),Mc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var o=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,_=-1,R=-1,H=0,ee=0,re=e,Q=null;t:for(;;){for(var Z;re!==s||o!==0&&re.nodeType!==3||(_=v+o),re!==d||l!==0&&re.nodeType!==3||(R=v+l),re.nodeType===3&&(v+=re.nodeValue.length),(Z=re.firstChild)!==null;)Q=re,re=Z;for(;;){if(re===e)break t;if(Q===s&&++H===o&&(_=v),Q===d&&++ee===l&&(R=v),(Z=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=Z}s=_===-1||R===-1?null:{start:_,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ou={focusedElem:e,selectionRange:s},Or=!1,Kt=n;Kt!==null;)if(n=Kt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Kt=e;else for(;Kt!==null;){switch(n=Kt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)o=e[s],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,o=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var we=hs(s.type,o);e=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ze){st(s,s.return,ze)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=n.sibling,e!==null){e.return=n.return,Kt=e;break}Kt=n.return}}function em(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:pa(e,s),l&4&&Vi(5,s);break;case 1:if(pa(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){st(s,s.return,v)}else{var o=hs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(o,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){st(s,s.return,v)}}l&64&&Xf(s),l&512&&$i(s,s.return);break;case 3:if(pa(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Uh(e,n)}catch(v){st(s,s.return,v)}}break;case 27:n===null&&l&4&&Wf(s);case 26:case 5:pa(e,s),n===null&&l&4&&Pf(s),l&512&&$i(s,s.return);break;case 12:pa(e,s);break;case 31:pa(e,s),l&4&&am(e,s);break;case 13:pa(e,s),l&4&&sm(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=xy.bind(null,s),Ly(e,s))));break;case 22:if(l=s.memoizedState!==null||fa,!l){n=n!==null&&n.memoizedState!==null||zt,o=fa;var d=zt;fa=l,(zt=n)&&!d?ga(e,s,(s.subtreeFlags&8772)!==0):pa(e,s),fa=o,zt=d}break;case 30:break;default:pa(e,s)}}function tm(e){var n=e.alternate;n!==null&&(e.alternate=null,tm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&gc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,on=!1;function ma(e,n,s){for(s=s.child;s!==null;)nm(e,n,s),s=s.sibling}function nm(e,n,s){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(ht,s)}catch{}switch(s.tag){case 26:zt||Wn(s,n),ma(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:zt||Wn(s,n);var l=xt,o=on;Ka(s.type)&&(xt=s.stateNode,on=!1),ma(e,n,s),el(s.stateNode),xt=l,on=o;break;case 5:zt||Wn(s,n);case 6:if(l=xt,o=on,xt=null,ma(e,n,s),xt=l,on=o,xt!==null)if(on)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(s.stateNode)}catch(d){st(s,n,d)}else try{xt.removeChild(s.stateNode)}catch(d){st(s,n,d)}break;case 18:xt!==null&&(on?(e=xt,Xm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),li(e)):Xm(xt,s.stateNode));break;case 4:l=xt,o=on,xt=s.stateNode.containerInfo,on=!0,ma(e,n,s),xt=l,on=o;break;case 0:case 11:case 14:case 15:qa(2,s,n),zt||qa(4,s,n),ma(e,n,s);break;case 1:zt||(Wn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Zf(s,n,l)),ma(e,n,s);break;case 21:ma(e,n,s);break;case 22:zt=(l=zt)||s.memoizedState!==null,ma(e,n,s),zt=l;break;default:ma(e,n,s)}}function am(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(s){st(n,n.return,s)}}}function sm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(s){st(n,n.return,s)}}function uy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new If),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new If),n;default:throw Error(c(435,e.tag))}}function hr(e,n){var s=uy(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var o=yy.bind(null,e,l);l.then(o,o)}})}function un(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var o=s[l],d=e,v=n,_=v;e:for(;_!==null;){switch(_.tag){case 27:if(Ka(_.type)){xt=_.stateNode,on=!1;break e}break;case 5:xt=_.stateNode,on=!1;break e;case 3:case 4:xt=_.stateNode.containerInfo,on=!0;break e}_=_.return}if(xt===null)throw Error(c(160));nm(d,v,o),xt=null,on=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)im(n,e),n=n.sibling}var Kn=null;function im(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),dn(e),l&4&&(qa(3,e,e.return),Vi(3,e),qa(5,e,e.return));break;case 1:un(n,e),dn(e),l&512&&(zt||s===null||Wn(s,s.return)),l&64&&fa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var o=Kn;if(un(n,e),dn(e),l&512&&(zt||s===null||Wn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":d=o.getElementsByTagName("title")[0],(!d||d[xi]||d[Gt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(l),o.head.insertBefore(d,o.querySelector("head > title"))),Jt(d,l,s),d[Gt]=e,Qt(d),l=d;break e;case"link":var v=ip("link","href",o).get(l+(s.href||""));if(v){for(var _=0;_<v.length;_++)if(d=v[_],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(_,1);break t}}d=o.createElement(l),Jt(d,l,s),o.head.appendChild(d);break;case"meta":if(v=ip("meta","content",o).get(l+(s.content||""))){for(_=0;_<v.length;_++)if(d=v[_],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(_,1);break t}}d=o.createElement(l),Jt(d,l,s),o.head.appendChild(d);break;default:throw Error(c(468,l))}d[Gt]=e,Qt(d),l=d}e.stateNode=l}else lp(o,e.type,e.stateNode);else e.stateNode=sp(o,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?lp(o,e.type,e.stateNode):sp(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Lo(e,e.memoizedProps,s.memoizedProps)}break;case 27:un(n,e),dn(e),l&512&&(zt||s===null||Wn(s,s.return)),s!==null&&l&4&&Lo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(un(n,e),dn(e),l&512&&(zt||s===null||Wn(s,s.return)),e.flags&32){o=e.stateNode;try{Rs(o,"")}catch(we){st(e,e.return,we)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Lo(e,o,s!==null?s.memoizedProps:o)),l&1024&&(Ho=!0);break;case 6:if(un(n,e),dn(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(we){st(e,e.return,we)}}break;case 3:if(Tr=null,o=Kn,Kn=Cr(n.containerInfo),un(n,e),Kn=o,dn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{li(n.containerInfo)}catch(we){st(e,e.return,we)}Ho&&(Ho=!1,lm(e));break;case 4:l=Kn,Kn=Cr(e.stateNode.containerInfo),un(n,e),dn(e),Kn=l;break;case 12:un(n,e),dn(e);break;case 31:un(n,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hr(e,l)));break;case 13:un(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(mr=se()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hr(e,l)));break;case 22:o=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,H=fa,ee=zt;if(fa=H||o,zt=ee||R,un(n,e),zt=ee,fa=H,dn(e),l&8192)e:for(n=e.stateNode,n._visibility=o?n._visibility&-2:n._visibility|1,o&&(s===null||R||fa||zt||fs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(d=R.stateNode,o)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=R.stateNode;var re=R.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(we){st(R,R.return,we)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=o?"":R.memoizedProps}catch(we){st(R,R.return,we)}}}else if(n.tag===18){if(s===null){R=n;try{var Z=R.stateNode;o?Zm(Z,!0):Zm(R.stateNode,!1)}catch(we){st(R,R.return,we)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,hr(e,s))));break;case 19:un(n,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hr(e,l)));break;case 30:break;case 21:break;default:un(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Jf(l)){s=l;break}l=l.return}if(s==null)throw Error(c(160));switch(s.tag){case 27:var o=s.stateNode,d=Bo(e);dr(e,d,o);break;case 5:var v=s.stateNode;s.flags&32&&(Rs(v,""),s.flags&=-33);var _=Bo(e);dr(e,_,v);break;case 3:case 4:var R=s.stateNode.containerInfo,H=Bo(e);Fo(e,H,R);break;default:throw Error(c(161))}}catch(ee){st(e,e.return,ee)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;lm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)em(e,n.alternate,n),n=n.sibling}function fs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qa(4,n,n.return),fs(n);break;case 1:Wn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Zf(n,n.return,s),fs(n);break;case 27:el(n.stateNode);case 26:case 5:Wn(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}e=e.sibling}}function ga(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,o=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:ga(o,d,s),Vi(4,d);break;case 1:if(ga(o,d,s),l=d,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(H){st(l,l.return,H)}if(l=d,o=l.updateQueue,o!==null){var _=l.stateNode;try{var R=o.shared.hiddenCallbacks;if(R!==null)for(o.shared.hiddenCallbacks=null,o=0;o<R.length;o++)qh(R[o],_)}catch(H){st(l,l.return,H)}}s&&v&64&&Xf(d),$i(d,d.return);break;case 27:Wf(d);case 26:case 5:ga(o,d,s),s&&l===null&&v&4&&Pf(d),$i(d,d.return);break;case 12:ga(o,d,s);break;case 31:ga(o,d,s),s&&v&4&&am(o,d);break;case 13:ga(o,d,s),s&&v&4&&sm(o,d);break;case 22:d.memoizedState===null&&ga(o,d,s),$i(d,d.return);break;case 30:break;default:ga(o,d,s)}n=n.sibling}}function Qo(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Di(s))}function Ko(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Di(e))}function Vn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rm(e,n,s,l),n=n.sibling}function rm(e,n,s,l){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(e,n,s,l),o&2048&&Vi(9,n);break;case 1:Vn(e,n,s,l);break;case 3:Vn(e,n,s,l),o&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Di(e)));break;case 12:if(o&2048){Vn(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,_=d.onPostCommit;typeof _=="function"&&_(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){st(n,n.return,R)}}else Vn(e,n,s,l);break;case 31:Vn(e,n,s,l);break;case 13:Vn(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?Vn(e,n,s,l):Yi(e,n):d._visibility&2?Vn(e,n,s,l):(d._visibility|=2,Zs(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),o&2048&&Qo(v,n);break;case 24:Vn(e,n,s,l),o&2048&&Ko(n.alternate,n);break;default:Vn(e,n,s,l)}}function Zs(e,n,s,l,o){for(o=o&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,v=n,_=s,R=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Zs(d,v,_,R,o),Vi(8,v);break;case 23:break;case 22:var ee=v.stateNode;v.memoizedState!==null?ee._visibility&2?Zs(d,v,_,R,o):Yi(d,v):(ee._visibility|=2,Zs(d,v,_,R,o)),o&&H&2048&&Qo(v.alternate,v);break;case 24:Zs(d,v,_,R,o),o&&H&2048&&Ko(v.alternate,v);break;default:Zs(d,v,_,R,o)}n=n.sibling}}function Yi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,o=l.flags;switch(l.tag){case 22:Yi(s,l),o&2048&&Qo(l.alternate,l);break;case 24:Yi(s,l),o&2048&&Ko(l.alternate,l);break;default:Yi(s,l)}n=n.sibling}}var Gi=8192;function Ps(e,n,s){if(e.subtreeFlags&Gi)for(e=e.child;e!==null;)cm(e,n,s),e=e.sibling}function cm(e,n,s){switch(e.tag){case 26:Ps(e,n,s),e.flags&Gi&&e.memoizedState!==null&&Py(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ps(e,n,s);break;case 3:case 4:var l=Kn;Kn=Cr(e.stateNode.containerInfo),Ps(e,n,s),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Gi,Gi=16777216,Ps(e,n,s),Gi=l):Ps(e,n,s));break;default:Ps(e,n,s)}}function om(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Kt=l,dm(l,e)}om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:Xi(e),e.flags&2048&&qa(9,e,e.return);break;case 3:Xi(e);break;case 12:Xi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fr(e)):Xi(e);break;default:Xi(e)}}function fr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Kt=l,dm(l,e)}om(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qa(8,n,n.return),fr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,fr(n));break;default:fr(n)}e=e.sibling}}function dm(e,n){for(;Kt!==null;){var s=Kt;switch(s.tag){case 0:case 11:case 15:qa(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Di(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Kt=l;else e:for(s=e;Kt!==null;){l=Kt;var o=l.sibling,d=l.return;if(tm(l),l===s){Kt=null;break e}if(o!==null){o.return=d,Kt=o;break e}Kt=d}}}var dy={getCacheForType:function(e){var n=Zt(Ot),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Zt(Ot).controller.signal}},hy=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,Ke=null,Ye=0,at=0,Nn=null,Ua=!1,Js=!1,Vo=!1,va=0,Ct=0,La=0,ms=0,$o=0,Sn=0,Ws=0,Zi=null,hn=null,Yo=!1,mr=0,hm=0,pr=1/0,gr=null,Ba=null,Lt=0,Fa=null,Is=null,xa=0,Go=0,Xo=null,fm=null,Pi=0,Zo=null;function wn(){return(et&2)!==0&&Ye!==0?Ye&-Ye:w.T!==null?tu():Td()}function mm(){if(Sn===0)if((Ye&536870912)===0||Xe){var e=_t;_t<<=1,(_t&3932160)===0&&(_t=262144),Sn=e}else Sn=536870912;return e=bn.current,e!==null&&(e.flags|=32),Sn}function fn(e,n,s){(e===ut&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(ei(e,0),Ha(e,Ye,Sn,!1)),K(e,s),((et&2)===0||e!==ut)&&(e===ut&&((et&2)===0&&(ms|=s),Ct===4&&Ha(e,Ye,Sn,!1)),In(e))}function pm(e,n,s){if((et&6)!==0)throw Error(c(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),o=l?py(e,n):Jo(e,n,!0),d=l;do{if(o===0){Js&&!l&&Ha(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!fy(s)){o=Jo(e,n,!1),d=!1;continue}if(o===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var _=e;o=Zi;var R=_.current.memoizedState.isDehydrated;if(R&&(ei(_,v).flags|=256),v=Jo(_,v,!1),v!==2){if(Vo&&!R){_.errorRecoveryDisabledLanes|=d,ms|=d,o=4;break e}d=hn,hn=o,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}o=v}if(d=!1,o!==2)continue}}if(o===1){ei(e,0),Ha(e,n,0,!0);break}e:{switch(l=e,d=o,d){case 0:case 1:throw Error(c(345));case 4:if((n&4194048)!==n)break;case 6:Ha(l,n,Sn,!Ua);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((n&62914560)===n&&(o=mr+300-se(),10<o)){if(Ha(l,n,Sn,!Ua),Sa(l,0,!0)!==0)break e;xa=n,l.timeoutHandle=Ym(gm.bind(null,l,s,hn,gr,Yo,n,Sn,ms,Ws,Ua,d,"Throttled",-0,0),o);break e}gm(l,s,hn,gr,Yo,n,Sn,ms,Ws,Ua,d,null,-0,0)}}break}while(!0);In(e)}function gm(e,n,s,l,o,d,v,_,R,H,ee,re,Q,Z){if(e.timeoutHandle=-1,re=n.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:aa},cm(n,d,re);var we=(d&62914560)===d?mr-se():(d&4194048)===d?hm-se():0;if(we=Jy(re,we),we!==null){xa=d,e.cancelPendingCommit=we(Sm.bind(null,e,n,d,s,l,o,v,_,R,ee,re,null,Q,Z)),Ha(e,d,v,!H);return}}Sm(e,n,d,s,l,o,v,_,R)}function fy(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var o=s[l],d=o.getSnapshot;o=o.value;try{if(!yn(d(),o))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ha(e,n,s,l){n&=~$o,n&=~ms,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var o=n;0<o;){var d=31-b(o),v=1<<d;l[d]=-1,o&=~v}s!==0&&ln(e,s,n)}function vr(){return(et&6)===0?(Ji(0),!1):!0}function Po(){if(Ke!==null){if(at===0)var e=Ke.return;else e=Ke,ra=is=null,ho(e),Vs=null,Mi=0,e=Ke;for(;e!==null;)Gf(e.alternate,e),e=e.return;Ke=null}}function ei(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,My(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),xa=0,Po(),ut=e,Ke=s=ia(e.current,null),Ye=n,at=0,Nn=null,Ua=!1,Js=Zn(e,n),Vo=!1,Ws=Sn=$o=ms=La=Ct=0,hn=Zi=null,Yo=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var o=31-b(l),d=1<<o;n|=e[o],l&=~d}return va=n,Ll(),s}function vm(e,n){Be=null,w.H=Hi,n===Ks||n===Yl?(n=Oh(),at=3):n===Ic?(n=Oh(),at=4):at=n===To?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Ke===null&&(Ct=1,lr(e,Dn(n,e.current)))}function xm(){var e=bn.current;return e===null?!0:(Ye&4194048)===Ye?zn===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?e===zn:!1}function ym(){var e=w.H;return w.H=Hi,e===null?Hi:e}function jm(){var e=w.A;return w.A=dy,e}function xr(){Ct=4,Ua||(Ye&4194048)!==Ye&&bn.current!==null||(Js=!0),(La&134217727)===0&&(ms&134217727)===0||ut===null||Ha(ut,Ye,Sn,!1)}function Jo(e,n,s){var l=et;et|=2;var o=ym(),d=jm();(ut!==e||Ye!==n)&&(gr=null,ei(e,n)),n=!1;var v=Ct;e:do try{if(at!==0&&Ke!==null){var _=Ke,R=Nn;switch(at){case 8:Po(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var H=at;if(at=0,Nn=null,ti(e,_,R,H),s&&Js){v=0;break e}break;default:H=at,at=0,Nn=null,ti(e,_,R,H)}}my(),v=Ct;break}catch(ee){vm(e,ee)}while(!0);return n&&e.shellSuspendCounter++,ra=is=null,et=l,w.H=o,w.A=d,Ke===null&&(ut=null,Ye=0,Ll()),v}function my(){for(;Ke!==null;)bm(Ke)}function py(e,n){var s=et;et|=2;var l=ym(),o=jm();ut!==e||Ye!==n?(gr=null,pr=se()+500,ei(e,n)):Js=Zn(e,n);e:do try{if(at!==0&&Ke!==null){n=Ke;var d=Nn;t:switch(at){case 1:at=0,Nn=null,ti(e,n,d,1);break;case 2:case 9:if(Ah(d)){at=0,Nn=null,_m(n);break}n=function(){at!==2&&at!==9||ut!==e||(at=7),In(e)},d.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Ah(d)?(at=0,Nn=null,_m(n)):(at=0,Nn=null,ti(e,n,d,7));break;case 5:var v=null;switch(Ke.tag){case 26:v=Ke.memoizedState;case 5:case 27:var _=Ke;if(v?rp(v):_.stateNode.complete){at=0,Nn=null;var R=_.sibling;if(R!==null)Ke=R;else{var H=_.return;H!==null?(Ke=H,yr(H)):Ke=null}break t}}at=0,Nn=null,ti(e,n,d,5);break;case 6:at=0,Nn=null,ti(e,n,d,6);break;case 8:Po(),Ct=6;break e;default:throw Error(c(462))}}gy();break}catch(ee){vm(e,ee)}while(!0);return ra=is=null,w.H=l,w.A=o,et=s,Ke!==null?0:(ut=null,Ye=0,Ll(),Ct)}function gy(){for(;Ke!==null&&!P();)bm(Ke)}function bm(e){var n=$f(e.alternate,e,va);e.memoizedProps=e.pendingProps,n===null?yr(e):Ke=n}function _m(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Bf(s,n,n.pendingProps,n.type,void 0,Ye);break;case 11:n=Bf(s,n,n.pendingProps,n.type.render,n.ref,Ye);break;case 5:ho(n);default:Gf(s,n),n=Ke=yh(n,va),n=$f(s,n,va)}e.memoizedProps=e.pendingProps,n===null?yr(e):Ke=n}function ti(e,n,s,l){ra=is=null,ho(n),Vs=null,Mi=0;var o=n.return;try{if(sy(e,o,n,s,Ye)){Ct=1,lr(e,Dn(s,e.current)),Ke=null;return}}catch(d){if(o!==null)throw Ke=o,d;Ct=1,lr(e,Dn(s,e.current)),Ke=null;return}n.flags&32768?(Xe||l===1?e=!0:Js||(Ye&536870912)!==0?e=!1:(Ua=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nm(n,e)):yr(n)}function yr(e){var n=e;do{if((n.flags&32768)!==0){Nm(n,Ua);return}e=n.return;var s=ry(n.alternate,n,va);if(s!==null){Ke=s;return}if(n=n.sibling,n!==null){Ke=n;return}Ke=n=e}while(n!==null);Ct===0&&(Ct=5)}function Nm(e,n){do{var s=cy(e.alternate,e);if(s!==null){s.flags&=32767,Ke=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ke=e;return}Ke=e=s}while(e!==null);Ct=6,Ke=null}function Sm(e,n,s,l,o,d,v,_,R){e.cancelPendingCommit=null;do jr();while(Lt!==0);if((et&6)!==0)throw Error(c(327));if(n!==null){if(n===e.current)throw Error(c(177));if(d=n.lanes|n.childLanes,d|=Lc,St(e,s,d,v,_,R),e===ut&&(Ke=ut=null,Ye=0),Is=n,Fa=e,xa=s,Go=d,Xo=o,fm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jy(xe,function(){return Rm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,o=W.p,W.p=2,v=et,et|=4;try{oy(e,n,s)}finally{et=v,W.p=o,w.T=l}}Lt=1,wm(),Cm(),Em()}}function wm(){if(Lt===1){Lt=0;var e=Fa,n=Is,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=w.T,w.T=null;var l=W.p;W.p=2;var o=et;et|=4;try{im(n,e);var d=ou,v=uh(e.containerInfo),_=d.focusedElem,R=d.selectionRange;if(v!==_&&_&&_.ownerDocument&&oh(_.ownerDocument.documentElement,_)){if(R!==null&&Mc(_)){var H=R.start,ee=R.end;if(ee===void 0&&(ee=H),"selectionStart"in _)_.selectionStart=H,_.selectionEnd=Math.min(ee,_.value.length);else{var re=_.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),we=_.textContent.length,ze=Math.min(R.start,we),ct=R.end===void 0?ze:Math.min(R.end,we);!Z.extend&&ze>ct&&(v=ct,ct=ze,ze=v);var L=ch(_,ze),M=ch(_,ct);if(L&&M&&(Z.rangeCount!==1||Z.anchorNode!==L.node||Z.anchorOffset!==L.offset||Z.focusNode!==M.node||Z.focusOffset!==M.offset)){var F=re.createRange();F.setStart(L.node,L.offset),Z.removeAllRanges(),ze>ct?(Z.addRange(F),Z.extend(M.node,M.offset)):(F.setEnd(M.node,M.offset),Z.addRange(F))}}}}for(re=[],Z=_;Z=Z.parentNode;)Z.nodeType===1&&re.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<re.length;_++){var ie=re[_];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Or=!!cu,ou=cu=null}finally{et=o,W.p=l,w.T=s}}e.current=n,Lt=2}}function Cm(){if(Lt===2){Lt=0;var e=Fa,n=Is,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=w.T,w.T=null;var l=W.p;W.p=2;var o=et;et|=4;try{em(e,n.alternate,n)}finally{et=o,W.p=l,w.T=s}}Lt=3}}function Em(){if(Lt===4||Lt===3){Lt=0,he();var e=Fa,n=Is,s=xa,l=fm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,Is=Fa=null,Tm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ba=null),mc(s),n=n.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(ht,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=w.T,o=W.p,W.p=2,w.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var _=l[v];d(_.value,{componentStack:_.stack})}}finally{w.T=n,W.p=o}}(xa&3)!==0&&jr(),In(e),o=e.pendingLanes,(s&261930)!==0&&(o&42)!==0?e===Zo?Pi++:(Pi=0,Zo=e):Pi=0,Ji(0)}}function Tm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Di(n)))}function jr(){return wm(),Cm(),Em(),Rm()}function Rm(){if(Lt!==5)return!1;var e=Fa,n=Go;Go=0;var s=mc(xa),l=w.T,o=W.p;try{W.p=32>s?32:s,w.T=null,s=Xo,Xo=null;var d=Fa,v=xa;if(Lt=0,Is=Fa=null,xa=0,(et&6)!==0)throw Error(c(331));var _=et;if(et|=4,um(d.current),rm(d,d.current,v,s),et=_,Ji(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{W.p=o,w.T=l,Tm(e,n)}}function Am(e,n,s){n=Dn(s,n),n=Eo(e.stateNode,n,2),e=Ma(e,n,2),e!==null&&(K(e,2),In(e))}function st(e,n,s){if(e.tag===3)Am(e,e,s);else for(;n!==null;){if(n.tag===3){Am(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ba===null||!Ba.has(l))){e=Dn(s,e),s=Df(2),l=Ma(n,s,2),l!==null&&(Of(s,l,n,e),K(l,2),In(l));break}}n=n.return}}function Wo(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new hy;var o=new Set;l.set(n,o)}else o=l.get(n),o===void 0&&(o=new Set,l.set(n,o));o.has(s)||(Vo=!0,o.add(s),e=vy.bind(null,e,n,s),n.then(e,e))}function vy(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ut===e&&(Ye&s)===s&&(Ct===4||Ct===3&&(Ye&62914560)===Ye&&300>se()-mr?(et&2)===0&&ei(e,0):$o|=s,Ws===Ye&&(Ws=0)),In(e)}function Dm(e,n){n===0&&(n=Cl()),e=ns(e,n),e!==null&&(K(e,n),In(e))}function xy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Dm(e,s)}function yy(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(n),Dm(e,s)}function jy(e,n){return D(e,n)}var br=null,ni=null,Io=!1,_r=!1,eu=!1,Qa=0;function In(e){e!==ni&&e.next===null&&(ni===null?br=ni=e:ni=ni.next=e),_r=!0,Io||(Io=!0,_y())}function Ji(e,n){if(!eu&&_r){eu=!0;do for(var s=!1,l=br;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var d=0;else{var v=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-b(42|e)+1)-1,d&=o&~(v&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,zm(l,d))}else d=Ye,d=Sa(l,l===ut?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(s=!0,zm(l,d));l=l.next}while(s);eu=!1}}function by(){Om()}function Om(){_r=Io=!1;var e=0;Qa!==0&&Oy()&&(e=Qa);for(var n=se(),s=null,l=br;l!==null;){var o=l.next,d=Mm(l,n);d===0?(l.next=null,s===null?br=o:s.next=o,o===null&&(ni=s)):(s=l,(e!==0||(d&3)!==0)&&(_r=!0)),l=o}Lt!==0&&Lt!==5||Ji(e),Qa!==0&&(Qa=0)}function Mm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-b(d),_=1<<v,R=o[v];R===-1?((_&s)===0||(_&l)!==0)&&(o[v]=sn(_,n)):R<=n&&(e.expiredLanes|=_),d&=~_}if(n=ut,s=Ye,s=Sa(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&B(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&B(l),mc(s)){case 2:case 8:s=U;break;case 32:s=xe;break;case 268435456:s=nt;break;default:s=xe}return l=km.bind(null,e),s=D(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&B(l),e.callbackPriority=2,e.callbackNode=null,2}function km(e,n){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(jr()&&e.callbackNode!==s)return null;var l=Ye;return l=Sa(e,e===ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pm(e,l,n),Mm(e,se()),e.callbackNode!=null&&e.callbackNode===s?km.bind(null,e):null)}function zm(e,n){if(jr())return null;pm(e,n,!0)}function _y(){ky(function(){(et&6)!==0?D(Se,by):Om()})}function tu(){if(Qa===0){var e=Hs;e===0&&(e=Le,Le<<=1,(Le&261888)===0&&(Le=256)),Qa=e}return Qa}function qm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Al(""+e)}function Um(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Ny(e,n,s,l,o){if(n==="submit"&&s&&s.stateNode===o){var d=qm((o[rn]||null).action),v=l.submitter;v&&(n=(n=v[rn]||null)?qm(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var _=new kl("action","action",null,l,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var R=v?Um(o,v):new FormData(o);bo(s,{pending:!0,data:R,method:o.method,action:d},null,R)}}else typeof d=="function"&&(_.preventDefault(),R=v?Um(o,v):new FormData(o),bo(s,{pending:!0,data:R,method:o.method,action:d},d,R))},currentTarget:o}]})}}for(var nu=0;nu<Uc.length;nu++){var au=Uc[nu],Sy=au.toLowerCase(),wy=au[0].toUpperCase()+au.slice(1);Qn(Sy,"on"+wy)}Qn(fh,"onAnimationEnd"),Qn(mh,"onAnimationIteration"),Qn(ph,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Hx,"onTransitionRun"),Qn(Qx,"onTransitionStart"),Qn(Kx,"onTransitionCancel"),Qn(gh,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function Lm(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],o=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var _=l[v],R=_.instance,H=_.currentTarget;if(_=_.listener,R!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=H;try{d(o)}catch(ee){Ul(ee)}o.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(_=l[v],R=_.instance,H=_.currentTarget,_=_.listener,R!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=H;try{d(o)}catch(ee){Ul(ee)}o.currentTarget=null,d=R}}}}function Ve(e,n){var s=n[pc];s===void 0&&(s=n[pc]=new Set);var l=e+"__bubble";s.has(l)||(Bm(n,e,2,!1),s.add(l))}function su(e,n,s){var l=0;n&&(l|=4),Bm(s,e,l,n)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function iu(e){if(!e[Nr]){e[Nr]=!0,Dd.forEach(function(s){s!=="selectionchange"&&(Cy.has(s)||su(s,!1,e),su(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Nr]||(n[Nr]=!0,su("selectionchange",!1,n))}}function Bm(e,n,s,l){switch(mp(n)){case 2:var o=ej;break;case 8:o=tj;break;default:o=ju}s=o.bind(null,n,s,e),o=void 0,!Sc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(n,s,{capture:!0,passive:o}):e.addEventListener(n,s,!0):o!==void 0?e.addEventListener(n,s,{passive:o}):e.addEventListener(n,s,!1)}function lu(e,n,s,l,o){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var _=l.stateNode.containerInfo;if(_===o)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===o)return;v=v.return}for(;_!==null;){if(v=Ss(_),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}_=_.parentNode}}l=l.return}Kd(function(){var H=d,ee=_c(s),re=[];e:{var Q=vh.get(e);if(Q!==void 0){var Z=kl,we=e;switch(e){case"keypress":if(Ol(s)===0)break e;case"keydown":case"keyup":Z=yx;break;case"focusin":we="focus",Z=Tc;break;case"focusout":we="blur",Z=Tc;break;case"beforeblur":case"afterblur":Z=Tc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_x;break;case fh:case mh:case ph:Z=ux;break;case gh:Z=Sx;break;case"scroll":case"scrollend":Z=ix;break;case"wheel":Z=Cx;break;case"copy":case"cut":case"paste":Z=hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Xd;break;case"toggle":case"beforetoggle":Z=Tx}var ze=(n&4)!==0,ct=!ze&&(e==="scroll"||e==="scrollend"),L=ze?Q!==null?Q+"Capture":null:Q;ze=[];for(var M=H,F;M!==null;){var ie=M;if(F=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||F===null||L===null||(ie=ji(M,L),ie!=null&&ze.push(Ii(M,ie,F))),ct)break;M=M.return}0<ze.length&&(Q=new Z(Q,we,null,s,ee),re.push({event:Q,listeners:ze}))}}if((n&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",Q&&s!==bc&&(we=s.relatedTarget||s.fromElement)&&(Ss(we)||we[Ns]))break e;if((Z||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(we=s.relatedTarget||s.toElement,Z=H,we=we?Ss(we):null,we!==null&&(ct=h(we),ze=we.tag,we!==ct||ze!==5&&ze!==27&&ze!==6)&&(we=null)):(Z=null,we=H),Z!==we)){if(ze=Yd,ie="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(ze=Xd,ie="onPointerLeave",L="onPointerEnter",M="pointer"),ct=Z==null?Q:yi(Z),F=we==null?Q:yi(we),Q=new ze(ie,M+"leave",Z,s,ee),Q.target=ct,Q.relatedTarget=F,ie=null,Ss(ee)===H&&(ze=new ze(L,M+"enter",we,s,ee),ze.target=F,ze.relatedTarget=ct,ie=ze),ct=ie,Z&&we)t:{for(ze=Ey,L=Z,M=we,F=0,ie=L;ie;ie=ze(ie))F++;ie=0;for(var De=M;De;De=ze(De))ie++;for(;0<F-ie;)L=ze(L),F--;for(;0<ie-F;)M=ze(M),ie--;for(;F--;){if(L===M||M!==null&&L===M.alternate){ze=L;break t}L=ze(L),M=ze(M)}ze=null}else ze=null;Z!==null&&Fm(re,Q,Z,ze,!1),we!==null&&ct!==null&&Fm(re,ct,we,ze,!0)}}e:{if(Q=H?yi(H):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var We=nh;else if(eh(Q))if(ah)We=Lx;else{We=qx;var Re=zx}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&jc(H.elementType)&&(We=nh):We=Ux;if(We&&(We=We(e,H))){th(re,We,s,ee);break e}Re&&Re(e,Q,H),e==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&yc(Q,"number",Q.value)}switch(Re=H?yi(H):window,e){case"focusin":(eh(Re)||Re.contentEditable==="true")&&(Ms=Re,kc=H,Ti=null);break;case"focusout":Ti=kc=Ms=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,dh(re,s,ee);break;case"selectionchange":if(Fx)break;case"keydown":case"keyup":dh(re,s,ee)}var He;if(Ac)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Os?Wd(e,s)&&(Ge="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ge="onCompositionStart");Ge&&(Zd&&s.locale!=="ko"&&(Os||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Os&&(He=Vd()):(Ca=ee,wc="value"in Ca?Ca.value:Ca.textContent,Os=!0)),Re=Sr(H,Ge),0<Re.length&&(Ge=new Gd(Ge,e,null,s,ee),re.push({event:Ge,listeners:Re}),He?Ge.data=He:(He=Id(s),He!==null&&(Ge.data=He)))),(He=Ax?Dx(e,s):Ox(e,s))&&(Ge=Sr(H,"onBeforeInput"),0<Ge.length&&(Re=new Gd("onBeforeInput","beforeinput",null,s,ee),re.push({event:Re,listeners:Ge}),Re.data=He)),Ny(re,e,H,s,ee)}Lm(re,n)})}function Ii(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Sr(e,n){for(var s=n+"Capture",l=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=ji(e,s),o!=null&&l.unshift(Ii(e,o,d)),o=ji(e,n),o!=null&&l.push(Ii(e,o,d))),e.tag===3)return l;e=e.return}return[]}function Ey(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fm(e,n,s,l,o){for(var d=n._reactName,v=[];s!==null&&s!==l;){var _=s,R=_.alternate,H=_.stateNode;if(_=_.tag,R!==null&&R===l)break;_!==5&&_!==26&&_!==27||H===null||(R=H,o?(H=ji(s,d),H!=null&&v.unshift(Ii(s,H,R))):o||(H=ji(s,d),H!=null&&v.push(Ii(s,H,R)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var Ty=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function Hm(e){return(typeof e=="string"?e:""+e).replace(Ty,`
`).replace(Ry,"")}function Qm(e,n){return n=Hm(n),Hm(e)===n}function rt(e,n,s,l,o,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Rs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Rs(e,""+l);break;case"className":Tl(e,"class",l);break;case"tabIndex":Tl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(e,s,l);break;case"style":Hd(e,l,d);break;case"data":if(n!=="object"){Tl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Al(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&rt(e,n,"name",o.name,o,null),rt(e,n,"formEncType",o.formEncType,o,null),rt(e,n,"formMethod",o.formMethod,o,null),rt(e,n,"formTarget",o.formTarget,o,null)):(rt(e,n,"encType",o.encType,o,null),rt(e,n,"method",o.method,o,null),rt(e,n,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Al(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=aa);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Al(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),El(e,"popover",l);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":El(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ax.get(s)||s,El(e,s,l))}}function ru(e,n,s,l,o,d){switch(s){case"style":Hd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Rs(e,l):(typeof l=="number"||typeof l=="bigint")&&Rs(e,""+l);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Od.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(o=s.endsWith("Capture"),n=s.slice(2,o?s.length-7:void 0),d=e[rn]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,o),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,o);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):El(e,s,l)}}}function Jt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var l=!1,o=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:rt(e,n,d,v,s,null)}}o&&rt(e,n,"srcSet",s.srcSet,s,null),l&&rt(e,n,"src",s.src,s,null);return;case"input":Ve("invalid",e);var _=d=v=o=null,R=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var ee=s[l];if(ee!=null)switch(l){case"name":o=ee;break;case"type":v=ee;break;case"checked":R=ee;break;case"defaultChecked":H=ee;break;case"value":d=ee;break;case"defaultValue":_=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(c(137,n));break;default:rt(e,n,l,ee,s,null)}}Ud(e,d,_,R,H,v,o,!1);return;case"select":Ve("invalid",e),l=v=d=null;for(o in s)if(s.hasOwnProperty(o)&&(_=s[o],_!=null))switch(o){case"value":d=_;break;case"defaultValue":v=_;break;case"multiple":l=_;default:rt(e,n,o,_,s,null)}n=d,s=v,e.multiple=!!l,n!=null?Ts(e,!!l,n,!1):s!=null&&Ts(e,!!l,s,!0);return;case"textarea":Ve("invalid",e),d=o=l=null;for(v in s)if(s.hasOwnProperty(v)&&(_=s[v],_!=null))switch(v){case"value":l=_;break;case"defaultValue":o=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(c(91));break;default:rt(e,n,v,_,s,null)}Bd(e,l,o,d);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(e,n,R,l,s,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(l=0;l<Wi.length;l++)Ve(Wi[l],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:rt(e,n,H,l,s,null)}return;default:if(jc(n)){for(ee in s)s.hasOwnProperty(ee)&&(l=s[ee],l!==void 0&&ru(e,n,ee,l,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(l=s[_],l!=null&&rt(e,n,_,l,s,null))}function Ay(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,v=null,_=null,R=null,H=null,ee=null;for(Z in s){var re=s[Z];if(s.hasOwnProperty(Z)&&re!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":R=re;default:l.hasOwnProperty(Z)||rt(e,n,Z,null,l,re)}}for(var Q in l){var Z=l[Q];if(re=s[Q],l.hasOwnProperty(Q)&&(Z!=null||re!=null))switch(Q){case"type":d=Z;break;case"name":o=Z;break;case"checked":H=Z;break;case"defaultChecked":ee=Z;break;case"value":v=Z;break;case"defaultValue":_=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(c(137,n));break;default:Z!==re&&rt(e,n,Q,Z,l,re)}}xc(e,v,_,R,H,ee,d,o);return;case"select":Z=v=_=Q=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":Z=R;default:l.hasOwnProperty(d)||rt(e,n,d,null,l,R)}for(o in l)if(d=l[o],R=s[o],l.hasOwnProperty(o)&&(d!=null||R!=null))switch(o){case"value":Q=d;break;case"defaultValue":_=d;break;case"multiple":v=d;default:d!==R&&rt(e,n,o,d,l,R)}n=_,s=v,l=Z,Q!=null?Ts(e,!!s,Q,!1):!!l!=!!s&&(n!=null?Ts(e,!!s,n,!0):Ts(e,!!s,s?[]:"",!1));return;case"textarea":Z=Q=null;for(_ in s)if(o=s[_],s.hasOwnProperty(_)&&o!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:rt(e,n,_,null,l,o)}for(v in l)if(o=l[v],d=s[v],l.hasOwnProperty(v)&&(o!=null||d!=null))switch(v){case"value":Q=o;break;case"defaultValue":Z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==d&&rt(e,n,v,o,l,d)}Ld(e,Q,Z);return;case"option":for(var we in s)if(Q=s[we],s.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":e.selected=!1;break;default:rt(e,n,we,null,l,Q)}for(R in l)if(Q=l[R],Z=s[R],l.hasOwnProperty(R)&&Q!==Z&&(Q!=null||Z!=null))switch(R){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(e,n,R,Q,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in s)Q=s[ze],s.hasOwnProperty(ze)&&Q!=null&&!l.hasOwnProperty(ze)&&rt(e,n,ze,null,l,Q);for(H in l)if(Q=l[H],Z=s[H],l.hasOwnProperty(H)&&Q!==Z&&(Q!=null||Z!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,n));break;default:rt(e,n,H,Q,l,Z)}return;default:if(jc(n)){for(var ct in s)Q=s[ct],s.hasOwnProperty(ct)&&Q!==void 0&&!l.hasOwnProperty(ct)&&ru(e,n,ct,void 0,l,Q);for(ee in l)Q=l[ee],Z=s[ee],!l.hasOwnProperty(ee)||Q===Z||Q===void 0&&Z===void 0||ru(e,n,ee,Q,l,Z);return}}for(var L in s)Q=s[L],s.hasOwnProperty(L)&&Q!=null&&!l.hasOwnProperty(L)&&rt(e,n,L,null,l,Q);for(re in l)Q=l[re],Z=s[re],!l.hasOwnProperty(re)||Q===Z||Q==null&&Z==null||rt(e,n,re,Q,l,Z)}function Km(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var o=s[l],d=o.transferSize,v=o.initiatorType,_=o.duration;if(d&&_&&Km(v)){for(v=0,_=o.responseEnd,l+=1;l<s.length;l++){var R=s[l],H=R.startTime;if(H>_)break;var ee=R.transferSize,re=R.initiatorType;ee&&Km(re)&&(R=R.responseEnd,v+=ee*(R<_?1:(_-H)/(R-H)))}if(--l,n+=8*(d+v)/(o.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cu=null,ou=null;function wr(e){return e.nodeType===9?e:e.ownerDocument}function Vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $m(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var du=null;function Oy(){var e=window.event;return e&&e.type==="popstate"?e===du?!1:(du=e,!0):(du=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,Gm=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof Gm<"u"?function(e){return Gm.resolve(null).then(e).catch(zy)}:Ym;function zy(e){setTimeout(function(){throw e})}function Ka(e){return e==="head"}function Xm(e,n){var s=n,l=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(o),li(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")el(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,el(s);for(var d=s.firstChild;d;){var v=d.nextSibling,_=d.nodeName;d[xi]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&el(e.ownerDocument.body);s=o}while(s);li(n)}function Zm(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function hu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hu(s),gc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function qy(e,n,s,l){for(;e.nodeType===1;){var o=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function Uy(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qn(e.nextSibling),e===null))return null;return e}function Pm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function fu(e){return e.data==="$?"||e.data==="$~"}function mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ly(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pu=null;function Jm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return qn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Wm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Im(e,n,s){switch(n=wr(s),e){case"html":if(e=n.documentElement,!e)throw Error(c(452));return e;case"head":if(e=n.head,!e)throw Error(c(453));return e;case"body":if(e=n.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function el(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);gc(e)}var Un=new Map,ep=new Set;function Cr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=W.d;W.d={f:By,r:Fy,D:Hy,C:Qy,L:Ky,m:Vy,X:Yy,S:$y,M:Gy};function By(){var e=ya.f(),n=vr();return e||n}function Fy(e){var n=ws(e);n!==null&&n.tag===5&&n.type==="form"?vf(n):ya.r(e)}var ai=typeof document>"u"?null:document;function tp(e,n,s){var l=ai;if(l&&typeof n=="string"&&n){var o=Rn(n);o='link[rel="'+e+'"][href="'+o+'"]',typeof s=="string"&&(o+='[crossorigin="'+s+'"]'),ep.has(o)||(ep.add(o),e={rel:e,crossOrigin:s,href:n},l.querySelector(o)===null&&(n=l.createElement("link"),Jt(n,"link",e),Qt(n),l.head.appendChild(n)))}}function Hy(e){ya.D(e),tp("dns-prefetch",e,null)}function Qy(e,n){ya.C(e,n),tp("preconnect",e,n)}function Ky(e,n,s){ya.L(e,n,s);var l=ai;if(l&&e&&n){var o='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(o+='[imagesrcset="'+Rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(o+='[imagesizes="'+Rn(s.imageSizes)+'"]')):o+='[href="'+Rn(e)+'"]';var d=o;switch(n){case"style":d=si(e);break;case"script":d=ii(e)}Un.has(d)||(e=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(d,e),l.querySelector(o)!==null||n==="style"&&l.querySelector(tl(d))||n==="script"&&l.querySelector(nl(d))||(n=l.createElement("link"),Jt(n,"link",e),Qt(n),l.head.appendChild(n)))}}function Vy(e,n){ya.m(e,n);var s=ai;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",o='link[rel="modulepreload"][as="'+Rn(l)+'"][href="'+Rn(e)+'"]',d=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ii(e)}if(!Un.has(d)&&(e=y({rel:"modulepreload",href:e},n),Un.set(d,e),s.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nl(d)))return}l=s.createElement("link"),Jt(l,"link",e),Qt(l),s.head.appendChild(l)}}}function $y(e,n,s){ya.S(e,n,s);var l=ai;if(l&&e){var o=Cs(l).hoistableStyles,d=si(e);n=n||"default";var v=o.get(d);if(!v){var _={loading:0,preload:null};if(v=l.querySelector(tl(d)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(d))&&gu(e,s);var R=v=l.createElement("link");Qt(R),Jt(R,"link",e),R._p=new Promise(function(H,ee){R.onload=H,R.onerror=ee}),R.addEventListener("load",function(){_.loading|=1}),R.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Er(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:_},o.set(d,v)}}}function Yy(e,n){ya.X(e,n);var s=ai;if(s&&e){var l=Cs(s).hoistableScripts,o=ii(e),d=l.get(o);d||(d=s.querySelector(nl(o)),d||(e=y({src:e,async:!0},n),(n=Un.get(o))&&vu(e,n),d=s.createElement("script"),Qt(d),Jt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function Gy(e,n){ya.M(e,n);var s=ai;if(s&&e){var l=Cs(s).hoistableScripts,o=ii(e),d=l.get(o);d||(d=s.querySelector(nl(o)),d||(e=y({src:e,async:!0,type:"module"},n),(n=Un.get(o))&&vu(e,n),d=s.createElement("script"),Qt(d),Jt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function np(e,n,s,l){var o=(o=Ne.current)?Cr(o):null;if(!o)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=si(s.href),s=Cs(o).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=si(s.href);var d=Cs(o).hoistableStyles,v=d.get(e);if(v||(o=o.ownerDocument||o,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=o.querySelector(tl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),d||Xy(o,e,s,v.state))),n&&l===null)throw Error(c(528,""));return v}if(n&&l!==null)throw Error(c(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ii(s),s=Cs(o).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function si(e){return'href="'+Rn(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function ap(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Xy(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",s),Qt(n),e.head.appendChild(n))}function ii(e){return'[src="'+Rn(e)+'"]'}function nl(e){return"script[async]"+e}function sp(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Rn(s.href)+'"]');if(l)return n.instance=l,Qt(l),l;var o=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Qt(l),Jt(l,"style",o),Er(l,s.precedence,e),n.instance=l;case"stylesheet":o=si(s.href);var d=e.querySelector(tl(o));if(d)return n.state.loading|=4,n.instance=d,Qt(d),d;l=ap(s),(o=Un.get(o))&&gu(l,o),d=(e.ownerDocument||e).createElement("link"),Qt(d);var v=d;return v._p=new Promise(function(_,R){v.onload=_,v.onerror=R}),Jt(d,"link",l),n.state.loading|=4,Er(d,s.precedence,e),n.instance=d;case"script":return d=ii(s.src),(o=e.querySelector(nl(d)))?(n.instance=o,Qt(o),o):(l=s,(o=Un.get(d))&&(l=y({},s),vu(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),Qt(o),Jt(o,"link",l),e.head.appendChild(o),n.instance=o);case"void":return null;default:throw Error(c(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Er(l,s.precedence,e));return n.instance}function Er(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,d=o,v=0;v<l.length;v++){var _=l[v];if(_.dataset.precedence===n)d=_;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tr=null;function ip(e,n,s){if(Tr===null){var l=new Map,o=Tr=new Map;o.set(s,l)}else o=Tr,l=o.get(s),l||(l=new Map,o.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),o=0;o<s.length;o++){var d=s[o];if(!(d[xi]||d[Gt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var _=l.get(v);_?_.push(d):l.set(v,[d])}}return l}function lp(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Zy(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function rp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Py(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var o=si(l.href),d=n.querySelector(tl(o));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rr.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,Qt(d);return}d=n.ownerDocument||n,l=ap(l),(o=Un.get(o))&&gu(l,o),d=d.createElement("link"),Qt(d);var v=d;v._p=new Promise(function(_,R){v.onload=_,v.onerror=R}),Jt(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Rr.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var xu=0;function Jy(e,n){return e.stylesheets&&e.count===0&&Dr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&xu===0&&(xu=62500*Dy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>xu?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Rr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ar=null;function Dr(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ar=new Map,n.forEach(Wy,e),Ar=null,Rr.call(e))}function Wy(e,n){if(!(n.state.loading&4)){var s=Ar.get(e);if(s)var l=s.get(null);else{s=new Map,Ar.set(e,s);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var v=o[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}o=n.instance,v=o.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,o),s.set(v,o),this.count++,l=Rr.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),n.state.loading|=4}}var al={$$typeof:q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Iy(e,n,s,l,o,d,v,_,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function cp(e,n,s,l,o,d,v,_,R,H,ee,re){return e=new Iy(e,n,s,v,R,H,ee,re,_),n=1,d===!0&&(n|=24),d=jn(3,null,null,n),e.current=d,d.stateNode=e,n=Pc(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},eo(d),e}function op(e){return e?(e=qs,e):qs}function up(e,n,s,l,o,d){o=op(o),l.context===null?l.context=o:l.pendingContext=o,l=Oa(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ma(e,l,n),s!==null&&(fn(s,e,n),zi(s,e,n))}function dp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yu(e,n){dp(e,n),(e=e.alternate)&&dp(e,n)}function hp(e){if(e.tag===13||e.tag===31){var n=ns(e,67108864);n!==null&&fn(n,e,67108864),yu(e,67108864)}}function fp(e){if(e.tag===13||e.tag===31){var n=wn();n=fc(n);var s=ns(e,n);s!==null&&fn(s,e,n),yu(e,n)}}var Or=!0;function ej(e,n,s,l){var o=w.T;w.T=null;var d=W.p;try{W.p=2,ju(e,n,s,l)}finally{W.p=d,w.T=o}}function tj(e,n,s,l){var o=w.T;w.T=null;var d=W.p;try{W.p=8,ju(e,n,s,l)}finally{W.p=d,w.T=o}}function ju(e,n,s,l){if(Or){var o=bu(l);if(o===null)lu(e,n,l,Mr,s),pp(e,l);else if(aj(o,e,n,s,l))l.stopPropagation();else if(pp(e,l),n&4&&-1<nj.indexOf(e)){for(;o!==null;){var d=ws(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=an(d.pendingLanes);if(v!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var R=1<<31-b(v);_.entanglements[1]|=R,v&=~R}In(d),(et&6)===0&&(pr=se()+500,Ji(0))}}break;case 31:case 13:_=ns(d,2),_!==null&&fn(_,d,2),vr(),yu(d,2)}if(d=bu(l),d===null&&lu(e,n,l,Mr,s),d===o)break;o=d}o!==null&&l.stopPropagation()}else lu(e,n,l,null,s)}}function bu(e){return e=_c(e),_u(e)}var Mr=null;function _u(e){if(Mr=null,e=Ss(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mr=e,null}function mp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I()){case Se:return 2;case U:return 8;case xe:case Qe:return 32;case nt:return 268435456;default:return 32}default:return 32}}var Nu=!1,Va=null,$a=null,Ya=null,sl=new Map,il=new Map,Ga=[],nj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pp(e,n){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(n.pointerId)}}function ll(e,n,s,l,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[o]},n!==null&&(n=ws(n),n!==null&&hp(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function aj(e,n,s,l,o){switch(n){case"focusin":return Va=ll(Va,e,n,s,l,o),!0;case"dragenter":return $a=ll($a,e,n,s,l,o),!0;case"mouseover":return Ya=ll(Ya,e,n,s,l,o),!0;case"pointerover":var d=o.pointerId;return sl.set(d,ll(sl.get(d)||null,e,n,s,l,o)),!0;case"gotpointercapture":return d=o.pointerId,il.set(d,ll(il.get(d)||null,e,n,s,l,o)),!0}return!1}function gp(e){var n=Ss(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Rd(e.priority,function(){fp(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,Rd(e.priority,function(){fp(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bu(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);bc=l,s.target.dispatchEvent(l),bc=null}else return n=ws(s),n!==null&&hp(n),e.blockedOn=s,!1;n.shift()}return!0}function vp(e,n,s){kr(e)&&s.delete(n)}function sj(){Nu=!1,Va!==null&&kr(Va)&&(Va=null),$a!==null&&kr($a)&&($a=null),Ya!==null&&kr(Ya)&&(Ya=null),sl.forEach(vp),il.forEach(vp)}function zr(e,n){e.blockedOn===n&&(e.blockedOn=null,Nu||(Nu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sj)))}var qr=null;function xp(e){qr!==e&&(qr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){qr===e&&(qr=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],o=e[n+2];if(typeof l!="function"){if(_u(l||s)===null)continue;break}var d=ws(s);d!==null&&(e.splice(n,3),n-=3,bo(d,{pending:!0,data:o,method:s.method,action:l},l,o))}}))}function li(e){function n(R){return zr(R,e)}Va!==null&&zr(Va,e),$a!==null&&zr($a,e),Ya!==null&&zr(Ya,e),sl.forEach(n),il.forEach(n);for(var s=0;s<Ga.length;s++){var l=Ga[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ga.length&&(s=Ga[0],s.blockedOn===null);)gp(s),s.blockedOn===null&&Ga.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var o=s[l],d=s[l+1],v=o[rn]||null;if(typeof d=="function")v||xp(s);else if(v){var _=null;if(d&&d.hasAttribute("formAction")){if(o=d,v=d[rn]||null)_=v.formAction;else if(_u(o)!==null)continue}else _=v.action;typeof _=="function"?s[l+1]=_:(s.splice(l,3),l-=3),xp(s)}}}function yp(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return o=v})},focusReset:"manual",scroll:"manual"})}function n(){o!==null&&(o(),o=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),o!==null&&(o(),o=null)}}}function Su(e){this._internalRoot=e}Ur.prototype.render=Su.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(c(409));var s=n.current,l=wn();up(s,l,e,n,null,null)},Ur.prototype.unmount=Su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;up(e.current,2,null,e,null,null),vr(),n[Ns]=null}};function Ur(e){this._internalRoot=e}Ur.prototype.unstable_scheduleHydration=function(e){if(e){var n=Td();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ga.length&&n!==0&&n<Ga[s].priority;s++);Ga.splice(s,0,e),s===0&&gp(e)}};var jp=i.version;if(jp!=="19.2.0")throw Error(c(527,jp,"19.2.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=p(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var ij={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lr.isDisabled&&Lr.supportsFiber)try{ht=Lr.inject(ij),Je=Lr}catch{}}return cl.createRoot=function(e,n){if(!u(e))throw Error(c(299));var s=!1,l="",o=Ef,d=Tf,v=Rf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=cp(e,1,!1,null,null,s,l,null,o,d,v,yp),e[Ns]=n.current,iu(e),new Su(n)},cl.hydrateRoot=function(e,n,s){if(!u(e))throw Error(c(299));var l=!1,o="",d=Ef,v=Tf,_=Rf,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=cp(e,1,!0,n,s??null,l,o,R,d,v,_,yp),n.context=op(null),s=n.current,l=wn(),l=fc(l),o=Oa(l),o.callback=null,Ma(s,o,l),s=l,n.current.lanes=s,K(n,s),In(n),e[Ns]=n.current,iu(e),new Ur(n)},cl.version="19.2.0",cl}var Ap;function pj(){if(Ap)return Eu.exports;Ap=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Eu.exports=mj(),Eu.exports}var gj=pj();const vj=Tg(gj);var ui=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xj={setTimeout:(a,i)=>setTimeout(a,i),clearTimeout:a=>clearTimeout(a),setInterval:(a,i)=>setInterval(a,i),clearInterval:a=>clearInterval(a)},yj=class{#e=xj;#t=!1;setTimeoutProvider(a){this.#e=a}setTimeout(a,i){return this.#e.setTimeout(a,i)}clearTimeout(a){this.#e.clearTimeout(a)}setInterval(a,i){return this.#e.setInterval(a,i)}clearInterval(a){this.#e.clearInterval(a)}},gs=new yj;function jj(a){setTimeout(a,0)}var js=typeof window>"u"||"Deno"in globalThis;function nn(){}function bj(a,i){return typeof a=="function"?a(i):a}function Bu(a){return typeof a=="number"&&a>=0&&a!==1/0}function Rg(a,i){return Math.max(a+(i||0)-Date.now(),0)}function Pa(a,i){return typeof a=="function"?a(i):a}function Ln(a,i){return typeof a=="function"?a(i):a}function Dp(a,i){const{type:r="all",exact:c,fetchStatus:u,predicate:h,queryKey:f,stale:m}=a;if(f){if(c){if(i.queryHash!==nd(f,i.options))return!1}else if(!ml(i.queryKey,f))return!1}if(r!=="all"){const g=i.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof m=="boolean"&&i.isStale()!==m||u&&u!==i.state.fetchStatus||h&&!h(i))}function Op(a,i){const{exact:r,status:c,predicate:u,mutationKey:h}=a;if(h){if(!i.options.mutationKey)return!1;if(r){if(bs(i.options.mutationKey)!==bs(h))return!1}else if(!ml(i.options.mutationKey,h))return!1}return!(c&&i.state.status!==c||u&&!u(i))}function nd(a,i){return(i?.queryKeyHashFn||bs)(a)}function bs(a){return JSON.stringify(a,(i,r)=>Fu(r)?Object.keys(r).sort().reduce((c,u)=>(c[u]=r[u],c),{}):r)}function ml(a,i){return a===i?!0:typeof a!=typeof i?!1:a&&i&&typeof a=="object"&&typeof i=="object"?Object.keys(i).every(r=>ml(a[r],i[r])):!1}var _j=Object.prototype.hasOwnProperty;function Ag(a,i){if(a===i)return a;const r=Mp(a)&&Mp(i);if(!r&&!(Fu(a)&&Fu(i)))return i;const u=(r?a:Object.keys(a)).length,h=r?i:Object.keys(i),f=h.length,m=r?new Array(f):{};let g=0;for(let p=0;p<f;p++){const x=r?p:h[p],y=a[x],N=i[x];if(y===N){m[x]=y,(r?p<u:_j.call(a,x))&&g++;continue}if(y===null||N===null||typeof y!="object"||typeof N!="object"){m[x]=N;continue}const A=Ag(y,N);m[x]=A,A===y&&g++}return u===f&&g===u?a:m}function Xr(a,i){if(!i||Object.keys(a).length!==Object.keys(i).length)return!1;for(const r in a)if(a[r]!==i[r])return!1;return!0}function Mp(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Fu(a){if(!kp(a))return!1;const i=a.constructor;if(i===void 0)return!0;const r=i.prototype;return!(!kp(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function kp(a){return Object.prototype.toString.call(a)==="[object Object]"}function Nj(a){return new Promise(i=>{gs.setTimeout(i,a)})}function Hu(a,i,r){return typeof r.structuralSharing=="function"?r.structuralSharing(a,i):r.structuralSharing!==!1?Ag(a,i):i}function Sj(a,i,r=0){const c=[...a,i];return r&&c.length>r?c.slice(1):c}function wj(a,i,r=0){const c=[i,...a];return r&&c.length>r?c.slice(0,-1):c}var ad=Symbol();function Dg(a,i){return!a.queryFn&&i?.initialPromise?()=>i.initialPromise:!a.queryFn||a.queryFn===ad?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}function Og(a,i){return typeof a=="function"?a(...i):!!a}var Cj=class extends ui{#e;#t;#n;constructor(){super(),this.#n=a=>{if(!js&&window.addEventListener){const i=()=>a();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(a){this.#n=a,this.#t?.(),this.#t=a(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(a){this.#e!==a&&(this.#e=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(i=>{i(a)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},sd=new Cj;function Qu(){let a,i;const r=new Promise((u,h)=>{a=u,i=h});r.status="pending",r.catch(()=>{});function c(u){Object.assign(r,u),delete r.resolve,delete r.reject}return r.resolve=u=>{c({status:"fulfilled",value:u}),a(u)},r.reject=u=>{c({status:"rejected",reason:u}),i(u)},r}var Ej=jj;function Tj(){let a=[],i=0,r=m=>{m()},c=m=>{m()},u=Ej;const h=m=>{i?a.push(m):u(()=>{r(m)})},f=()=>{const m=a;a=[],m.length&&u(()=>{c(()=>{m.forEach(g=>{r(g)})})})};return{batch:m=>{let g;i++;try{g=m()}finally{i--,i||f()}return g},batchCalls:m=>(...g)=>{h(()=>{m(...g)})},schedule:h,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{c=m},setScheduler:m=>{u=m}}}var Ft=Tj(),Rj=class extends ui{#e=!0;#t;#n;constructor(){super(),this.#n=a=>{if(!js&&window.addEventListener){const i=()=>a(!0),r=()=>a(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(a){this.#n=a,this.#t?.(),this.#t=a(this.setOnline.bind(this))}setOnline(a){this.#e!==a&&(this.#e=a,this.listeners.forEach(r=>{r(a)}))}isOnline(){return this.#e}},Zr=new Rj;function Aj(a){return Math.min(1e3*2**a,3e4)}function Mg(a){return(a??"online")==="online"?Zr.isOnline():!0}var Ku=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function kg(a){let i=!1,r=0,c;const u=Qu(),h=()=>u.status!=="pending",f=C=>{if(!h()){const S=new Ku(C);N(S),a.onCancel?.(S)}},m=()=>{i=!0},g=()=>{i=!1},p=()=>sd.isFocused()&&(a.networkMode==="always"||Zr.isOnline())&&a.canRun(),x=()=>Mg(a.networkMode)&&a.canRun(),y=C=>{h()||(c?.(),u.resolve(C))},N=C=>{h()||(c?.(),u.reject(C))},A=()=>new Promise(C=>{c=S=>{(h()||p())&&C(S)},a.onPause?.()}).then(()=>{c=void 0,h()||a.onContinue?.()}),E=()=>{if(h())return;let C;const S=r===0?a.initialPromise:void 0;try{C=S??a.fn()}catch(z){C=Promise.reject(z)}Promise.resolve(C).then(y).catch(z=>{if(h())return;const O=a.retry??(js?0:3),q=a.retryDelay??Aj,V=typeof q=="function"?q(r,z):q,te=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,z);if(i||!te){N(z);return}r++,a.onFail?.(r,z),Nj(V).then(()=>p()?void 0:A()).then(()=>{i?N(z):E()})})};return{promise:u,status:()=>u.status,cancel:f,continue:()=>(c?.(),u),cancelRetry:m,continueRetry:g,canStart:x,start:()=>(x()?E():A().then(E),u)}}var zg=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bu(this.gcTime)&&(this.#e=gs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(js?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gs.clearTimeout(this.#e),this.#e=void 0)}},Dj=class extends zg{#e;#t;#n;#s;#a;#l;#r;constructor(a){super(),this.#r=!1,this.#l=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#s=a.client,this.#n=this.#s.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#e=zp(this.options),this.state=a.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(a){if(this.options={...this.#l,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=zp(this.options);i.data!==void 0&&(this.setData(i.data,{updatedAt:i.dataUpdatedAt,manual:!0}),this.#e=i)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(a,i){const r=Hu(this.state.data,a,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:i?.updatedAt,manual:i?.manual}),r}setState(a,i){this.#i({type:"setState",state:a,setStateOptions:i})}cancel(a){const i=this.#a?.promise;return this.#a?.cancel(a),i?i.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(a=>Ln(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ad||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>Pa(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!Rg(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(i=>i.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(i=>i.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(i=>i!==a),this.observers.length||(this.#a&&(this.#r?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(a,i){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&i?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(a&&this.setOptions(a),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,c=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#r=!0,r.signal)})},u=()=>{const m=Dg(this.options,i),p=(()=>{const x={client:this.#s,queryKey:this.queryKey,meta:this.meta};return c(x),x})();return this.#r=!1,this.options.persister?this.options.persister(m,p,this):m(p)},f=(()=>{const m={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:u};return c(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#i({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=kg({initialPromise:i?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Ku&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,g)=>{this.#i({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#a.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Ku){if(m.silent)return this.#a.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#i({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#i(a){const i=r=>{switch(a.type){case"failed":return{...r,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qg(r.data,this.options),fetchMeta:a.meta??null};case"success":const c={...r,data:a.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=a.manual?c:void 0,c;case"error":const u=a.error;return{...r,error:u,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...a.state}}};this.state=i(this.state),Ft.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:a})})}};function qg(a,i){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mg(i.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function zp(a){const i=typeof a.initialData=="function"?a.initialData():a.initialData,r=i!==void 0,c=r?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:i,dataUpdateCount:0,dataUpdatedAt:r?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Oj=class extends ui{constructor(a,i){super(),this.options=i,this.#e=a,this.#i=null,this.#r=Qu(),this.bindMethods(),this.setOptions(i)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#r;#i;#p;#h;#f;#o;#u;#c;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),qp(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vu(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vu(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(a){const i=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(a),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ln(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),i._defaulted&&!Xr(this.options,i)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const c=this.hasListeners();c&&Up(this.#t,r,this.options,i)&&this.#d(),this.updateResult(),c&&(this.#t!==r||Ln(this.options.enabled,this.#t)!==Ln(i.enabled,this.#t)||Pa(this.options.staleTime,this.#t)!==Pa(i.staleTime,this.#t))&&this.#g();const u=this.#v();c&&(this.#t!==r||Ln(this.options.enabled,this.#t)!==Ln(i.enabled,this.#t)||u!==this.#c)&&this.#x(u)}getOptimisticResult(a){const i=this.#e.getQueryCache().build(this.#e,a),r=this.createResult(i,a);return kj(this,r)&&(this.#s=r,this.#l=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(a,i){return new Proxy(a,{get:(r,c)=>(this.trackProp(c),i?.(c),c==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,c))})}trackProp(a){this.#m.add(a)}getCurrentQuery(){return this.#t}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){const i=this.#e.defaultQueryOptions(a),r=this.#e.getQueryCache().build(this.#e,i);return r.fetch().then(()=>this.createResult(r,i))}fetch(a){return this.#d({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(a){this.#_();let i=this.#t.fetch(this.options,a);return a?.throwOnError||(i=i.catch(nn)),i}#g(){this.#j();const a=Pa(this.options.staleTime,this.#t);if(js||this.#s.isStale||!Bu(a))return;const r=Rg(this.#s.dataUpdatedAt,a)+1;this.#o=gs.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(a){this.#b(),this.#c=a,!(js||Ln(this.options.enabled,this.#t)===!1||!Bu(this.#c)||this.#c===0)&&(this.#u=gs.setInterval(()=>{(this.options.refetchIntervalInBackground||sd.isFocused())&&this.#d()},this.#c))}#y(){this.#g(),this.#x(this.#v())}#j(){this.#o&&(gs.clearTimeout(this.#o),this.#o=void 0)}#b(){this.#u&&(gs.clearInterval(this.#u),this.#u=void 0)}createResult(a,i){const r=this.#t,c=this.options,u=this.#s,h=this.#a,f=this.#l,g=a!==r?a.state:this.#n,{state:p}=a;let x={...p},y=!1,N;if(i._optimisticResults){const oe=this.hasListeners(),X=!oe&&qp(a,i),ye=oe&&Up(a,r,i,c);(X||ye)&&(x={...x,...qg(p.data,a.options)}),i._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:A,errorUpdatedAt:E,status:C}=x;N=x.data;let S=!1;if(i.placeholderData!==void 0&&N===void 0&&C==="pending"){let oe;u?.isPlaceholderData&&i.placeholderData===f?.placeholderData?(oe=u.data,S=!0):oe=typeof i.placeholderData=="function"?i.placeholderData(this.#f?.state.data,this.#f):i.placeholderData,oe!==void 0&&(C="success",N=Hu(u?.data,oe,i),y=!0)}if(i.select&&N!==void 0&&!S)if(u&&N===h?.data&&i.select===this.#p)N=this.#h;else try{this.#p=i.select,N=i.select(N),N=Hu(u?.data,N,i),this.#h=N,this.#i=null}catch(oe){this.#i=oe}this.#i&&(A=this.#i,N=this.#h,E=Date.now(),C="error");const z=x.fetchStatus==="fetching",O=C==="pending",q=C==="error",V=O&&z,te=N!==void 0,ae={status:C,fetchStatus:x.fetchStatus,isPending:O,isSuccess:C==="success",isError:q,isInitialLoading:V,isLoading:V,data:N,dataUpdatedAt:x.dataUpdatedAt,error:A,errorUpdatedAt:E,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>g.dataUpdateCount||x.errorUpdateCount>g.errorUpdateCount,isFetching:z,isRefetching:z&&!O,isLoadingError:q&&!te,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:q&&te,isStale:id(a,i),refetch:this.refetch,promise:this.#r,isEnabled:Ln(i.enabled,a)!==!1};if(this.options.experimental_prefetchInRender){const oe=me=>{ae.status==="error"?me.reject(ae.error):ae.data!==void 0&&me.resolve(ae.data)},X=()=>{const me=this.#r=ae.promise=Qu();oe(me)},ye=this.#r;switch(ye.status){case"pending":a.queryHash===r.queryHash&&oe(ye);break;case"fulfilled":(ae.status==="error"||ae.data!==ye.value)&&X();break;case"rejected":(ae.status!=="error"||ae.error!==ye.reason)&&X();break}}return ae}updateResult(){const a=this.#s,i=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#f=this.#t),Xr(i,a))return;this.#s=i;const r=()=>{if(!a)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!this.#m.size)return!0;const h=new Set(u??this.#m);return this.options.throwOnError&&h.add("error"),Object.keys(this.#s).some(f=>{const m=f;return this.#s[m]!==a[m]&&h.has(m)})};this.#N({listeners:r()})}#_(){const a=this.#e.getQueryCache().build(this.#e,this.options);if(a===this.#t)return;const i=this.#t;this.#t=a,this.#n=a.state,this.hasListeners()&&(i?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(a){Ft.batch(()=>{a.listeners&&this.listeners.forEach(i=>{i(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Mj(a,i){return Ln(i.enabled,a)!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&i.retryOnMount===!1)}function qp(a,i){return Mj(a,i)||a.state.data!==void 0&&Vu(a,i,i.refetchOnMount)}function Vu(a,i,r){if(Ln(i.enabled,a)!==!1&&Pa(i.staleTime,a)!=="static"){const c=typeof r=="function"?r(a):r;return c==="always"||c!==!1&&id(a,i)}return!1}function Up(a,i,r,c){return(a!==i||Ln(c.enabled,a)===!1)&&(!r.suspense||a.state.status!=="error")&&id(a,r)}function id(a,i){return Ln(i.enabled,a)!==!1&&a.isStaleByTime(Pa(i.staleTime,a))}function kj(a,i){return!Xr(a.getCurrentResult(),i)}function Lp(a){return{onFetch:(i,r)=>{const c=i.options,u=i.fetchOptions?.meta?.fetchMore?.direction,h=i.state.data?.pages||[],f=i.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const p=async()=>{let x=!1;const y=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(i.signal.aborted?x=!0:i.signal.addEventListener("abort",()=>{x=!0}),i.signal)})},N=Dg(i.options,i.fetchOptions),A=async(E,C,S)=>{if(x)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const O=(()=>{const ge={client:i.client,queryKey:i.queryKey,pageParam:C,direction:S?"backward":"forward",meta:i.options.meta};return y(ge),ge})(),q=await N(O),{maxPages:V}=i.options,te=S?wj:Sj;return{pages:te(E.pages,q,V),pageParams:te(E.pageParams,C,V)}};if(u&&h.length){const E=u==="backward",C=E?zj:Bp,S={pages:h,pageParams:f},z=C(c,S);m=await A(S,z,E)}else{const E=a??h.length;do{const C=g===0?f[0]??c.initialPageParam:Bp(c,m);if(g>0&&C==null)break;m=await A(m,C),g++}while(g<E)}return m};i.options.persister?i.fetchFn=()=>i.options.persister?.(p,{client:i.client,queryKey:i.queryKey,meta:i.options.meta,signal:i.signal},r):i.fetchFn=p}}}function Bp(a,{pages:i,pageParams:r}){const c=i.length-1;return i.length>0?a.getNextPageParam(i[c],i,r[c],r):void 0}function zj(a,{pages:i,pageParams:r}){return i.length>0?a.getPreviousPageParam?.(i[0],i,r[0],r):void 0}var qj=class extends zg{#e;#t;#n;#s;constructor(a){super(),this.#e=a.client,this.mutationId=a.mutationId,this.#n=a.mutationCache,this.#t=[],this.state=a.state||Ug(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#t.includes(a)||(this.#t.push(a),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#t=this.#t.filter(i=>i!==a),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(a){const i=()=>{this.#a({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=kg({fn:()=>this.options.mutationFn?this.options.mutationFn(a,r):Promise.reject(new Error("No mutationFn found")),onFail:(h,f)=>{this.#a({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const c=this.state.status==="pending",u=!this.#s.canStart();try{if(c)i();else{this.#a({type:"pending",variables:a,isPaused:u}),await this.#n.config.onMutate?.(a,this,r);const f=await this.options.onMutate?.(a,r);f!==this.state.context&&this.#a({type:"pending",context:f,variables:a,isPaused:u})}const h=await this.#s.start();return await this.#n.config.onSuccess?.(h,a,this.state.context,this,r),await this.options.onSuccess?.(h,a,this.state.context,r),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(h,null,a,this.state.context,r),this.#a({type:"success",data:h}),h}catch(h){try{throw await this.#n.config.onError?.(h,a,this.state.context,this,r),await this.options.onError?.(h,a,this.state.context,r),await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,h,a,this.state.context,r),h}finally{this.#a({type:"error",error:h})}}finally{this.#n.runNext(this)}}#a(a){const i=r=>{switch(a.type){case"failed":return{...r,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...r,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:a.error,failureCount:r.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Ft.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(a)}),this.#n.notify({mutation:this,type:"updated",action:a})})}};function Ug(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uj=class extends ui{constructor(a={}){super(),this.config=a,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(a,i,r){const c=new qj({client:a,mutationCache:this,mutationId:++this.#n,options:a.defaultMutationOptions(i),state:r});return this.add(c),c}add(a){this.#e.add(a);const i=Br(a);if(typeof i=="string"){const r=this.#t.get(i);r?r.push(a):this.#t.set(i,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#e.delete(a)){const i=Br(a);if(typeof i=="string"){const r=this.#t.get(i);if(r)if(r.length>1){const c=r.indexOf(a);c!==-1&&r.splice(c,1)}else r[0]===a&&this.#t.delete(i)}}this.notify({type:"removed",mutation:a})}canRun(a){const i=Br(a);if(typeof i=="string"){const c=this.#t.get(i)?.find(u=>u.state.status==="pending");return!c||c===a}else return!0}runNext(a){const i=Br(a);return typeof i=="string"?this.#t.get(i)?.find(c=>c!==a&&c.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ft.batch(()=>{this.#e.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(a){const i={exact:!0,...a};return this.getAll().find(r=>Op(i,r))}findAll(a={}){return this.getAll().filter(i=>Op(a,i))}notify(a){Ft.batch(()=>{this.listeners.forEach(i=>{i(a)})})}resumePausedMutations(){const a=this.getAll().filter(i=>i.state.isPaused);return Ft.batch(()=>Promise.all(a.map(i=>i.continue().catch(nn))))}};function Br(a){return a.options.scope?.id}var Lj=class extends ui{#e;#t=void 0;#n;#s;constructor(i,r){super(),this.#e=i,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){const r=this.options;this.options=this.#e.defaultMutationOptions(i),Xr(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&bs(r.mutationKey)!==bs(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(i){this.#a(),this.#l(i)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(i,r){return this.#s=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(i)}#a(){const i=this.#n?.state??Ug();this.#t={...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset}}#l(i){Ft.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#t.variables,c=this.#t.context,u={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};i?.type==="success"?(this.#s.onSuccess?.(i.data,r,c,u),this.#s.onSettled?.(i.data,null,r,c,u)):i?.type==="error"&&(this.#s.onError?.(i.error,r,c,u),this.#s.onSettled?.(void 0,i.error,r,c,u))}this.listeners.forEach(r=>{r(this.#t)})})}},Bj=class extends ui{constructor(a={}){super(),this.config=a,this.#e=new Map}#e;build(a,i,r){const c=i.queryKey,u=i.queryHash??nd(c,i);let h=this.get(u);return h||(h=new Dj({client:a,queryKey:c,queryHash:u,options:a.defaultQueryOptions(i),state:r,defaultOptions:a.getQueryDefaults(c)}),this.add(h)),h}add(a){this.#e.has(a.queryHash)||(this.#e.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const i=this.#e.get(a.queryHash);i&&(a.destroy(),i===a&&this.#e.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){Ft.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#e.get(a)}getAll(){return[...this.#e.values()]}find(a){const i={exact:!0,...a};return this.getAll().find(r=>Dp(i,r))}findAll(a={}){const i=this.getAll();return Object.keys(a).length>0?i.filter(r=>Dp(a,r)):i}notify(a){Ft.batch(()=>{this.listeners.forEach(i=>{i(a)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},Fj=class{#e;#t;#n;#s;#a;#l;#r;#i;constructor(a={}){this.#e=a.queryCache||new Bj,this.#t=a.mutationCache||new Uj,this.#n=a.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#r=sd.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Zr.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#r?.(),this.#r=void 0,this.#i?.(),this.#i=void 0)}isFetching(a){return this.#e.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#t.findAll({...a,status:"pending"}).length}getQueryData(a){const i=this.defaultQueryOptions({queryKey:a});return this.#e.get(i.queryHash)?.state.data}ensureQueryData(a){const i=this.defaultQueryOptions(a),r=this.#e.build(this,i),c=r.state.data;return c===void 0?this.fetchQuery(a):(a.revalidateIfStale&&r.isStaleByTime(Pa(i.staleTime,r))&&this.prefetchQuery(i),Promise.resolve(c))}getQueriesData(a){return this.#e.findAll(a).map(({queryKey:i,state:r})=>{const c=r.data;return[i,c]})}setQueryData(a,i,r){const c=this.defaultQueryOptions({queryKey:a}),h=this.#e.get(c.queryHash)?.state.data,f=bj(i,h);if(f!==void 0)return this.#e.build(this,c).setData(f,{...r,manual:!0})}setQueriesData(a,i,r){return Ft.batch(()=>this.#e.findAll(a).map(({queryKey:c})=>[c,this.setQueryData(c,i,r)]))}getQueryState(a){const i=this.defaultQueryOptions({queryKey:a});return this.#e.get(i.queryHash)?.state}removeQueries(a){const i=this.#e;Ft.batch(()=>{i.findAll(a).forEach(r=>{i.remove(r)})})}resetQueries(a,i){const r=this.#e;return Ft.batch(()=>(r.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...a},i)))}cancelQueries(a,i={}){const r={revert:!0,...i},c=Ft.batch(()=>this.#e.findAll(a).map(u=>u.cancel(r)));return Promise.all(c).then(nn).catch(nn)}invalidateQueries(a,i={}){return Ft.batch(()=>(this.#e.findAll(a).forEach(r=>{r.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},i)))}refetchQueries(a,i={}){const r={...i,cancelRefetch:i.cancelRefetch??!0},c=Ft.batch(()=>this.#e.findAll(a).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let h=u.fetch(void 0,r);return r.throwOnError||(h=h.catch(nn)),u.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(c).then(nn)}fetchQuery(a){const i=this.defaultQueryOptions(a);i.retry===void 0&&(i.retry=!1);const r=this.#e.build(this,i);return r.isStaleByTime(Pa(i.staleTime,r))?r.fetch(i):Promise.resolve(r.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(nn).catch(nn)}fetchInfiniteQuery(a){return a.behavior=Lp(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(nn).catch(nn)}ensureInfiniteQueryData(a){return a.behavior=Lp(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return Zr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(a){this.#n=a}setQueryDefaults(a,i){this.#s.set(bs(a),{queryKey:a,defaultOptions:i})}getQueryDefaults(a){const i=[...this.#s.values()],r={};return i.forEach(c=>{ml(a,c.queryKey)&&Object.assign(r,c.defaultOptions)}),r}setMutationDefaults(a,i){this.#a.set(bs(a),{mutationKey:a,defaultOptions:i})}getMutationDefaults(a){const i=[...this.#a.values()],r={};return i.forEach(c=>{ml(a,c.mutationKey)&&Object.assign(r,c.defaultOptions)}),r}defaultQueryOptions(a){if(a._defaulted)return a;const i={...this.#n.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return i.queryHash||(i.queryHash=nd(i.queryKey,i)),i.refetchOnReconnect===void 0&&(i.refetchOnReconnect=i.networkMode!=="always"),i.throwOnError===void 0&&(i.throwOnError=!!i.suspense),!i.networkMode&&i.persister&&(i.networkMode="offlineFirst"),i.queryFn===ad&&(i.enabled=!1),i}defaultMutationOptions(a){return a?._defaulted?a:{...this.#n.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Lg=j.createContext(void 0),bt=a=>{const i=j.useContext(Lg);if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i},Hj=({client:a,children:i})=>(j.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),t.jsx(Lg.Provider,{value:a,children:i})),Bg=j.createContext(!1),Qj=()=>j.useContext(Bg);Bg.Provider;function Kj(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var Vj=j.createContext(Kj()),$j=()=>j.useContext(Vj),Yj=(a,i)=>{(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&(i.isReset()||(a.retryOnMount=!1))},Gj=a=>{j.useEffect(()=>{a.clearReset()},[a])},Xj=({result:a,errorResetBoundary:i,throwOnError:r,query:c,suspense:u})=>a.isError&&!i.isReset()&&!a.isFetching&&c&&(u&&a.data===void 0||Og(r,[a.error,c])),Zj=a=>{if(a.suspense){const r=u=>u==="static"?u:Math.max(u??1e3,1e3),c=a.staleTime;a.staleTime=typeof c=="function"?(...u)=>r(c(...u)):r(c),typeof a.gcTime=="number"&&(a.gcTime=Math.max(a.gcTime,1e3))}},Pj=(a,i)=>a.isLoading&&a.isFetching&&!i,Jj=(a,i)=>a?.suspense&&i.isPending,Fp=(a,i,r)=>i.fetchOptimistic(a).catch(()=>{r.clearReset()});function Wj(a,i,r){const c=Qj(),u=$j(),h=bt(),f=h.defaultQueryOptions(a);h.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=c?"isRestoring":"optimistic",Zj(f),Yj(f,u),Gj(u);const m=!h.getQueryCache().get(f.queryHash),[g]=j.useState(()=>new i(h,f)),p=g.getOptimisticResult(f),x=!c&&a.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(y=>{const N=x?g.subscribe(Ft.batchCalls(y)):nn;return g.updateResult(),N},[g,x]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),j.useEffect(()=>{g.setOptions(f)},[f,g]),Jj(f,p))throw Fp(f,g,u);if(Xj({result:p,errorResetBoundary:u,throwOnError:f.throwOnError,query:h.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw p.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(f,p),f.experimental_prefetchInRender&&!js&&Pj(p,c)&&(m?Fp(f,g,u):h.getQueryCache().get(f.queryHash)?.promise)?.catch(nn).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?p:g.trackResult(p)}function be(a,i){return Wj(a,Oj)}function Ce(a,i){const r=bt(),[c]=j.useState(()=>new Lj(r,a));j.useEffect(()=>{c.setOptions(a)},[c,a]);const u=j.useSyncExternalStore(j.useCallback(f=>c.subscribe(Ft.batchCalls(f)),[c]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h=j.useCallback((f,m)=>{c.mutate(f,m).catch(nn)},[c]);if(u.error&&Og(c.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:h,mutateAsync:u.mutate}}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hp="popstate";function Ij(a={}){function i(c,u){let{pathname:h,search:f,hash:m}=c.location;return $u("",{pathname:h,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(c,u){return typeof u=="string"?u:pl(u)}return tb(i,r,null,a)}function jt(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function Bn(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function eb(){return Math.random().toString(36).substring(2,10)}function Qp(a,i){return{usr:a.state,key:a.key,idx:i}}function $u(a,i,r=null,c){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof i=="string"?di(i):i,state:r,key:i&&i.key||c||eb()}}function pl({pathname:a="/",search:i="",hash:r=""}){return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function di(a){let i={};if(a){let r=a.indexOf("#");r>=0&&(i.hash=a.substring(r),a=a.substring(0,r));let c=a.indexOf("?");c>=0&&(i.search=a.substring(c),a=a.substring(0,c)),a&&(i.pathname=a)}return i}function tb(a,i,r,c={}){let{window:u=document.defaultView,v5Compat:h=!1}=c,f=u.history,m="POP",g=null,p=x();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function x(){return(f.state||{idx:null}).idx}function y(){m="POP";let S=x(),z=S==null?null:S-p;p=S,g&&g({action:m,location:C.location,delta:z})}function N(S,z){m="PUSH";let O=$u(C.location,S,z);p=x()+1;let q=Qp(O,p),V=C.createHref(O);try{f.pushState(q,"",V)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;u.location.assign(V)}h&&g&&g({action:m,location:C.location,delta:1})}function A(S,z){m="REPLACE";let O=$u(C.location,S,z);p=x();let q=Qp(O,p),V=C.createHref(O);f.replaceState(q,"",V),h&&g&&g({action:m,location:C.location,delta:0})}function E(S){return nb(S)}let C={get action(){return m},get location(){return a(u,f)},listen(S){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Hp,y),g=S,()=>{u.removeEventListener(Hp,y),g=null}},createHref(S){return i(u,S)},createURL:E,encodeLocation(S){let z=E(S);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:A,go(S){return f.go(S)}};return C}function nb(a,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),jt(r,"No window.location.(origin|href) available to create URL");let c=typeof a=="string"?a:pl(a);return c=c.replace(/ $/,"%20"),!i&&c.startsWith("//")&&(c=r+c),new URL(c,r)}function Fg(a,i,r="/"){return ab(a,i,r,!1)}function ab(a,i,r,c){let u=typeof i=="string"?di(i):i,h=_a(u.pathname||"/",r);if(h==null)return null;let f=Hg(a);sb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=pb(h);m=fb(f[g],p,c)}return m}function Hg(a,i=[],r=[],c="",u=!1){let h=(f,m,g=u,p)=>{let x={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(c)&&g)return;jt(x.relativePath.startsWith(c),`Absolute route path "${x.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(c.length)}let y=ba([c,x.relativePath]),N=r.concat(x);f.children&&f.children.length>0&&(jt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hg(f.children,i,N,y,g)),!(f.path==null&&!f.index)&&i.push({path:y,score:db(y,f.index),routesMeta:N})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))h(f,m);else for(let g of Qg(f.path))h(f,m,!0,g)}),i}function Qg(a){let i=a.split("/");if(i.length===0)return[];let[r,...c]=i,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(c.length===0)return u?[h,""]:[h];let f=Qg(c.join("/")),m=[];return m.push(...f.map(g=>g===""?h:[h,g].join("/"))),u&&m.push(...f),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function sb(a){a.sort((i,r)=>i.score!==r.score?r.score-i.score:hb(i.routesMeta.map(c=>c.childrenIndex),r.routesMeta.map(c=>c.childrenIndex)))}var ib=/^:[\w-]+$/,lb=3,rb=2,cb=1,ob=10,ub=-2,Kp=a=>a==="*";function db(a,i){let r=a.split("/"),c=r.length;return r.some(Kp)&&(c+=ub),i&&(c+=rb),r.filter(u=>!Kp(u)).reduce((u,h)=>u+(ib.test(h)?lb:h===""?cb:ob),c)}function hb(a,i){return a.length===i.length&&a.slice(0,-1).every((c,u)=>c===i[u])?a[a.length-1]-i[i.length-1]:0}function fb(a,i,r=!1){let{routesMeta:c}=a,u={},h="/",f=[];for(let m=0;m<c.length;++m){let g=c[m],p=m===c.length-1,x=h==="/"?i:i.slice(h.length)||"/",y=Pr({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),N=g.route;if(!y&&p&&r&&!c[c.length-1].route.index&&(y=Pr({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!y)return null;Object.assign(u,y.params),f.push({params:u,pathname:ba([h,y.pathname]),pathnameBase:yb(ba([h,y.pathnameBase])),route:N}),y.pathnameBase!=="/"&&(h=ba([h,y.pathnameBase]))}return f}function Pr(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,c]=mb(a.path,a.caseSensitive,a.end),u=i.match(r);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:c.reduce((p,{paramName:x,isOptional:y},N)=>{if(x==="*"){let E=m[N]||"";f=h.slice(0,h.length-E.length).replace(/(.)\/+$/,"$1")}const A=m[N];return y&&!A?p[x]=void 0:p[x]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:f,pattern:a}}function mb(a,i=!1,r=!0){Bn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let c=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(c.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(c.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),c]}function pb(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Bn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),a}}function _a(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,c=a.charAt(r);return c&&c!=="/"?null:a.slice(r)||"/"}function gb(a,i="/"){let{pathname:r,search:c="",hash:u=""}=typeof a=="string"?di(a):a;return{pathname:r?r.startsWith("/")?r:vb(r,i):i,search:jb(c),hash:bb(u)}}function vb(a,i){let r=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function Du(a,i,r,c){return`Cannot include a '${a}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xb(a){return a.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function ld(a){let i=xb(a);return i.map((r,c)=>c===i.length-1?r.pathname:r.pathnameBase)}function rd(a,i,r,c=!1){let u;typeof a=="string"?u=di(a):(u={...a},jt(!u.pathname||!u.pathname.includes("?"),Du("?","pathname","search",u)),jt(!u.pathname||!u.pathname.includes("#"),Du("#","pathname","hash",u)),jt(!u.search||!u.search.includes("#"),Du("#","search","hash",u)));let h=a===""||u.pathname==="",f=h?"/":u.pathname,m;if(f==null)m=r;else{let y=i.length-1;if(!c&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),y-=1;u.pathname=N.join("/")}m=y>=0?i[y]:"/"}let g=gb(u,m),p=f&&f!=="/"&&f.endsWith("/"),x=(h||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var ba=a=>a.join("/").replace(/\/\/+/g,"/"),yb=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),jb=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,bb=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function _b(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Kg=["POST","PUT","PATCH","DELETE"];new Set(Kg);var Nb=["GET",...Kg];new Set(Nb);var hi=j.createContext(null);hi.displayName="DataRouter";var tc=j.createContext(null);tc.displayName="DataRouterState";j.createContext(!1);var Vg=j.createContext({isTransitioning:!1});Vg.displayName="ViewTransition";var Sb=j.createContext(new Map);Sb.displayName="Fetchers";var wb=j.createContext(null);wb.displayName="Await";var Gn=j.createContext(null);Gn.displayName="Navigation";var gl=j.createContext(null);gl.displayName="Location";var Fn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var cd=j.createContext(null);cd.displayName="RouteError";function Cb(a,{relative:i}={}){jt(fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:c}=j.useContext(Gn),{hash:u,pathname:h,search:f}=xl(a,{relative:i}),m=h;return r!=="/"&&(m=h==="/"?r:ba([r,h])),c.createHref({pathname:m,search:f,hash:u})}function fi(){return j.useContext(gl)!=null}function Na(){return jt(fi(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(gl).location}var $g="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yg(a){j.useContext(Gn).static||j.useLayoutEffect(a)}function Et(){let{isDataRoute:a}=j.useContext(Fn);return a?Hb():Eb()}function Eb(){jt(fi(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext(hi),{basename:i,navigator:r}=j.useContext(Gn),{matches:c}=j.useContext(Fn),{pathname:u}=Na(),h=JSON.stringify(ld(c)),f=j.useRef(!1);return Yg(()=>{f.current=!0}),j.useCallback((g,p={})=>{if(Bn(f.current,$g),!f.current)return;if(typeof g=="number"){r.go(g);return}let x=rd(g,JSON.parse(h),u,p.relative==="path");a==null&&i!=="/"&&(x.pathname=x.pathname==="/"?i:ba([i,x.pathname])),(p.replace?r.replace:r.push)(x,p.state,p)},[i,r,h,u,a])}var Tb=j.createContext(null);function Rb(a){let i=j.useContext(Fn).outlet;return j.useMemo(()=>i&&j.createElement(Tb.Provider,{value:a},i),[i,a])}function vl(){let{matches:a}=j.useContext(Fn),i=a[a.length-1];return i?i.params:{}}function xl(a,{relative:i}={}){let{matches:r}=j.useContext(Fn),{pathname:c}=Na(),u=JSON.stringify(ld(r));return j.useMemo(()=>rd(a,JSON.parse(u),c,i==="path"),[a,u,c,i])}function Ab(a,i){return Gg(a,i)}function Gg(a,i,r,c,u){jt(fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(Gn),{matches:f}=j.useContext(Fn),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let O=y&&y.path||"";Xg(p,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let N=Na(),A;if(i){let O=typeof i=="string"?di(i):i;jt(x==="/"||O.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${O.pathname}" was given in the \`location\` prop.`),A=O}else A=N;let E=A.pathname||"/",C=E;if(x!=="/"){let O=x.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=Fg(a,{pathname:C});Bn(y||S!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Bn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=zb(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},g,O.params),pathname:ba([x,h.encodeLocation?h.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?x:ba([x,h.encodeLocation?h.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),f,r,c,u);return i&&z?j.createElement(gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function Db(){let a=Fb(),i=_b(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},h={padding:"2px 4px",backgroundColor:c},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},i),r?j.createElement("pre",{style:u},r):null,f)}var Ob=j.createElement(Db,null),Mb=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){this.props.unstable_onError?this.props.unstable_onError(a,i):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?j.createElement(Fn.Provider,{value:this.props.routeContext},j.createElement(cd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kb({routeContext:a,match:i,children:r}){let c=j.useContext(hi);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),j.createElement(Fn.Provider,{value:a},r)}function zb(a,i=[],r=null,c=null,u=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let h=a,f=r?.errors;if(f!=null){let p=h.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);jt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,p+1))}let m=!1,g=-1;if(r)for(let p=0;p<h.length;p++){let x=h[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=p),x.route.id){let{loaderData:y,errors:N}=r,A=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!N||N[x.route.id]===void 0);if(x.route.lazy||A){m=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((p,x,y)=>{let N,A=!1,E=null,C=null;r&&(N=f&&x.route.id?f[x.route.id]:void 0,E=x.route.errorElement||Ob,m&&(g<0&&y===0?(Xg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):g===y&&(A=!0,C=x.route.hydrateFallbackElement||null)));let S=i.concat(h.slice(0,y+1)),z=()=>{let O;return N?O=E:A?O=C:x.route.Component?O=j.createElement(x.route.Component,null):x.route.element?O=x.route.element:O=p,j.createElement(kb,{match:x,routeContext:{outlet:p,matches:S,isDataRoute:r!=null},children:O})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?j.createElement(Mb,{location:r.location,revalidation:r.revalidation,component:E,error:N,children:z(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:c}):z()},null)}function od(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qb(a){let i=j.useContext(hi);return jt(i,od(a)),i}function Ub(a){let i=j.useContext(tc);return jt(i,od(a)),i}function Lb(a){let i=j.useContext(Fn);return jt(i,od(a)),i}function ud(a){let i=Lb(a),r=i.matches[i.matches.length-1];return jt(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function Bb(){return ud("useRouteId")}function Fb(){let a=j.useContext(cd),i=Ub("useRouteError"),r=ud("useRouteError");return a!==void 0?a:i.errors?.[r]}function Hb(){let{router:a}=qb("useNavigate"),i=ud("useNavigate"),r=j.useRef(!1);return Yg(()=>{r.current=!0}),j.useCallback(async(u,h={})=>{Bn(r.current,$g),r.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:i,...h}))},[a,i])}var Vp={};function Xg(a,i,r){!i&&!Vp[a]&&(Vp[a]=!0,Bn(!1,r))}j.memo(Qb);function Qb({routes:a,future:i,state:r,unstable_onError:c}){return Gg(a,void 0,r,c,i)}function dd({to:a,replace:i,state:r,relative:c}){jt(fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=j.useContext(Gn);Bn(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(Fn),{pathname:f}=Na(),m=Et(),g=rd(a,ld(h),f,c==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:i,state:r,relative:c})},[m,p,c,i,r]),null}function Zg(a){return Rb(a.context)}function $e(a){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kb({basename:a="/",children:i=null,location:r,navigationType:c="POP",navigator:u,static:h=!1}){jt(!fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:u,static:h,future:{}}),[f,u,h]);typeof r=="string"&&(r=di(r));let{pathname:g="/",search:p="",hash:x="",state:y=null,key:N="default"}=r,A=j.useMemo(()=>{let E=_a(g,f);return E==null?null:{location:{pathname:E,search:p,hash:x,state:y,key:N},navigationType:c}},[f,g,p,x,y,N,c]);return Bn(A!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement(Gn.Provider,{value:m},j.createElement(gl.Provider,{children:i,value:A}))}function Vb({children:a,location:i}){return Ab(Yu(a),i)}function Yu(a,i=[]){let r=[];return j.Children.forEach(a,(c,u)=>{if(!j.isValidElement(c))return;let h=[...i,u];if(c.type===j.Fragment){r.push.apply(r,Yu(c.props.children,h));return}jt(c.type===$e,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let f={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=Yu(c.props.children,h)),r.push(f)}),r}var Kr="get",Vr="application/x-www-form-urlencoded";function nc(a){return a!=null&&typeof a.tagName=="string"}function $b(a){return nc(a)&&a.tagName.toLowerCase()==="button"}function Yb(a){return nc(a)&&a.tagName.toLowerCase()==="form"}function Gb(a){return nc(a)&&a.tagName.toLowerCase()==="input"}function Xb(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Zb(a,i){return a.button===0&&(!i||i==="_self")&&!Xb(a)}function Gu(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((i,r)=>{let c=a[r];return i.concat(Array.isArray(c)?c.map(u=>[r,u]):[[r,c]])},[]))}function Pb(a,i){let r=Gu(a);return i&&i.forEach((c,u)=>{r.has(u)||i.getAll(u).forEach(h=>{r.append(u,h)})}),r}var Fr=null;function Jb(){if(Fr===null)try{new FormData(document.createElement("form"),0),Fr=!1}catch{Fr=!0}return Fr}var Wb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ou(a){return a!=null&&!Wb.has(a)?(Bn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vr}"`),null):a}function Ib(a,i){let r,c,u,h,f;if(Yb(a)){let m=a.getAttribute("action");c=m?_a(m,i):null,r=a.getAttribute("method")||Kr,u=Ou(a.getAttribute("enctype"))||Vr,h=new FormData(a)}else if($b(a)||Gb(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(c=g?_a(g,i):null,r=a.getAttribute("formmethod")||m.getAttribute("method")||Kr,u=Ou(a.getAttribute("formenctype"))||Ou(m.getAttribute("enctype"))||Vr,h=new FormData(m,a),!Jb()){let{name:p,type:x,value:y}=a;if(x==="image"){let N=p?`${p}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else p&&h.append(p,y)}}else{if(nc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Kr,c=null,u=Vr,f=a}return h&&u==="text/plain"&&(f=h,h=void 0),{action:c,method:r.toLowerCase(),encType:u,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hd(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function e_(a,i,r){let c=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return c.pathname==="/"?c.pathname=`_root.${r}`:i&&_a(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.${r}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${r}`,c}async function t_(a,i){if(a.id in i)return i[a.id];try{let r=await import(a.module);return i[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n_(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function a_(a,i,r){let c=await Promise.all(a.map(async u=>{let h=i.routes[u.route.id];if(h){let f=await t_(h,r);return f.links?f.links():[]}return[]}));return r_(c.flat(1).filter(n_).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function $p(a,i,r,c,u,h){let f=(g,p)=>r[p]?g.route.id!==r[p].route.id:!0,m=(g,p)=>r[p].pathname!==g.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==g.params["*"];return h==="assets"?i.filter((g,p)=>f(g,p)||m(g,p)):h==="data"?i.filter((g,p)=>{let x=c.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let y=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function s_(a,i,{includeHydrateFallback:r}={}){return i_(a.map(c=>{let u=i.routes[c.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function i_(a){return[...new Set(a)]}function l_(a){let i={},r=Object.keys(a).sort();for(let c of r)i[c]=a[c];return i}function r_(a,i){let r=new Set;return new Set(i),a.reduce((c,u)=>{let h=JSON.stringify(l_(u));return r.has(h)||(r.add(h),c.push({key:h,link:u})),c},[])}function Pg(){let a=j.useContext(hi);return hd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function c_(){let a=j.useContext(tc);return hd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var fd=j.createContext(void 0);fd.displayName="FrameworkContext";function Jg(){let a=j.useContext(fd);return hd(a,"You must render this element inside a <HydratedRouter> element"),a}function o_(a,i){let r=j.useContext(fd),[c,u]=j.useState(!1),[h,f]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:y}=i,N=j.useRef(null);j.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let C=z=>{z.forEach(O=>{f(O.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return N.current&&S.observe(N.current),()=>{S.disconnect()}}},[a]),j.useEffect(()=>{if(c){let C=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(C)}}},[c]);let A=()=>{u(!0)},E=()=>{u(!1),f(!1)};return r?a!=="intent"?[h,N,{}]:[h,N,{onFocus:ol(m,A),onBlur:ol(g,E),onMouseEnter:ol(p,A),onMouseLeave:ol(x,E),onTouchStart:ol(y,A)}]:[!1,N,{}]}function ol(a,i){return r=>{a&&a(r),r.defaultPrevented||i(r)}}function u_({page:a,...i}){let{router:r}=Pg(),c=j.useMemo(()=>Fg(r.routes,a,r.basename),[r.routes,a,r.basename]);return c?j.createElement(h_,{page:a,matches:c,...i}):null}function d_(a){let{manifest:i,routeModules:r}=Jg(),[c,u]=j.useState([]);return j.useEffect(()=>{let h=!1;return a_(a,i,r).then(f=>{h||u(f)}),()=>{h=!0}},[a,i,r]),c}function h_({page:a,matches:i,...r}){let c=Na(),{manifest:u,routeModules:h}=Jg(),{basename:f}=Pg(),{loaderData:m,matches:g}=c_(),p=j.useMemo(()=>$p(a,i,g,u,c,"data"),[a,i,g,u,c]),x=j.useMemo(()=>$p(a,i,g,u,c,"assets"),[a,i,g,u,c]),y=j.useMemo(()=>{if(a===c.pathname+c.search+c.hash)return[];let E=new Set,C=!1;if(i.forEach(z=>{let O=u.routes[z.route.id];!O||!O.hasLoader||(!p.some(q=>q.route.id===z.route.id)&&z.route.id in m&&h[z.route.id]?.shouldRevalidate||O.hasClientLoader?C=!0:E.add(z.route.id))}),E.size===0)return[];let S=e_(a,f,"data");return C&&E.size>0&&S.searchParams.set("_routes",i.filter(z=>E.has(z.route.id)).map(z=>z.route.id).join(",")),[S.pathname+S.search]},[f,m,c,u,p,i,a,h]),N=j.useMemo(()=>s_(x,u),[x,u]),A=d_(x);return j.createElement(j.Fragment,null,y.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),N.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),A.map(({key:E,link:C})=>j.createElement("link",{key:E,nonce:r.nonce,...C})))}function f_(...a){return i=>{a.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var Wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wg&&(window.__reactRouterVersion="7.9.4")}catch{}function m_({basename:a,children:i,window:r}){let c=j.useRef();c.current==null&&(c.current=Ij({window:r,v5Compat:!0}));let u=c.current,[h,f]=j.useState({action:u.action,location:u.location}),m=j.useCallback(g=>{j.startTransition(()=>f(g))},[f]);return j.useLayoutEffect(()=>u.listen(m),[u,m]),j.createElement(Kb,{basename:a,children:i,location:h.location,navigationType:h.action,navigator:u})}var Ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=j.forwardRef(function({onClick:i,discover:r="render",prefetch:c="none",relative:u,reloadDocument:h,replace:f,state:m,target:g,to:p,preventScrollReset:x,viewTransition:y,...N},A){let{basename:E}=j.useContext(Gn),C=typeof p=="string"&&Ig.test(p),S,z=!1;if(typeof p=="string"&&C&&(S=p,Wg))try{let X=new URL(window.location.href),ye=p.startsWith("//")?new URL(X.protocol+p):new URL(p),me=_a(ye.pathname,E);ye.origin===X.origin&&me!=null?p=me+ye.search+ye.hash:z=!0}catch{Bn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Cb(p,{relative:u}),[q,V,te]=o_(c,N),ge=v_(p,{replace:f,state:m,target:g,preventScrollReset:x,relative:u,viewTransition:y});function ae(X){i&&i(X),X.defaultPrevented||ge(X)}let oe=j.createElement("a",{...N,...te,href:S||O,onClick:z||h?i:ae,ref:f_(A,V),target:g,"data-discover":!C&&r==="render"?"true":void 0});return q&&!C?j.createElement(j.Fragment,null,oe,j.createElement(u_,{page:O})):oe});Ht.displayName="Link";var ps=j.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:c="",end:u=!1,style:h,to:f,viewTransition:m,children:g,...p},x){let y=xl(f,{relative:p.relative}),N=Na(),A=j.useContext(tc),{navigator:E,basename:C}=j.useContext(Gn),S=A!=null&&__(y)&&m===!0,z=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,O=N.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(O=O.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&C&&(q=_a(q,C)||q);const V=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=O===z||!u&&O.startsWith(z)&&O.charAt(V)==="/",ge=q!=null&&(q===z||!u&&q.startsWith(z)&&q.charAt(z.length)==="/"),ae={isActive:te,isPending:ge,isTransitioning:S},oe=te?i:void 0,X;typeof c=="function"?X=c(ae):X=[c,te?"active":null,ge?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ye=typeof h=="function"?h(ae):h;return j.createElement(Ht,{...p,"aria-current":oe,className:X,ref:x,style:ye,to:f,viewTransition:m},typeof g=="function"?g(ae):g)});ps.displayName="NavLink";var p_=j.forwardRef(({discover:a="render",fetcherKey:i,navigate:r,reloadDocument:c,replace:u,state:h,method:f=Kr,action:m,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:y,...N},A)=>{let E=j_(),C=b_(m,{relative:p}),S=f.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&Ig.test(m),O=q=>{if(g&&g(q),q.defaultPrevented)return;q.preventDefault();let V=q.nativeEvent.submitter,te=V?.getAttribute("formmethod")||f;E(V||q.currentTarget,{fetcherKey:i,method:te,navigate:r,replace:u,state:h,relative:p,preventScrollReset:x,viewTransition:y})};return j.createElement("form",{ref:A,method:S,action:C,onSubmit:c?g:O,...N,"data-discover":!z&&a==="render"?"true":void 0})});p_.displayName="Form";function g_(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ev(a){let i=j.useContext(hi);return jt(i,g_(a)),i}function v_(a,{target:i,replace:r,state:c,preventScrollReset:u,relative:h,viewTransition:f}={}){let m=Et(),g=Na(),p=xl(a,{relative:h});return j.useCallback(x=>{if(Zb(x,i)){x.preventDefault();let y=r!==void 0?r:pl(g)===pl(p);m(a,{replace:y,state:c,preventScrollReset:u,relative:h,viewTransition:f})}},[g,m,p,r,c,i,a,u,h,f])}function tv(a){Bn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=j.useRef(Gu(a)),r=j.useRef(!1),c=Na(),u=j.useMemo(()=>Pb(c.search,r.current?null:i.current),[c.search]),h=Et(),f=j.useCallback((m,g)=>{const p=Gu(typeof m=="function"?m(new URLSearchParams(u)):m);r.current=!0,h("?"+p,g)},[h,u]);return[u,f]}var x_=0,y_=()=>`__${String(++x_)}__`;function j_(){let{router:a}=ev("useSubmit"),{basename:i}=j.useContext(Gn),r=Bb();return j.useCallback(async(c,u={})=>{let{action:h,method:f,encType:m,formData:g,body:p}=Ib(c,i);if(u.navigate===!1){let x=u.fetcherKey||y_();await a.fetch(x,r,u.action||h,{preventScrollReset:u.preventScrollReset,formData:g,body:p,formMethod:u.method||f,formEncType:u.encType||m,flushSync:u.flushSync})}else await a.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:g,body:p,formMethod:u.method||f,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,i,r])}function b_(a,{relative:i}={}){let{basename:r}=j.useContext(Gn),c=j.useContext(Fn);jt(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),h={...xl(a||".",{relative:i})},f=Na();if(a==null){h.search=f.search;let m=new URLSearchParams(h.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();h.search=x?`?${x}`:""}}return(!a||a===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:ba([r,h.pathname])),pl(h)}function __(a,{relative:i}={}){let r=j.useContext(Vg);jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=ev("useViewTransitionState"),u=xl(a,{relative:i});if(!r.isTransitioning)return!1;let h=_a(r.currentLocation.pathname,c)||r.currentLocation.pathname,f=_a(r.nextLocation.pathname,c)||r.nextLocation.pathname;return Pr(u.pathname,f)!=null||Pr(u.pathname,h)!=null}const N_=new Fj({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1},mutations:{retry:0}}});function nv(a,i){return function(){return a.apply(i,arguments)}}const{toString:S_}=Object.prototype,{getPrototypeOf:md}=Object,{iterator:ac,toStringTag:av}=Symbol,sc=(a=>i=>{const r=S_.call(i);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=a=>(a=a.toLowerCase(),i=>sc(i)===a),ic=a=>i=>typeof i===a,{isArray:mi}=Array,oi=ic("undefined");function yl(a){return a!==null&&!oi(a)&&a.constructor!==null&&!oi(a.constructor)&&vn(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const sv=Xn("ArrayBuffer");function w_(a){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(a):i=a&&a.buffer&&sv(a.buffer),i}const C_=ic("string"),vn=ic("function"),iv=ic("number"),jl=a=>a!==null&&typeof a=="object",E_=a=>a===!0||a===!1,$r=a=>{if(sc(a)!=="object")return!1;const i=md(a);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(av in a)&&!(ac in a)},T_=a=>{if(!jl(a)||yl(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},R_=Xn("Date"),A_=Xn("File"),D_=Xn("Blob"),O_=Xn("FileList"),M_=a=>jl(a)&&vn(a.pipe),k_=a=>{let i;return a&&(typeof FormData=="function"&&a instanceof FormData||vn(a.append)&&((i=sc(a))==="formdata"||i==="object"&&vn(a.toString)&&a.toString()==="[object FormData]"))},z_=Xn("URLSearchParams"),[q_,U_,L_,B_]=["ReadableStream","Request","Response","Headers"].map(Xn),F_=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bl(a,i,{allOwnKeys:r=!1}={}){if(a===null||typeof a>"u")return;let c,u;if(typeof a!="object"&&(a=[a]),mi(a))for(c=0,u=a.length;c<u;c++)i.call(null,a[c],c,a);else{if(yl(a))return;const h=r?Object.getOwnPropertyNames(a):Object.keys(a),f=h.length;let m;for(c=0;c<f;c++)m=h[c],i.call(null,a[m],m,a)}}function lv(a,i){if(yl(a))return null;i=i.toLowerCase();const r=Object.keys(a);let c=r.length,u;for(;c-- >0;)if(u=r[c],i===u.toLowerCase())return u;return null}const vs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rv=a=>!oi(a)&&a!==vs;function Xu(){const{caseless:a,skipUndefined:i}=rv(this)&&this||{},r={},c=(u,h)=>{const f=a&&lv(r,h)||h;$r(r[f])&&$r(u)?r[f]=Xu(r[f],u):$r(u)?r[f]=Xu({},u):mi(u)?r[f]=u.slice():(!i||!oi(u))&&(r[f]=u)};for(let u=0,h=arguments.length;u<h;u++)arguments[u]&&bl(arguments[u],c);return r}const H_=(a,i,r,{allOwnKeys:c}={})=>(bl(i,(u,h)=>{r&&vn(u)?a[h]=nv(u,r):a[h]=u},{allOwnKeys:c}),a),Q_=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),K_=(a,i,r,c)=>{a.prototype=Object.create(i.prototype,c),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:i.prototype}),r&&Object.assign(a.prototype,r)},V_=(a,i,r,c)=>{let u,h,f;const m={};if(i=i||{},a==null)return i;do{for(u=Object.getOwnPropertyNames(a),h=u.length;h-- >0;)f=u[h],(!c||c(f,a,i))&&!m[f]&&(i[f]=a[f],m[f]=!0);a=r!==!1&&md(a)}while(a&&(!r||r(a,i))&&a!==Object.prototype);return i},$_=(a,i,r)=>{a=String(a),(r===void 0||r>a.length)&&(r=a.length),r-=i.length;const c=a.indexOf(i,r);return c!==-1&&c===r},Y_=a=>{if(!a)return null;if(mi(a))return a;let i=a.length;if(!iv(i))return null;const r=new Array(i);for(;i-- >0;)r[i]=a[i];return r},G_=(a=>i=>a&&i instanceof a)(typeof Uint8Array<"u"&&md(Uint8Array)),X_=(a,i)=>{const c=(a&&a[ac]).call(a);let u;for(;(u=c.next())&&!u.done;){const h=u.value;i.call(a,h[0],h[1])}},Z_=(a,i)=>{let r;const c=[];for(;(r=a.exec(i))!==null;)c.push(r);return c},P_=Xn("HTMLFormElement"),J_=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,c,u){return c.toUpperCase()+u}),Yp=(({hasOwnProperty:a})=>(i,r)=>a.call(i,r))(Object.prototype),W_=Xn("RegExp"),cv=(a,i)=>{const r=Object.getOwnPropertyDescriptors(a),c={};bl(r,(u,h)=>{let f;(f=i(u,h,a))!==!1&&(c[h]=f||u)}),Object.defineProperties(a,c)},I_=a=>{cv(a,(i,r)=>{if(vn(a)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const c=a[r];if(vn(c)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},e0=(a,i)=>{const r={},c=u=>{u.forEach(h=>{r[h]=!0})};return mi(a)?c(a):c(String(a).split(i)),r},t0=()=>{},n0=(a,i)=>a!=null&&Number.isFinite(a=+a)?a:i;function a0(a){return!!(a&&vn(a.append)&&a[av]==="FormData"&&a[ac])}const s0=a=>{const i=new Array(10),r=(c,u)=>{if(jl(c)){if(i.indexOf(c)>=0)return;if(yl(c))return c;if(!("toJSON"in c)){i[u]=c;const h=mi(c)?[]:{};return bl(c,(f,m)=>{const g=r(f,u+1);!oi(g)&&(h[m]=g)}),i[u]=void 0,h}}return c};return r(a,0)},i0=Xn("AsyncFunction"),l0=a=>a&&(jl(a)||vn(a))&&vn(a.then)&&vn(a.catch),ov=((a,i)=>a?setImmediate:i?((r,c)=>(vs.addEventListener("message",({source:u,data:h})=>{u===vs&&h===r&&c.length&&c.shift()()},!1),u=>{c.push(u),vs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",vn(vs.postMessage)),r0=typeof queueMicrotask<"u"?queueMicrotask.bind(vs):typeof process<"u"&&process.nextTick||ov,c0=a=>a!=null&&vn(a[ac]),G={isArray:mi,isArrayBuffer:sv,isBuffer:yl,isFormData:k_,isArrayBufferView:w_,isString:C_,isNumber:iv,isBoolean:E_,isObject:jl,isPlainObject:$r,isEmptyObject:T_,isReadableStream:q_,isRequest:U_,isResponse:L_,isHeaders:B_,isUndefined:oi,isDate:R_,isFile:A_,isBlob:D_,isRegExp:W_,isFunction:vn,isStream:M_,isURLSearchParams:z_,isTypedArray:G_,isFileList:O_,forEach:bl,merge:Xu,extend:H_,trim:F_,stripBOM:Q_,inherits:K_,toFlatObject:V_,kindOf:sc,kindOfTest:Xn,endsWith:$_,toArray:Y_,forEachEntry:X_,matchAll:Z_,isHTMLForm:P_,hasOwnProperty:Yp,hasOwnProp:Yp,reduceDescriptors:cv,freezeMethods:I_,toObjectSet:e0,toCamelCase:J_,noop:t0,toFiniteNumber:n0,findKey:lv,global:vs,isContextDefined:rv,isSpecCompliantForm:a0,toJSONObject:s0,isAsyncFn:i0,isThenable:l0,setImmediate:ov,asap:r0,isIterable:c0};function Fe(a,i,r,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",i&&(this.code=i),r&&(this.config=r),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}G.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const uv=Fe.prototype,dv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{dv[a]={value:a}});Object.defineProperties(Fe,dv);Object.defineProperty(uv,"isAxiosError",{value:!0});Fe.from=(a,i,r,c,u,h)=>{const f=Object.create(uv);G.toFlatObject(a,f,function(x){return x!==Error.prototype},p=>p!=="isAxiosError");const m=a&&a.message?a.message:"Error",g=i==null&&a?a.code:i;return Fe.call(f,m,g,r,c,u),a&&f.cause==null&&Object.defineProperty(f,"cause",{value:a,configurable:!0}),f.name=a&&a.name||"Error",h&&Object.assign(f,h),f};const o0=null;function Zu(a){return G.isPlainObject(a)||G.isArray(a)}function hv(a){return G.endsWith(a,"[]")?a.slice(0,-2):a}function Gp(a,i,r){return a?a.concat(i).map(function(u,h){return u=hv(u),!r&&h?"["+u+"]":u}).join(r?".":""):i}function u0(a){return G.isArray(a)&&!a.some(Zu)}const d0=G.toFlatObject(G,{},null,function(i){return/^is[A-Z]/.test(i)});function lc(a,i,r){if(!G.isObject(a))throw new TypeError("target must be an object");i=i||new FormData,r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!G.isUndefined(S[C])});const c=r.metaTokens,u=r.visitor||x,h=r.dots,f=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(i);if(!G.isFunction(u))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(G.isDate(E))return E.toISOString();if(G.isBoolean(E))return E.toString();if(!g&&G.isBlob(E))throw new Fe("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(E)||G.isTypedArray(E)?g&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function x(E,C,S){let z=E;if(E&&!S&&typeof E=="object"){if(G.endsWith(C,"{}"))C=c?C:C.slice(0,-2),E=JSON.stringify(E);else if(G.isArray(E)&&u0(E)||(G.isFileList(E)||G.endsWith(C,"[]"))&&(z=G.toArray(E)))return C=hv(C),z.forEach(function(q,V){!(G.isUndefined(q)||q===null)&&i.append(f===!0?Gp([C],V,h):f===null?C:C+"[]",p(q))}),!1}return Zu(E)?!0:(i.append(Gp(S,C,h),p(E)),!1)}const y=[],N=Object.assign(d0,{defaultVisitor:x,convertValue:p,isVisitable:Zu});function A(E,C){if(!G.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(E),G.forEach(E,function(z,O){(!(G.isUndefined(z)||z===null)&&u.call(i,z,G.isString(O)?O.trim():O,C,N))===!0&&A(z,C?C.concat(O):[O])}),y.pop()}}if(!G.isObject(a))throw new TypeError("data must be an object");return A(a),i}function Xp(a){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(c){return i[c]})}function pd(a,i){this._pairs=[],a&&lc(a,this,i)}const fv=pd.prototype;fv.append=function(i,r){this._pairs.push([i,r])};fv.toString=function(i){const r=i?function(c){return i.call(this,c,Xp)}:Xp;return this._pairs.map(function(u){return r(u[0])+"="+r(u[1])},"").join("&")};function h0(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mv(a,i,r){if(!i)return a;const c=r&&r.encode||h0;G.isFunction(r)&&(r={serialize:r});const u=r&&r.serialize;let h;if(u?h=u(i,r):h=G.isURLSearchParams(i)?i.toString():new pd(i,r).toString(c),h){const f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+h}return a}class Zp{constructor(){this.handlers=[]}use(i,r,c){return this.handlers.push({fulfilled:i,rejected:r,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){G.forEach(this.handlers,function(c){c!==null&&i(c)})}}const pv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f0=typeof URLSearchParams<"u"?URLSearchParams:pd,m0=typeof FormData<"u"?FormData:null,p0=typeof Blob<"u"?Blob:null,g0={isBrowser:!0,classes:{URLSearchParams:f0,FormData:m0,Blob:p0},protocols:["http","https","file","blob","url","data"]},gd=typeof window<"u"&&typeof document<"u",Pu=typeof navigator=="object"&&navigator||void 0,v0=gd&&(!Pu||["ReactNative","NativeScript","NS"].indexOf(Pu.product)<0),x0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",y0=gd&&window.location.href||"http://localhost",j0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gd,hasStandardBrowserEnv:v0,hasStandardBrowserWebWorkerEnv:x0,navigator:Pu,origin:y0},Symbol.toStringTag,{value:"Module"})),It={...j0,...g0};function b0(a,i){return lc(a,new It.classes.URLSearchParams,{visitor:function(r,c,u,h){return It.isNode&&G.isBuffer(r)?(this.append(c,r.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...i})}function _0(a){return G.matchAll(/\w+|\[(\w*)]/g,a).map(i=>i[0]==="[]"?"":i[1]||i[0])}function N0(a){const i={},r=Object.keys(a);let c;const u=r.length;let h;for(c=0;c<u;c++)h=r[c],i[h]=a[h];return i}function gv(a){function i(r,c,u,h){let f=r[h++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),g=h>=r.length;return f=!f&&G.isArray(u)?u.length:f,g?(G.hasOwnProp(u,f)?u[f]=[u[f],c]:u[f]=c,!m):((!u[f]||!G.isObject(u[f]))&&(u[f]=[]),i(r,c,u[f],h)&&G.isArray(u[f])&&(u[f]=N0(u[f])),!m)}if(G.isFormData(a)&&G.isFunction(a.entries)){const r={};return G.forEachEntry(a,(c,u)=>{i(_0(c),u,r,0)}),r}return null}function S0(a,i,r){if(G.isString(a))try{return(i||JSON.parse)(a),G.trim(a)}catch(c){if(c.name!=="SyntaxError")throw c}return(r||JSON.stringify)(a)}const _l={transitional:pv,adapter:["xhr","http","fetch"],transformRequest:[function(i,r){const c=r.getContentType()||"",u=c.indexOf("application/json")>-1,h=G.isObject(i);if(h&&G.isHTMLForm(i)&&(i=new FormData(i)),G.isFormData(i))return u?JSON.stringify(gv(i)):i;if(G.isArrayBuffer(i)||G.isBuffer(i)||G.isStream(i)||G.isFile(i)||G.isBlob(i)||G.isReadableStream(i))return i;if(G.isArrayBufferView(i))return i.buffer;if(G.isURLSearchParams(i))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let m;if(h){if(c.indexOf("application/x-www-form-urlencoded")>-1)return b0(i,this.formSerializer).toString();if((m=G.isFileList(i))||c.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return lc(m?{"files[]":i}:i,g&&new g,this.formSerializer)}}return h||u?(r.setContentType("application/json",!1),S0(i)):i}],transformResponse:[function(i){const r=this.transitional||_l.transitional,c=r&&r.forcedJSONParsing,u=this.responseType==="json";if(G.isResponse(i)||G.isReadableStream(i))return i;if(i&&G.isString(i)&&(c&&!this.responseType||u)){const f=!(r&&r.silentJSONParsing)&&u;try{return JSON.parse(i,this.parseReviver)}catch(m){if(f)throw m.name==="SyntaxError"?Fe.from(m,Fe.ERR_BAD_RESPONSE,this,null,this.response):m}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],a=>{_l.headers[a]={}});const w0=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C0=a=>{const i={};let r,c,u;return a&&a.split(`
`).forEach(function(f){u=f.indexOf(":"),r=f.substring(0,u).trim().toLowerCase(),c=f.substring(u+1).trim(),!(!r||i[r]&&w0[r])&&(r==="set-cookie"?i[r]?i[r].push(c):i[r]=[c]:i[r]=i[r]?i[r]+", "+c:c)}),i},Pp=Symbol("internals");function ul(a){return a&&String(a).trim().toLowerCase()}function Yr(a){return a===!1||a==null?a:G.isArray(a)?a.map(Yr):String(a)}function E0(a){const i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=r.exec(a);)i[c[1]]=c[2];return i}const T0=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Mu(a,i,r,c,u){if(G.isFunction(c))return c.call(this,i,r);if(u&&(i=r),!!G.isString(i)){if(G.isString(c))return i.indexOf(c)!==-1;if(G.isRegExp(c))return c.test(i)}}function R0(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,c)=>r.toUpperCase()+c)}function A0(a,i){const r=G.toCamelCase(" "+i);["get","set","has"].forEach(c=>{Object.defineProperty(a,c+r,{value:function(u,h,f){return this[c].call(this,i,u,h,f)},configurable:!0})})}let xn=class{constructor(i){i&&this.set(i)}set(i,r,c){const u=this;function h(m,g,p){const x=ul(g);if(!x)throw new Error("header name must be a non-empty string");const y=G.findKey(u,x);(!y||u[y]===void 0||p===!0||p===void 0&&u[y]!==!1)&&(u[y||g]=Yr(m))}const f=(m,g)=>G.forEach(m,(p,x)=>h(p,x,g));if(G.isPlainObject(i)||i instanceof this.constructor)f(i,r);else if(G.isString(i)&&(i=i.trim())&&!T0(i))f(C0(i),r);else if(G.isObject(i)&&G.isIterable(i)){let m={},g,p;for(const x of i){if(!G.isArray(x))throw TypeError("Object iterator must return a key-value pair");m[p=x[0]]=(g=m[p])?G.isArray(g)?[...g,x[1]]:[g,x[1]]:x[1]}f(m,r)}else i!=null&&h(r,i,c);return this}get(i,r){if(i=ul(i),i){const c=G.findKey(this,i);if(c){const u=this[c];if(!r)return u;if(r===!0)return E0(u);if(G.isFunction(r))return r.call(this,u,c);if(G.isRegExp(r))return r.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,r){if(i=ul(i),i){const c=G.findKey(this,i);return!!(c&&this[c]!==void 0&&(!r||Mu(this,this[c],c,r)))}return!1}delete(i,r){const c=this;let u=!1;function h(f){if(f=ul(f),f){const m=G.findKey(c,f);m&&(!r||Mu(c,c[m],m,r))&&(delete c[m],u=!0)}}return G.isArray(i)?i.forEach(h):h(i),u}clear(i){const r=Object.keys(this);let c=r.length,u=!1;for(;c--;){const h=r[c];(!i||Mu(this,this[h],h,i,!0))&&(delete this[h],u=!0)}return u}normalize(i){const r=this,c={};return G.forEach(this,(u,h)=>{const f=G.findKey(c,h);if(f){r[f]=Yr(u),delete r[h];return}const m=i?R0(h):String(h).trim();m!==h&&delete r[h],r[m]=Yr(u),c[m]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const r=Object.create(null);return G.forEach(this,(c,u)=>{c!=null&&c!==!1&&(r[u]=i&&G.isArray(c)?c.join(", "):c)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,r])=>i+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...r){const c=new this(i);return r.forEach(u=>c.set(u)),c}static accessor(i){const c=(this[Pp]=this[Pp]={accessors:{}}).accessors,u=this.prototype;function h(f){const m=ul(f);c[m]||(A0(u,f),c[m]=!0)}return G.isArray(i)?i.forEach(h):h(i),this}};xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(xn.prototype,({value:a},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>a,set(c){this[r]=c}}});G.freezeMethods(xn);function ku(a,i){const r=this||_l,c=i||r,u=xn.from(c.headers);let h=c.data;return G.forEach(a,function(m){h=m.call(r,h,u.normalize(),i?i.status:void 0)}),u.normalize(),h}function vv(a){return!!(a&&a.__CANCEL__)}function pi(a,i,r){Fe.call(this,a??"canceled",Fe.ERR_CANCELED,i,r),this.name="CanceledError"}G.inherits(pi,Fe,{__CANCEL__:!0});function xv(a,i,r){const c=r.config.validateStatus;!r.status||!c||c(r.status)?a(r):i(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function D0(a){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return i&&i[1]||""}function O0(a,i){a=a||10;const r=new Array(a),c=new Array(a);let u=0,h=0,f;return i=i!==void 0?i:1e3,function(g){const p=Date.now(),x=c[h];f||(f=p),r[u]=g,c[u]=p;let y=h,N=0;for(;y!==u;)N+=r[y++],y=y%a;if(u=(u+1)%a,u===h&&(h=(h+1)%a),p-f<i)return;const A=x&&p-x;return A?Math.round(N*1e3/A):void 0}}function M0(a,i){let r=0,c=1e3/i,u,h;const f=(p,x=Date.now())=>{r=x,u=null,h&&(clearTimeout(h),h=null),a(...p)};return[(...p)=>{const x=Date.now(),y=x-r;y>=c?f(p,x):(u=p,h||(h=setTimeout(()=>{h=null,f(u)},c-y)))},()=>u&&f(u)]}const Jr=(a,i,r=3)=>{let c=0;const u=O0(50,250);return M0(h=>{const f=h.loaded,m=h.lengthComputable?h.total:void 0,g=f-c,p=u(g),x=f<=m;c=f;const y={loaded:f,total:m,progress:m?f/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&x?(m-f)/p:void 0,event:h,lengthComputable:m!=null,[i?"download":"upload"]:!0};a(y)},r)},Jp=(a,i)=>{const r=a!=null;return[c=>i[0]({lengthComputable:r,total:a,loaded:c}),i[1]]},Wp=a=>(...i)=>G.asap(()=>a(...i)),k0=It.hasStandardBrowserEnv?((a,i)=>r=>(r=new URL(r,It.origin),a.protocol===r.protocol&&a.host===r.host&&(i||a.port===r.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,z0=It.hasStandardBrowserEnv?{write(a,i,r,c,u,h){const f=[a+"="+encodeURIComponent(i)];G.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),G.isString(c)&&f.push("path="+c),G.isString(u)&&f.push("domain="+u),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read(a){const i=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function q0(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function U0(a,i){return i?a.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):a}function yv(a,i,r){let c=!q0(i);return a&&(c||r==!1)?U0(a,i):i}const Ip=a=>a instanceof xn?{...a}:a;function _s(a,i){i=i||{};const r={};function c(p,x,y,N){return G.isPlainObject(p)&&G.isPlainObject(x)?G.merge.call({caseless:N},p,x):G.isPlainObject(x)?G.merge({},x):G.isArray(x)?x.slice():x}function u(p,x,y,N){if(G.isUndefined(x)){if(!G.isUndefined(p))return c(void 0,p,y,N)}else return c(p,x,y,N)}function h(p,x){if(!G.isUndefined(x))return c(void 0,x)}function f(p,x){if(G.isUndefined(x)){if(!G.isUndefined(p))return c(void 0,p)}else return c(void 0,x)}function m(p,x,y){if(y in i)return c(p,x);if(y in a)return c(void 0,p)}const g={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(p,x,y)=>u(Ip(p),Ip(x),y,!0)};return G.forEach(Object.keys({...a,...i}),function(x){const y=g[x]||u,N=y(a[x],i[x],x);G.isUndefined(N)&&y!==m||(r[x]=N)}),r}const jv=a=>{const i=_s({},a);let{data:r,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:h,headers:f,auth:m}=i;if(i.headers=f=xn.from(f),i.url=mv(yv(i.baseURL,i.url,i.allowAbsoluteUrls),a.params,a.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),G.isFormData(r)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(G.isFunction(r.getHeaders)){const g=r.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([x,y])=>{p.includes(x.toLowerCase())&&f.set(x,y)})}}if(It.hasStandardBrowserEnv&&(c&&G.isFunction(c)&&(c=c(i)),c||c!==!1&&k0(i.url))){const g=u&&h&&z0.read(h);g&&f.set(u,g)}return i},L0=typeof XMLHttpRequest<"u",B0=L0&&function(a){return new Promise(function(r,c){const u=jv(a);let h=u.data;const f=xn.from(u.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=u,x,y,N,A,E;function C(){A&&A(),E&&E(),u.cancelToken&&u.cancelToken.unsubscribe(x),u.signal&&u.signal.removeEventListener("abort",x)}let S=new XMLHttpRequest;S.open(u.method.toUpperCase(),u.url,!0),S.timeout=u.timeout;function z(){if(!S)return;const q=xn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),te={data:!m||m==="text"||m==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:q,config:a,request:S};xv(function(ae){r(ae),C()},function(ae){c(ae),C()},te),S=null}"onloadend"in S?S.onloadend=z:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(z)},S.onabort=function(){S&&(c(new Fe("Request aborted",Fe.ECONNABORTED,a,S)),S=null)},S.onerror=function(V){const te=V&&V.message?V.message:"Network Error",ge=new Fe(te,Fe.ERR_NETWORK,a,S);ge.event=V||null,c(ge),S=null},S.ontimeout=function(){let V=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const te=u.transitional||pv;u.timeoutErrorMessage&&(V=u.timeoutErrorMessage),c(new Fe(V,te.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,a,S)),S=null},h===void 0&&f.setContentType(null),"setRequestHeader"in S&&G.forEach(f.toJSON(),function(V,te){S.setRequestHeader(te,V)}),G.isUndefined(u.withCredentials)||(S.withCredentials=!!u.withCredentials),m&&m!=="json"&&(S.responseType=u.responseType),p&&([N,E]=Jr(p,!0),S.addEventListener("progress",N)),g&&S.upload&&([y,A]=Jr(g),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",A)),(u.cancelToken||u.signal)&&(x=q=>{S&&(c(!q||q.type?new pi(null,a,S):q),S.abort(),S=null)},u.cancelToken&&u.cancelToken.subscribe(x),u.signal&&(u.signal.aborted?x():u.signal.addEventListener("abort",x)));const O=D0(u.url);if(O&&It.protocols.indexOf(O)===-1){c(new Fe("Unsupported protocol "+O+":",Fe.ERR_BAD_REQUEST,a));return}S.send(h||null)})},F0=(a,i)=>{const{length:r}=a=a?a.filter(Boolean):[];if(i||r){let c=new AbortController,u;const h=function(p){if(!u){u=!0,m();const x=p instanceof Error?p:this.reason;c.abort(x instanceof Fe?x:new pi(x instanceof Error?x.message:x))}};let f=i&&setTimeout(()=>{f=null,h(new Fe(`timeout ${i} of ms exceeded`,Fe.ETIMEDOUT))},i);const m=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(p=>{p.unsubscribe?p.unsubscribe(h):p.removeEventListener("abort",h)}),a=null)};a.forEach(p=>p.addEventListener("abort",h));const{signal:g}=c;return g.unsubscribe=()=>G.asap(m),g}},H0=function*(a,i){let r=a.byteLength;if(r<i){yield a;return}let c=0,u;for(;c<r;)u=c+i,yield a.slice(c,u),c=u},Q0=async function*(a,i){for await(const r of K0(a))yield*H0(r,i)},K0=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const i=a.getReader();try{for(;;){const{done:r,value:c}=await i.read();if(r)break;yield c}}finally{await i.cancel()}},eg=(a,i,r,c)=>{const u=Q0(a,i);let h=0,f,m=g=>{f||(f=!0,c&&c(g))};return new ReadableStream({async pull(g){try{const{done:p,value:x}=await u.next();if(p){m(),g.close();return}let y=x.byteLength;if(r){let N=h+=y;r(N)}g.enqueue(new Uint8Array(x))}catch(p){throw m(p),p}},cancel(g){return m(g),u.return()}},{highWaterMark:2})},tg=64*1024,{isFunction:Hr}=G,V0=(({Request:a,Response:i})=>({Request:a,Response:i}))(G.global),{ReadableStream:ng,TextEncoder:ag}=G.global,sg=(a,...i)=>{try{return!!a(...i)}catch{return!1}},$0=a=>{a=G.merge.call({skipUndefined:!0},V0,a);const{fetch:i,Request:r,Response:c}=a,u=i?Hr(i):typeof fetch=="function",h=Hr(r),f=Hr(c);if(!u)return!1;const m=u&&Hr(ng),g=u&&(typeof ag=="function"?(E=>C=>E.encode(C))(new ag):async E=>new Uint8Array(await new r(E).arrayBuffer())),p=h&&m&&sg(()=>{let E=!1;const C=new r(It.origin,{body:new ng,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!C}),x=f&&m&&sg(()=>G.isReadableStream(new c("").body)),y={stream:x&&(E=>E.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!y[E]&&(y[E]=(C,S)=>{let z=C&&C[E];if(z)return z.call(C);throw new Fe(`Response type '${E}' is not supported`,Fe.ERR_NOT_SUPPORT,S)})});const N=async E=>{if(E==null)return 0;if(G.isBlob(E))return E.size;if(G.isSpecCompliantForm(E))return(await new r(It.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(G.isArrayBufferView(E)||G.isArrayBuffer(E))return E.byteLength;if(G.isURLSearchParams(E)&&(E=E+""),G.isString(E))return(await g(E)).byteLength},A=async(E,C)=>{const S=G.toFiniteNumber(E.getContentLength());return S??N(C)};return async E=>{let{url:C,method:S,data:z,signal:O,cancelToken:q,timeout:V,onDownloadProgress:te,onUploadProgress:ge,responseType:ae,headers:oe,withCredentials:X="same-origin",fetchOptions:ye}=jv(E),me=i||fetch;ae=ae?(ae+"").toLowerCase():"text";let de=F0([O,q&&q.toAbortSignal()],V),pe=null;const k=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let ne;try{if(ge&&p&&S!=="get"&&S!=="head"&&(ne=await A(oe,z))!==0){let T=new r(C,{method:"POST",body:z,duplex:"half"}),$;if(G.isFormData(z)&&($=T.headers.get("content-type"))&&oe.setContentType($),T.body){const[Y,J]=Jp(ne,Jr(Wp(ge)));z=eg(T.body,tg,Y,J)}}G.isString(X)||(X=X?"include":"omit");const w=h&&"credentials"in r.prototype,W={...ye,signal:de,method:S.toUpperCase(),headers:oe.normalize().toJSON(),body:z,duplex:"half",credentials:w?X:void 0};pe=h&&new r(C,W);let ce=await(h?me(pe,ye):me(C,W));const ve=x&&(ae==="stream"||ae==="response");if(x&&(te||ve&&k)){const T={};["status","statusText","headers"].forEach(le=>{T[le]=ce[le]});const $=G.toFiniteNumber(ce.headers.get("content-length")),[Y,J]=te&&Jp($,Jr(Wp(te),!0))||[];ce=new c(eg(ce.body,tg,Y,()=>{J&&J(),k&&k()}),T)}ae=ae||"text";let Te=await y[G.findKey(y,ae)||"text"](ce,E);return!ve&&k&&k(),await new Promise((T,$)=>{xv(T,$,{data:Te,headers:xn.from(ce.headers),status:ce.status,statusText:ce.statusText,config:E,request:pe})})}catch(w){throw k&&k(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,E,pe),{cause:w.cause||w}):Fe.from(w,w&&w.code,E,pe)}}},Y0=new Map,bv=a=>{let i=a?a.env:{};const{fetch:r,Request:c,Response:u}=i,h=[c,u,r];let f=h.length,m=f,g,p,x=Y0;for(;m--;)g=h[m],p=x.get(g),p===void 0&&x.set(g,p=m?new Map:$0(i)),x=p;return p};bv();const Ju={http:o0,xhr:B0,fetch:{get:bv}};G.forEach(Ju,(a,i)=>{if(a){try{Object.defineProperty(a,"name",{value:i})}catch{}Object.defineProperty(a,"adapterName",{value:i})}});const ig=a=>`- ${a}`,G0=a=>G.isFunction(a)||a===null||a===!1,_v={getAdapter:(a,i)=>{a=G.isArray(a)?a:[a];const{length:r}=a;let c,u;const h={};for(let f=0;f<r;f++){c=a[f];let m;if(u=c,!G0(c)&&(u=Ju[(m=String(c)).toLowerCase()],u===void 0))throw new Fe(`Unknown adapter '${m}'`);if(u&&(G.isFunction(u)||(u=u.get(i))))break;h[m||"#"+f]=u}if(!u){const f=Object.entries(h).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=r?f.length>1?`since :
`+f.map(ig).join(`
`):" "+ig(f[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return u},adapters:Ju};function zu(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new pi(null,a)}function lg(a){return zu(a),a.headers=xn.from(a.headers),a.data=ku.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),_v.getAdapter(a.adapter||_l.adapter,a)(a).then(function(c){return zu(a),c.data=ku.call(a,a.transformResponse,c),c.headers=xn.from(c.headers),c},function(c){return vv(c)||(zu(a),c&&c.response&&(c.response.data=ku.call(a,a.transformResponse,c.response),c.response.headers=xn.from(c.response.headers))),Promise.reject(c)})}const Nv="1.12.2",rc={};["object","boolean","number","function","string","symbol"].forEach((a,i)=>{rc[a]=function(c){return typeof c===a||"a"+(i<1?"n ":" ")+a}});const rg={};rc.transitional=function(i,r,c){function u(h,f){return"[Axios v"+Nv+"] Transitional option '"+h+"'"+f+(c?". "+c:"")}return(h,f,m)=>{if(i===!1)throw new Fe(u(f," has been removed"+(r?" in "+r:"")),Fe.ERR_DEPRECATED);return r&&!rg[f]&&(rg[f]=!0,console.warn(u(f," has been deprecated since v"+r+" and will be removed in the near future"))),i?i(h,f,m):!0}};rc.spelling=function(i){return(r,c)=>(console.warn(`${c} is likely a misspelling of ${i}`),!0)};function X0(a,i,r){if(typeof a!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const c=Object.keys(a);let u=c.length;for(;u-- >0;){const h=c[u],f=i[h];if(f){const m=a[h],g=m===void 0||f(m,h,a);if(g!==!0)throw new Fe("option "+h+" must be "+g,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+h,Fe.ERR_BAD_OPTION)}}const Gr={assertOptions:X0,validators:rc},ea=Gr.validators;let ys=class{constructor(i){this.defaults=i||{},this.interceptors={request:new Zp,response:new Zp}}async request(i,r){try{return await this._request(i,r)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?h&&!String(c.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+h):c.stack=h}catch{}}throw c}}_request(i,r){typeof i=="string"?(r=r||{},r.url=i):r=i||{},r=_s(this.defaults,r);const{transitional:c,paramsSerializer:u,headers:h}=r;c!==void 0&&Gr.assertOptions(c,{silentJSONParsing:ea.transitional(ea.boolean),forcedJSONParsing:ea.transitional(ea.boolean),clarifyTimeoutError:ea.transitional(ea.boolean)},!1),u!=null&&(G.isFunction(u)?r.paramsSerializer={serialize:u}:Gr.assertOptions(u,{encode:ea.function,serialize:ea.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Gr.assertOptions(r,{baseUrl:ea.spelling("baseURL"),withXsrfToken:ea.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=h&&G.merge(h.common,h[r.method]);h&&G.forEach(["delete","get","head","post","put","patch","common"],E=>{delete h[E]}),r.headers=xn.concat(f,h);const m=[];let g=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(g=g&&C.synchronous,m.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let x,y=0,N;if(!g){const E=[lg.bind(this),void 0];for(E.unshift(...m),E.push(...p),N=E.length,x=Promise.resolve(r);y<N;)x=x.then(E[y++],E[y++]);return x}N=m.length;let A=r;for(;y<N;){const E=m[y++],C=m[y++];try{A=E(A)}catch(S){C.call(this,S);break}}try{x=lg.call(this,A)}catch(E){return Promise.reject(E)}for(y=0,N=p.length;y<N;)x=x.then(p[y++],p[y++]);return x}getUri(i){i=_s(this.defaults,i);const r=yv(i.baseURL,i.url,i.allowAbsoluteUrls);return mv(r,i.params,i.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(i){ys.prototype[i]=function(r,c){return this.request(_s(c||{},{method:i,url:r,data:(c||{}).data}))}});G.forEach(["post","put","patch"],function(i){function r(c){return function(h,f,m){return this.request(_s(m||{},{method:i,headers:c?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}ys.prototype[i]=r(),ys.prototype[i+"Form"]=r(!0)});let Z0=class Sv{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(h){r=h});const c=this;this.promise.then(u=>{if(!c._listeners)return;let h=c._listeners.length;for(;h-- >0;)c._listeners[h](u);c._listeners=null}),this.promise.then=u=>{let h;const f=new Promise(m=>{c.subscribe(m),h=m}).then(u);return f.cancel=function(){c.unsubscribe(h)},f},i(function(h,f,m){c.reason||(c.reason=new pi(h,f,m),r(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const i=new AbortController,r=c=>{i.abort(c)};return this.subscribe(r),i.signal.unsubscribe=()=>this.unsubscribe(r),i.signal}static source(){let i;return{token:new Sv(function(u){i=u}),cancel:i}}};function P0(a){return function(r){return a.apply(null,r)}}function J0(a){return G.isObject(a)&&a.isAxiosError===!0}const Wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wu).forEach(([a,i])=>{Wu[i]=a});function wv(a){const i=new ys(a),r=nv(ys.prototype.request,i);return G.extend(r,ys.prototype,i,{allOwnKeys:!0}),G.extend(r,i,null,{allOwnKeys:!0}),r.create=function(u){return wv(_s(a,u))},r}const Dt=wv(_l);Dt.Axios=ys;Dt.CanceledError=pi;Dt.CancelToken=Z0;Dt.isCancel=vv;Dt.VERSION=Nv;Dt.toFormData=lc;Dt.AxiosError=Fe;Dt.Cancel=Dt.CanceledError;Dt.all=function(i){return Promise.all(i)};Dt.spread=P0;Dt.isAxiosError=J0;Dt.mergeConfig=_s;Dt.AxiosHeaders=xn;Dt.formToJSON=a=>gv(G.isHTMLForm(a)?new FormData(a):a);Dt.getAdapter=_v.getAdapter;Dt.HttpStatusCode=Wu;Dt.default=Dt;const{Axios:l1,AxiosError:r1,CanceledError:c1,isCancel:o1,CancelToken:u1,VERSION:d1,all:h1,Cancel:f1,isAxiosError:m1,spread:p1,toFormData:g1,AxiosHeaders:v1,HttpStatusCode:x1,formToJSON:y1,getAdapter:j1,mergeConfig:b1}=Dt,ue=Dt.create({baseURL:"https://dyu-backend-production.up.railway.app"});ue.interceptors.request.use(a=>{const i=localStorage.getItem("token");return i&&(a.headers=a.headers??{},a.headers.Authorization=`Bearer ${i}`),a});ue.interceptors.response.use(a=>a,a=>(a?.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(a)));async function Cv(a){const{data:i}=await ue.post("/api/auth/login",a);return i}async function Ev(a){const{data:i}=await ue.post("/api/auth/register",a);return i}async function Tv(a){console.log("[API] verifyEmail token:",a.substring(0,20)+"...");try{const i=await ue.get("/api/auth/verify-email",{params:{token:a}});return console.log("[API] verifyEmail :",i),i.data}catch(i){throw console.error("[API] verifyEmail :",i),i}}async function Rv(a){const{data:i}=await ue.post("/api/auth/resend-verification",{email:a});return i}async function Hn(){const{data:a}=await ue.get("/api/me");return a}async function Av(a){const{data:i}=await ue.post("/api/auth/create-test-user",a);return i}const W0=Object.freeze(Object.defineProperty({__proto__:null,createTestUser:Av,loginJson:Cv,me:Hn,register:Ev,resendVerificationEmail:Rv,verifyEmail:Tv},Symbol.toStringTag,{value:"Module"}));function cg(){const a=Et(),i=typeof window<"u"?localStorage.getItem("token"):null,[r,c]=j.useState(null);j.useEffect(()=>{i&&Hn().then(g=>{c(g?.role??null)}).catch(()=>{c(null)})},[i]);const u=()=>{localStorage.removeItem("token"),a("/login")},h=r==="ambassador",f=r==="student",m=()=>h?"/lobby":f?"/student-dashboard":"/applications";return t.jsxs("div",{className:"app-layout",children:[i&&t.jsxs("nav",{className:"app-nav",children:[t.jsx("div",{className:"nav-brand",children:t.jsx(Ht,{to:m(),children:""})}),t.jsxs("div",{className:"nav-links",children:[!h&&t.jsx(Ht,{to:"/applications",children:""}),t.jsx(Ht,{to:"/lobby",children:""}),t.jsx(Ht,{to:"/chat-history",children:""}),t.jsx(Ht,{to:"/profile",children:""})]}),t.jsx("div",{className:"nav-actions",children:t.jsx("button",{onClick:u,className:"btn-logout",children:""})})]}),t.jsx("main",{className:"app-main",children:t.jsx(Zg,{})})]})}function Bt({children:a}){return localStorage.getItem("token")?t.jsx(t.Fragment,{children:a}):t.jsx(dd,{to:"/login",replace:!0})}function Vt({allow:a,children:i}){const r=Et(),[c,u]=j.useState("loading");return j.useEffect(()=>{(async()=>{try{const f=(await Hn())?.role;f&&a.includes(f)?u("ok"):u("deny")}catch{u("deny")}})()},[a]),c==="loading"?t.jsx("div",{style:{padding:24,textAlign:"center"},children:"..."}):c==="deny"?(r("/login"),null):t.jsx(t.Fragment,{children:i})}function I0(){const[a,i]=j.useState(null);return j.useEffect(()=>{Hn().then(r=>{const c=r?.role;i(c==="admin"?"/admin":c==="ambassador"?"/lobby":c==="student"?"/student-dashboard":c==="document_reviewer"?"/document-reviewer":c==="second_reviewer"?"/second-reviewer":c==="administrative_unit"?"/administrative-unit":"/login")}).catch(()=>{i("/login")})},[]),a?t.jsx(dd,{to:a,replace:!0}):t.jsx("div",{style:{padding:24,textAlign:"center"},children:"..."})}async function eN(){const{data:a}=await ue.get("/api/page-content");return a}async function tN(a){const{data:i}=await ue.post("/api/page-content",a);return i}async function nN(a,i){const{data:r}=await ue.patch(`/api/page-content/${a}`,i);return r}async function aN(a){await ue.delete(`/api/page-content/${a}`)}async function sN(a){const{data:i}=await ue.get(`/api/page-content/${a}`);return i}function gi({pageKey:a,fallbackContent:i,className:r=""}){const{data:c,isLoading:u,error:h}=be({queryKey:["page-content",a],queryFn:()=>sN(a),retry:1});return u?t.jsx("div",{className:`page-content-loading ${r}`,children:t.jsx("div",{className:"loading-spinner",children:"..."})}):h||!c?i?t.jsx("div",{className:r,children:i}):t.jsx("div",{className:`page-content-empty ${r}`,children:t.jsx("p",{children:""})}):t.jsxs("div",{className:`page-content-display ${r}`,children:[t.jsx("h1",{className:"page-content-title",children:c.title}),t.jsx("div",{className:"page-content-body",dangerouslySetInnerHTML:{__html:c.content}})]})}function cc(){const a=Et(),[i,r]=j.useState(!1);j.useEffect(()=>{localStorage.getItem("token")&&Hn().then(()=>{r(!0)}).catch(()=>{r(!1)})},[]);const c=()=>{a("/login")};return t.jsxs("nav",{className:"home-nav",children:[t.jsx("div",{className:"nav-left",children:t.jsx(Ht,{to:"/",className:"nav-link",style:{fontWeight:600},children:""})}),t.jsxs("div",{className:"nav-center",children:[t.jsx(Ht,{to:"/news",className:"nav-link",children:""}),t.jsx(Ht,{to:"/admission",className:"nav-link",children:""}),t.jsx(Ht,{to:"/enrollment",className:"nav-link",children:""}),t.jsx(Ht,{to:"/",className:"nav-link",children:""}),t.jsx(Ht,{to:"/applications",className:"nav-link",children:""})]}),t.jsx("div",{className:"nav-right",children:i?t.jsxs("button",{className:"student-login-btn",onClick:()=>a("/applications"),children:[t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:""})]}):t.jsxs("button",{className:"student-login-btn",onClick:c,children:[t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:""})]})})]})}function iN(){return t.jsxs("div",{className:"home-page",children:[t.jsx(cc,{}),t.jsx("main",{className:"home-main",children:t.jsxs("div",{className:"content-container",children:[t.jsx("h1",{className:"main-title",children:""}),t.jsx("h2",{className:"sub-title",children:""}),t.jsx(gi,{pageKey:"home",fallbackContent:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"content-section",children:[t.jsx("h3",{children:""}),t.jsx("p",{children:" "})]}),t.jsxs("div",{className:"content-section",children:[t.jsx("h3",{children:""}),t.jsxs("ul",{children:[t.jsx("li",{children:""}),t.jsx("li",{children:""}),t.jsx("li",{children:""}),t.jsx("li",{children:""})]})]}),t.jsxs("div",{className:"content-section",children:[t.jsx("h3",{children:""}),t.jsxs("ol",{children:[t.jsx("li",{children:" Email "}),t.jsx("li",{children:""}),t.jsx("li",{children:""}),t.jsx("li",{children:""})]})]})]}),className:"home-content"})]})})]})}function lN(){return t.jsxs("div",{className:"home-page",children:[t.jsx(cc,{}),t.jsx("main",{className:"home-main",children:t.jsx("div",{className:"content-container",children:t.jsx(gi,{pageKey:"news",fallbackContent:t.jsxs("div",{className:"fallback-content",children:[t.jsx("h1",{children:""}),t.jsx("p",{children:""})]})})})})]})}function rN(){return t.jsxs("div",{className:"home-page",children:[t.jsx(cc,{}),t.jsx("main",{className:"home-main",children:t.jsx("div",{className:"content-container",children:t.jsx(gi,{pageKey:"admission",fallbackContent:t.jsxs("div",{className:"fallback-content",children:[t.jsx("h1",{children:""}),t.jsx("p",{children:""})]})})})})]})}function cN(){return t.jsxs("div",{className:"home-page",children:[t.jsx(cc,{}),t.jsx("main",{className:"home-main",children:t.jsx("div",{className:"content-container",children:t.jsx(gi,{pageKey:"enrollment",fallbackContent:t.jsxs("div",{className:"fallback-content",children:[t.jsx("h1",{children:""}),t.jsx("p",{children:""})]})})})})]})}const oN="modulepreload",uN=function(a){return"/"+a},og={},dN=function(i,r,c){let u=Promise.resolve();if(r&&r.length>0){let p=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};var f=p;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");u=p(r.map(x=>{if(x=uN(x),x in og)return;og[x]=!0;const y=x.endsWith(".css"),N=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${N}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":oN,y||(A.as="script"),A.crossOrigin="",A.href=x,g&&A.setAttribute("nonce",g),document.head.appendChild(A),y)return new Promise((E,C)=>{A.addEventListener("load",E),A.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${x}`)))})}))}function h(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return u.then(m=>{for(const g of m||[])g.status==="rejected"&&h(g.reason);return i().catch(h)})};var Nl=a=>a.type==="checkbox",xs=a=>a instanceof Date,gn=a=>a==null;const Dv=a=>typeof a=="object";var Ut=a=>!gn(a)&&!Array.isArray(a)&&Dv(a)&&!xs(a),hN=a=>Ut(a)&&a.target?Nl(a.target)?a.target.checked:a.target.value:a,fN=a=>a.substring(0,a.search(/\.\d+(\.|$)/))||a,mN=(a,i)=>a.has(fN(i)),pN=a=>{const i=a.constructor&&a.constructor.prototype;return Ut(i)&&i.hasOwnProperty("isPrototypeOf")},vd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(a){let i;const r=Array.isArray(a),c=typeof FileList<"u"?a instanceof FileList:!1;if(a instanceof Date)i=new Date(a);else if(!(vd&&(a instanceof Blob||c))&&(r||Ut(a)))if(i=r?[]:Object.create(Object.getPrototypeOf(a)),!r&&!pN(a))i=a;else for(const u in a)a.hasOwnProperty(u)&&(i[u]=$t(a[u]));else return a;return i}var oc=a=>/^\w*$/.test(a),At=a=>a===void 0,xd=a=>Array.isArray(a)?a.filter(Boolean):[],yd=a=>xd(a.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(a,i,r)=>{if(!i||!Ut(a))return r;const c=(oc(i)?[i]:yd(i)).reduce((u,h)=>gn(u)?u:u[h],a);return At(c)||c===a?At(a[i])?r:a[i]:c},ta=a=>typeof a=="boolean",yt=(a,i,r)=>{let c=-1;const u=oc(i)?[i]:yd(i),h=u.length,f=h-1;for(;++c<h;){const m=u[c];let g=r;if(c!==f){const p=a[m];g=Ut(p)||Array.isArray(p)?p:isNaN(+u[c+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;a[m]=g,a=a[m]}};const ug={BLUR:"blur",FOCUS_OUT:"focusout"},$n={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ja={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gN=mn.createContext(null);gN.displayName="HookFormContext";var vN=(a,i,r,c=!0)=>{const u={defaultValues:i._defaultValues};for(const h in a)Object.defineProperty(u,h,{get:()=>{const f=h;return i._proxyFormState[f]!==$n.all&&(i._proxyFormState[f]=!c||$n.all),a[f]}});return u};const xN=typeof window<"u"?mn.useLayoutEffect:mn.useEffect;var Cn=a=>typeof a=="string",yN=(a,i,r,c,u)=>Cn(a)?(c&&i.watch.add(a),Ae(r,a,u)):Array.isArray(a)?a.map(h=>(c&&i.watch.add(h),Ae(r,h))):(c&&(i.watchAll=!0),r),Iu=a=>gn(a)||!Dv(a);function Za(a,i,r=new WeakSet){if(Iu(a)||Iu(i))return a===i;if(xs(a)&&xs(i))return a.getTime()===i.getTime();const c=Object.keys(a),u=Object.keys(i);if(c.length!==u.length)return!1;if(r.has(a)||r.has(i))return!0;r.add(a),r.add(i);for(const h of c){const f=a[h];if(!u.includes(h))return!1;if(h!=="ref"){const m=i[h];if(xs(f)&&xs(m)||Ut(f)&&Ut(m)||Array.isArray(f)&&Array.isArray(m)?!Za(f,m,r):f!==m)return!1}}return!0}var jN=(a,i,r,c,u)=>i?{...r[a],types:{...r[a]&&r[a].types?r[a].types:{},[c]:u||!0}}:{},hl=a=>Array.isArray(a)?a:[a],dg=()=>{let a=[];return{get observers(){return a},next:u=>{for(const h of a)h.next&&h.next(u)},subscribe:u=>(a.push(u),{unsubscribe:()=>{a=a.filter(h=>h!==u)}}),unsubscribe:()=>{a=[]}}};function Ov(a,i){const r={};for(const c in a)if(a.hasOwnProperty(c)){const u=a[c],h=i[c];if(u&&Ut(u)&&h){const f=Ov(u,h);Ut(f)&&(r[c]=f)}else a[c]&&(r[c]=h)}return r}var pn=a=>Ut(a)&&!Object.keys(a).length,jd=a=>a.type==="file",Yn=a=>typeof a=="function",Wr=a=>{if(!vd)return!1;const i=a?a.ownerDocument:0;return a instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},Mv=a=>a.type==="select-multiple",bd=a=>a.type==="radio",bN=a=>bd(a)||Nl(a),qu=a=>Wr(a)&&a.isConnected;function _N(a,i){const r=i.slice(0,-1).length;let c=0;for(;c<r;)a=At(a)?c++:a[i[c++]];return a}function NN(a){for(const i in a)if(a.hasOwnProperty(i)&&!At(a[i]))return!1;return!0}function qt(a,i){const r=Array.isArray(i)?i:oc(i)?[i]:yd(i),c=r.length===1?a:_N(a,r),u=r.length-1,h=r[u];return c&&delete c[h],u!==0&&(Ut(c)&&pn(c)||Array.isArray(c)&&NN(c))&&qt(a,r.slice(0,-1)),a}var SN=a=>{for(const i in a)if(Yn(a[i]))return!0;return!1};function kv(a){return Array.isArray(a)||Ut(a)&&!SN(a)}function ed(a,i={}){for(const r in a)kv(a[r])?(i[r]=Array.isArray(a[r])?[]:{},ed(a[r],i[r])):At(a[r])||(i[r]=!0);return i}function ci(a,i,r){r||(r=ed(i));for(const c in a)kv(a[c])?At(i)||Iu(r[c])?r[c]=ed(a[c],Array.isArray(a[c])?[]:{}):ci(a[c],gn(i)?{}:i[c],r[c]):r[c]=!Za(a[c],i[c]);return r}const hg={value:!1,isValid:!1},fg={value:!0,isValid:!0};var zv=a=>{if(Array.isArray(a)){if(a.length>1){const i=a.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:i,isValid:!!i.length}}return a[0].checked&&!a[0].disabled?a[0].attributes&&!At(a[0].attributes.value)?At(a[0].value)||a[0].value===""?fg:{value:a[0].value,isValid:!0}:fg:hg}return hg},qv=(a,{valueAsNumber:i,valueAsDate:r,setValueAs:c})=>At(a)?a:i?a===""?NaN:a&&+a:r&&Cn(a)?new Date(a):c?c(a):a;const mg={isValid:!1,value:null};var Uv=a=>Array.isArray(a)?a.reduce((i,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:i,mg):mg;function pg(a){const i=a.ref;return jd(i)?i.files:bd(i)?Uv(a.refs).value:Mv(i)?[...i.selectedOptions].map(({value:r})=>r):Nl(i)?zv(a.refs).value:qv(At(i.value)?a.ref.value:i.value,a)}var wN=(a,i,r,c)=>{const u={};for(const h of a){const f=Ae(i,h);f&&yt(u,h,f._f)}return{criteriaMode:r,names:[...a],fields:u,shouldUseNativeValidation:c}},Ir=a=>a instanceof RegExp,dl=a=>At(a)?a:Ir(a)?a.source:Ut(a)?Ir(a.value)?a.value.source:a.value:a,gg=a=>({isOnSubmit:!a||a===$n.onSubmit,isOnBlur:a===$n.onBlur,isOnChange:a===$n.onChange,isOnAll:a===$n.all,isOnTouch:a===$n.onTouched});const vg="AsyncFunction";var CN=a=>!!a&&!!a.validate&&!!(Yn(a.validate)&&a.validate.constructor.name===vg||Ut(a.validate)&&Object.values(a.validate).find(i=>i.constructor.name===vg)),EN=a=>a.mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate),xg=(a,i,r)=>!r&&(i.watchAll||i.watch.has(a)||[...i.watch].some(c=>a.startsWith(c)&&/^\.\w+/.test(a.slice(c.length))));const fl=(a,i,r,c)=>{for(const u of r||Object.keys(a)){const h=Ae(a,u);if(h){const{_f:f,...m}=h;if(f){if(f.refs&&f.refs[0]&&i(f.refs[0],u)&&!c)return!0;if(f.ref&&i(f.ref,f.name)&&!c)return!0;if(fl(m,i))break}else if(Ut(m)&&fl(m,i))break}}};function yg(a,i,r){const c=Ae(a,r);if(c||oc(r))return{error:c,name:r};const u=r.split(".");for(;u.length;){const h=u.join("."),f=Ae(i,h),m=Ae(a,h);if(f&&!Array.isArray(f)&&r!==h)return{name:r};if(m&&m.type)return{name:h,error:m};if(m&&m.root&&m.root.type)return{name:`${h}.root`,error:m.root};u.pop()}return{name:r}}var TN=(a,i,r,c)=>{r(a);const{name:u,...h}=a;return pn(h)||Object.keys(h).length>=Object.keys(i).length||Object.keys(h).find(f=>i[f]===(!c||$n.all))},RN=(a,i,r)=>!a||!i||a===i||hl(a).some(c=>c&&(r?c===i:c.startsWith(i)||i.startsWith(c))),AN=(a,i,r,c,u)=>u.isOnAll?!1:!r&&u.isOnTouch?!(i||a):(r?c.isOnBlur:u.isOnBlur)?!a:(r?c.isOnChange:u.isOnChange)?a:!0,DN=(a,i)=>!xd(Ae(a,i)).length&&qt(a,i),ON=(a,i,r)=>{const c=hl(Ae(a,r));return yt(c,"root",i[r]),yt(a,r,c),a};function jg(a,i,r="validate"){if(Cn(a)||Array.isArray(a)&&a.every(Cn)||ta(a)&&!a)return{type:r,message:Cn(a)?a:"",ref:i}}var ri=a=>Ut(a)&&!Ir(a)?a:{value:a,message:""},bg=async(a,i,r,c,u,h)=>{const{ref:f,refs:m,required:g,maxLength:p,minLength:x,min:y,max:N,pattern:A,validate:E,name:C,valueAsNumber:S,mount:z}=a._f,O=Ae(r,C);if(!z||i.has(C))return{};const q=m?m[0]:f,V=de=>{u&&q.reportValidity&&(q.setCustomValidity(ta(de)?"":de||""),q.reportValidity())},te={},ge=bd(f),ae=Nl(f),oe=ge||ae,X=(S||jd(f))&&At(f.value)&&At(O)||Wr(f)&&f.value===""||O===""||Array.isArray(O)&&!O.length,ye=jN.bind(null,C,c,te),me=(de,pe,k,ne=ja.maxLength,w=ja.minLength)=>{const W=de?pe:k;te[C]={type:de?ne:w,message:W,ref:f,...ye(de?ne:w,W)}};if(h?!Array.isArray(O)||!O.length:g&&(!oe&&(X||gn(O))||ta(O)&&!O||ae&&!zv(m).isValid||ge&&!Uv(m).isValid)){const{value:de,message:pe}=Cn(g)?{value:!!g,message:g}:ri(g);if(de&&(te[C]={type:ja.required,message:pe,ref:q,...ye(ja.required,pe)},!c))return V(pe),te}if(!X&&(!gn(y)||!gn(N))){let de,pe;const k=ri(N),ne=ri(y);if(!gn(O)&&!isNaN(O)){const w=f.valueAsNumber||O&&+O;gn(k.value)||(de=w>k.value),gn(ne.value)||(pe=w<ne.value)}else{const w=f.valueAsDate||new Date(O),W=Te=>new Date(new Date().toDateString()+" "+Te),ce=f.type=="time",ve=f.type=="week";Cn(k.value)&&O&&(de=ce?W(O)>W(k.value):ve?O>k.value:w>new Date(k.value)),Cn(ne.value)&&O&&(pe=ce?W(O)<W(ne.value):ve?O<ne.value:w<new Date(ne.value))}if((de||pe)&&(me(!!de,k.message,ne.message,ja.max,ja.min),!c))return V(te[C].message),te}if((p||x)&&!X&&(Cn(O)||h&&Array.isArray(O))){const de=ri(p),pe=ri(x),k=!gn(de.value)&&O.length>+de.value,ne=!gn(pe.value)&&O.length<+pe.value;if((k||ne)&&(me(k,de.message,pe.message),!c))return V(te[C].message),te}if(A&&!X&&Cn(O)){const{value:de,message:pe}=ri(A);if(Ir(de)&&!O.match(de)&&(te[C]={type:ja.pattern,message:pe,ref:f,...ye(ja.pattern,pe)},!c))return V(pe),te}if(E){if(Yn(E)){const de=await E(O,r),pe=jg(de,q);if(pe&&(te[C]={...pe,...ye(ja.validate,pe.message)},!c))return V(pe.message),te}else if(Ut(E)){let de={};for(const pe in E){if(!pn(de)&&!c)break;const k=jg(await E[pe](O,r),q,pe);k&&(de={...k,...ye(pe,k.message)},V(k.message),c&&(te[C]=de))}if(!pn(de)&&(te[C]={ref:q,...de},!c))return te}}return V(!0),te};const MN={mode:$n.onSubmit,reValidateMode:$n.onChange,shouldFocusError:!0};function kN(a={}){let i={...MN,...a},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yn(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1},c={},u=Ut(i.defaultValues)||Ut(i.values)?$t(i.defaultValues||i.values)||{}:{},h=i.shouldUnregister?{}:$t(u),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const N={array:dg(),state:dg()},A=i.criteriaMode===$n.all,E=D=>B=>{clearTimeout(p),p=setTimeout(D,B)},C=async D=>{if(!i.disabled&&(x.isValid||y.isValid||D)){const B=i.resolver?pn((await ae()).errors):await X(c,!0);B!==r.isValid&&N.state.next({isValid:B})}},S=(D,B)=>{!i.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((D||Array.from(m.mount)).forEach(P=>{P&&(B?yt(r.validatingFields,P,B):qt(r.validatingFields,P))}),N.state.next({validatingFields:r.validatingFields,isValidating:!pn(r.validatingFields)}))},z=(D,B=[],P,he,se=!0,I=!0)=>{if(he&&P&&!i.disabled){if(f.action=!0,I&&Array.isArray(Ae(c,D))){const Se=P(Ae(c,D),he.argA,he.argB);se&&yt(c,D,Se)}if(I&&Array.isArray(Ae(r.errors,D))){const Se=P(Ae(r.errors,D),he.argA,he.argB);se&&yt(r.errors,D,Se),DN(r.errors,D)}if((x.touchedFields||y.touchedFields)&&I&&Array.isArray(Ae(r.touchedFields,D))){const Se=P(Ae(r.touchedFields,D),he.argA,he.argB);se&&yt(r.touchedFields,D,Se)}(x.dirtyFields||y.dirtyFields)&&(r.dirtyFields=ci(u,h)),N.state.next({name:D,isDirty:me(D,B),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yt(h,D,B)},O=(D,B)=>{yt(r.errors,D,B),N.state.next({errors:r.errors})},q=D=>{r.errors=D,N.state.next({errors:r.errors,isValid:!1})},V=(D,B,P,he)=>{const se=Ae(c,D);if(se){const I=Ae(h,D,At(P)?Ae(u,D):P);At(I)||he&&he.defaultChecked||B?yt(h,D,B?I:pg(se._f)):k(D,I),f.mount&&C()}},te=(D,B,P,he,se)=>{let I=!1,Se=!1;const U={name:D};if(!i.disabled){if(!P||he){(x.isDirty||y.isDirty)&&(Se=r.isDirty,r.isDirty=U.isDirty=me(),I=Se!==U.isDirty);const xe=Za(Ae(u,D),B);Se=!!Ae(r.dirtyFields,D),xe?qt(r.dirtyFields,D):yt(r.dirtyFields,D,!0),U.dirtyFields=r.dirtyFields,I=I||(x.dirtyFields||y.dirtyFields)&&Se!==!xe}if(P){const xe=Ae(r.touchedFields,D);xe||(yt(r.touchedFields,D,P),U.touchedFields=r.touchedFields,I=I||(x.touchedFields||y.touchedFields)&&xe!==P)}I&&se&&N.state.next(U)}return I?U:{}},ge=(D,B,P,he)=>{const se=Ae(r.errors,D),I=(x.isValid||y.isValid)&&ta(B)&&r.isValid!==B;if(i.delayError&&P?(g=E(()=>O(D,P)),g(i.delayError)):(clearTimeout(p),g=null,P?yt(r.errors,D,P):qt(r.errors,D)),(P?!Za(se,P):se)||!pn(he)||I){const Se={...he,...I&&ta(B)?{isValid:B}:{},errors:r.errors,name:D};r={...r,...Se},N.state.next(Se)}},ae=async D=>{S(D,!0);const B=await i.resolver(h,i.context,wN(D||m.mount,c,i.criteriaMode,i.shouldUseNativeValidation));return S(D),B},oe=async D=>{const{errors:B}=await ae(D);if(D)for(const P of D){const he=Ae(B,P);he?yt(r.errors,P,he):qt(r.errors,P)}else r.errors=B;return B},X=async(D,B,P={valid:!0})=>{for(const he in D){const se=D[he];if(se){const{_f:I,...Se}=se;if(I){const U=m.array.has(I.name),xe=se._f&&CN(se._f);xe&&x.validatingFields&&S([I.name],!0);const Qe=await bg(se,m.disabled,h,A,i.shouldUseNativeValidation&&!B,U);if(xe&&x.validatingFields&&S([I.name]),Qe[I.name]&&(P.valid=!1,B))break;!B&&(Ae(Qe,I.name)?U?ON(r.errors,Qe,I.name):yt(r.errors,I.name,Qe[I.name]):qt(r.errors,I.name))}!pn(Se)&&await X(Se,B,P)}}return P.valid},ye=()=>{for(const D of m.unMount){const B=Ae(c,D);B&&(B._f.refs?B._f.refs.every(P=>!qu(P)):!qu(B._f.ref))&&Oe(D)}m.unMount=new Set},me=(D,B)=>!i.disabled&&(D&&B&&yt(h,D,B),!Za(Te(),u)),de=(D,B,P)=>yN(D,m,{...f.mount?h:At(B)?u:Cn(D)?{[D]:B}:B},P,B),pe=D=>xd(Ae(f.mount?h:u,D,i.shouldUnregister?Ae(u,D,[]):[])),k=(D,B,P={})=>{const he=Ae(c,D);let se=B;if(he){const I=he._f;I&&(!I.disabled&&yt(h,D,qv(B,I)),se=Wr(I.ref)&&gn(B)?"":B,Mv(I.ref)?[...I.ref.options].forEach(Se=>Se.selected=se.includes(Se.value)):I.refs?Nl(I.ref)?I.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(se)?Se.checked=!!se.find(U=>U===Se.value):Se.checked=se===Se.value||!!se)}):I.refs.forEach(Se=>Se.checked=Se.value===se):jd(I.ref)?I.ref.value="":(I.ref.value=se,I.ref.type||N.state.next({name:D,values:$t(h)})))}(P.shouldDirty||P.shouldTouch)&&te(D,se,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&ve(D)},ne=(D,B,P)=>{for(const he in B){if(!B.hasOwnProperty(he))return;const se=B[he],I=D+"."+he,Se=Ae(c,I);(m.array.has(D)||Ut(se)||Se&&!Se._f)&&!xs(se)?ne(I,se,P):k(I,se,P)}},w=(D,B,P={})=>{const he=Ae(c,D),se=m.array.has(D),I=$t(B);yt(h,D,I),se?(N.array.next({name:D,values:$t(h)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&P.shouldDirty&&N.state.next({name:D,dirtyFields:ci(u,h),isDirty:me(D,I)})):he&&!he._f&&!gn(I)?ne(D,I,P):k(D,I,P),xg(D,m)&&N.state.next({...r,name:D}),N.state.next({name:f.mount?D:void 0,values:$t(h)})},W=async D=>{f.mount=!0;const B=D.target;let P=B.name,he=!0;const se=Ae(c,P),I=xe=>{he=Number.isNaN(xe)||xs(xe)&&isNaN(xe.getTime())||Za(xe,Ae(h,P,xe))},Se=gg(i.mode),U=gg(i.reValidateMode);if(se){let xe,Qe;const nt=B.type?pg(se._f):hN(D),vt=D.type===ug.BLUR||D.type===ug.FOCUS_OUT,en=!EN(se._f)&&!i.resolver&&!Ae(r.errors,P)&&!se._f.deps||AN(vt,Ae(r.touchedFields,P),r.isSubmitted,U,Se),ht=xg(P,m,vt);yt(h,P,nt),vt?(!B||!B.readOnly)&&(se._f.onBlur&&se._f.onBlur(D),g&&g(0)):se._f.onChange&&se._f.onChange(D);const Je=te(P,nt,vt),dt=!pn(Je)||ht;if(!vt&&N.state.next({name:P,type:D.type,values:$t(h)}),en)return(x.isValid||y.isValid)&&(i.mode==="onBlur"?vt&&C():vt||C()),dt&&N.state.next({name:P,...ht?{}:Je});if(!vt&&ht&&N.state.next({...r}),i.resolver){const{errors:b}=await ae([P]);if(I(nt),he){const Ee=yg(r.errors,c,P),fe=yg(b,c,Ee.name||P);xe=fe.error,P=fe.name,Qe=pn(b)}}else S([P],!0),xe=(await bg(se,m.disabled,h,A,i.shouldUseNativeValidation))[P],S([P]),I(nt),he&&(xe?Qe=!1:(x.isValid||y.isValid)&&(Qe=await X(c,!0)));he&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&ve(se._f.deps),ge(P,Qe,xe,Je))}},ce=(D,B)=>{if(Ae(r.errors,B)&&D.focus)return D.focus(),1},ve=async(D,B={})=>{let P,he;const se=hl(D);if(i.resolver){const I=await oe(At(D)?D:se);P=pn(I),he=D?!se.some(Se=>Ae(I,Se)):P}else D?(he=(await Promise.all(se.map(async I=>{const Se=Ae(c,I);return await X(Se&&Se._f?{[I]:Se}:Se)}))).every(Boolean),!(!he&&!r.isValid)&&C()):he=P=await X(c);return N.state.next({...!Cn(D)||(x.isValid||y.isValid)&&P!==r.isValid?{}:{name:D},...i.resolver||!D?{isValid:P}:{},errors:r.errors}),B.shouldFocus&&!he&&fl(c,ce,D?se:m.mount),he},Te=(D,B)=>{let P={...f.mount?h:u};return B&&(P=Ov(B.dirtyFields?r.dirtyFields:r.touchedFields,P)),At(D)?P:Cn(D)?Ae(P,D):D.map(he=>Ae(P,he))},T=(D,B)=>({invalid:!!Ae((B||r).errors,D),isDirty:!!Ae((B||r).dirtyFields,D),error:Ae((B||r).errors,D),isValidating:!!Ae(r.validatingFields,D),isTouched:!!Ae((B||r).touchedFields,D)}),$=D=>{D&&hl(D).forEach(B=>qt(r.errors,B)),N.state.next({errors:D?r.errors:{}})},Y=(D,B,P)=>{const he=(Ae(c,D,{_f:{}})._f||{}).ref,se=Ae(r.errors,D)||{},{ref:I,message:Se,type:U,...xe}=se;yt(r.errors,D,{...xe,...B,ref:he}),N.state.next({name:D,errors:r.errors,isValid:!1}),P&&P.shouldFocus&&he&&he.focus&&he.focus()},J=(D,B)=>Yn(D)?N.state.subscribe({next:P=>"values"in P&&D(de(void 0,B),P)}):de(D,B,!0),le=D=>N.state.subscribe({next:B=>{RN(D.name,B.name,D.exact)&&TN(B,D.formState||x,Nt,D.reRenderRoot)&&D.callback({values:{...h},...r,...B,defaultValues:u})}}).unsubscribe,Ne=D=>(f.mount=!0,y={...y,...D.formState},le({...D,formState:y})),Oe=(D,B={})=>{for(const P of D?hl(D):m.mount)m.mount.delete(P),m.array.delete(P),B.keepValue||(qt(c,P),qt(h,P)),!B.keepError&&qt(r.errors,P),!B.keepDirty&&qt(r.dirtyFields,P),!B.keepTouched&&qt(r.touchedFields,P),!B.keepIsValidating&&qt(r.validatingFields,P),!i.shouldUnregister&&!B.keepDefaultValue&&qt(u,P);N.state.next({values:$t(h)}),N.state.next({...r,...B.keepDirty?{isDirty:me()}:{}}),!B.keepIsValid&&C()},qe=({disabled:D,name:B})=>{(ta(D)&&f.mount||D||m.disabled.has(B))&&(D?m.disabled.add(B):m.disabled.delete(B))},ke=(D,B={})=>{let P=Ae(c,D);const he=ta(B.disabled)||ta(i.disabled);return yt(c,D,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:D}},name:D,mount:!0,...B}}),m.mount.add(D),P?qe({disabled:ta(B.disabled)?B.disabled:i.disabled,name:D}):V(D,!0,B.value),{...he?{disabled:B.disabled||i.disabled}:{},...i.progressive?{required:!!B.required,min:dl(B.min),max:dl(B.max),minLength:dl(B.minLength),maxLength:dl(B.maxLength),pattern:dl(B.pattern)}:{},name:D,onChange:W,onBlur:W,ref:se=>{if(se){ke(D,B),P=Ae(c,D);const I=At(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,Se=bN(I),U=P._f.refs||[];if(Se?U.find(xe=>xe===I):I===P._f.ref)return;yt(c,D,{_f:{...P._f,...Se?{refs:[...U.filter(qu),I,...Array.isArray(Ae(u,D))?[{}]:[]],ref:{type:I.type,name:D}}:{ref:I}}}),V(D,!1,void 0,I)}else P=Ae(c,D,{}),P._f&&(P._f.mount=!1),(i.shouldUnregister||B.shouldUnregister)&&!(mN(m.array,D)&&f.action)&&m.unMount.add(D)}}},Ze=()=>i.shouldFocusError&&fl(c,ce,m.mount),Yt=D=>{ta(D)&&(N.state.next({disabled:D}),fl(c,(B,P)=>{const he=Ae(c,P);he&&(B.disabled=he._f.disabled||D,Array.isArray(he._f.refs)&&he._f.refs.forEach(se=>{se.disabled=he._f.disabled||D}))},0,!1))},pt=(D,B)=>async P=>{let he;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let se=$t(h);if(N.state.next({isSubmitting:!0}),i.resolver){const{errors:I,values:Se}=await ae();r.errors=I,se=$t(Se)}else await X(c);if(m.disabled.size)for(const I of m.disabled)qt(se,I);if(qt(r.errors,"root"),pn(r.errors)){N.state.next({errors:{}});try{await D(se,P)}catch(I){he=I}}else B&&await B({...r.errors},P),Ze(),setTimeout(Ze);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pn(r.errors)&&!he,submitCount:r.submitCount+1,errors:r.errors}),he)throw he},Pe=(D,B={})=>{Ae(c,D)&&(At(B.defaultValue)?w(D,$t(Ae(u,D))):(w(D,B.defaultValue),yt(u,D,$t(B.defaultValue))),B.keepTouched||qt(r.touchedFields,D),B.keepDirty||(qt(r.dirtyFields,D),r.isDirty=B.defaultValue?me(D,$t(Ae(u,D))):me()),B.keepError||(qt(r.errors,D),x.isValid&&C()),N.state.next({...r}))},it=(D,B={})=>{const P=D?$t(D):u,he=$t(P),se=pn(D),I=se?u:he;if(B.keepDefaultValues||(u=P),!B.keepValues){if(B.keepDirtyValues){const Se=new Set([...m.mount,...Object.keys(ci(u,h))]);for(const U of Array.from(Se))Ae(r.dirtyFields,U)?yt(I,U,Ae(h,U)):w(U,Ae(I,U))}else{if(vd&&At(D))for(const Se of m.mount){const U=Ae(c,Se);if(U&&U._f){const xe=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;if(Wr(xe)){const Qe=xe.closest("form");if(Qe){Qe.reset();break}}}}if(B.keepFieldsRef)for(const Se of m.mount)w(Se,Ae(I,Se));else c={}}h=i.shouldUnregister?B.keepDefaultValues?$t(u):{}:$t(I),N.array.next({values:{...I}}),N.state.next({values:{...I}})}m={mount:B.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!x.isValid||!!B.keepIsValid||!!B.keepDirtyValues,f.watch=!!i.shouldUnregister,N.state.next({submitCount:B.keepSubmitCount?r.submitCount:0,isDirty:se?!1:B.keepDirty?r.isDirty:!!(B.keepDefaultValues&&!Za(D,u)),isSubmitted:B.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:se?{}:B.keepDirtyValues?B.keepDefaultValues&&h?ci(u,h):r.dirtyFields:B.keepDefaultValues&&D?ci(u,D):B.keepDirty?r.dirtyFields:{},touchedFields:B.keepTouched?r.touchedFields:{},errors:B.keepErrors?r.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},Me=(D,B)=>it(Yn(D)?D(h):D,B),gt=(D,B={})=>{const P=Ae(c,D),he=P&&P._f;if(he){const se=he.refs?he.refs[0]:he.ref;se.focus&&(se.focus(),B.shouldSelect&&Yn(se.select)&&se.select())}},Nt=D=>{r={...r,...D}},tt={control:{register:ke,unregister:Oe,getFieldState:T,handleSubmit:pt,setError:Y,_subscribe:le,_runSchema:ae,_focusError:Ze,_getWatch:de,_getDirty:me,_setValid:C,_setFieldArray:z,_setDisabledField:qe,_setErrors:q,_getFieldArray:pe,_reset:it,_resetDefaultValues:()=>Yn(i.defaultValues)&&i.defaultValues().then(D=>{Me(D,i.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:ye,_disableForm:Yt,_subjects:N,_proxyFormState:x,get _fields(){return c},get _formValues(){return h},get _state(){return f},set _state(D){f=D},get _defaultValues(){return u},get _names(){return m},set _names(D){m=D},get _formState(){return r},get _options(){return i},set _options(D){i={...i,...D}}},subscribe:Ne,trigger:ve,register:ke,handleSubmit:pt,watch:J,setValue:w,getValues:Te,reset:Me,resetField:Pe,clearErrors:$,unregister:Oe,setError:Y,setFocus:gt,getFieldState:T};return{...tt,formControl:tt}}function Sl(a={}){const i=mn.useRef(void 0),r=mn.useRef(void 0),[c,u]=mn.useState({isDirty:!1,isValidating:!1,isLoading:Yn(a.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1,isReady:!1,defaultValues:Yn(a.defaultValues)?void 0:a.defaultValues});if(!i.current)if(a.formControl)i.current={...a.formControl,formState:c},a.defaultValues&&!Yn(a.defaultValues)&&a.formControl.reset(a.defaultValues,a.resetOptions);else{const{formControl:f,...m}=kN(a);i.current={...m,formState:c}}const h=i.current.control;return h._options=a,xN(()=>{const f=h._subscribe({formState:h._proxyFormState,callback:()=>u({...h._formState}),reRenderRoot:!0});return u(m=>({...m,isReady:!0})),h._formState.isReady=!0,f},[h]),mn.useEffect(()=>h._disableForm(a.disabled),[h,a.disabled]),mn.useEffect(()=>{a.mode&&(h._options.mode=a.mode),a.reValidateMode&&(h._options.reValidateMode=a.reValidateMode)},[h,a.mode,a.reValidateMode]),mn.useEffect(()=>{a.errors&&(h._setErrors(a.errors),h._focusError())},[h,a.errors]),mn.useEffect(()=>{a.shouldUnregister&&h._subjects.state.next({values:h._getWatch()})},[h,a.shouldUnregister]),mn.useEffect(()=>{if(h._proxyFormState.isDirty){const f=h._getDirty();f!==c.isDirty&&h._subjects.state.next({isDirty:f})}},[h,c.isDirty]),mn.useEffect(()=>{a.values&&!Za(a.values,r.current)?(h._reset(a.values,{keepFieldsRef:!0,...h._options.resetOptions}),r.current=a.values,u(f=>({...f}))):h._resetDefaultValues()},[h,a.values]),mn.useEffect(()=>{h._state.mount||(h._setValid(),h._state.mount=!0),h._state.watch&&(h._state.watch=!1,h._subjects.state.next({...h._formState})),h._removeUnmounted()}),i.current.formState=vN(c,h),i.current}function zN(){const a=Et(),[i,r]=j.useState(!1),{register:c,handleSubmit:u,watch:h,formState:{errors:f}}=Sl(),m=Ce({mutationFn:async g=>{const p=await Cv(g);return localStorage.setItem("token",p.access_token),Hn()},onSuccess:g=>{const p=g?.role;p==="admin"?a("/admin"):p==="ambassador"?a("/lobby"):p==="student"?a("/student-dashboard"):p==="document_reviewer"?a("/document-reviewer"):p==="second_reviewer"?a("/second-reviewer"):p==="administrative_unit"?a("/administrative-unit"):(a("/login"),alert(""))}});return t.jsx("div",{className:"auth-page",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("h1",{children:""}),t.jsxs("form",{onSubmit:u(g=>m.mutate(g)),children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email"}),t.jsx("input",{id:"email",type:"email",...c("email",{required:" Email"}),placeholder:"your@email.com"}),f.email&&t.jsx("span",{className:"error",children:f.email.message})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:""}),t.jsx("input",{id:"password",type:i?"text":"password",...c("password",{required:""}),placeholder:""}),t.jsxs("div",{className:"show-password-checkbox",children:[t.jsx("input",{type:"checkbox",id:"showPassword",checked:i,onChange:g=>r(g.target.checked)}),t.jsx("label",{htmlFor:"showPassword",children:""})]}),f.password&&t.jsx("span",{className:"error",children:f.password.message})]}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:m.isPending,children:m.isPending?"...":""}),m.isError&&t.jsx("div",{className:"error-message",children:m.error?.response?.data?.detail?.includes("Email not verified")||m.error?.response?.data?.detail?.includes("not verified")?t.jsxs(t.Fragment,{children:["Email ",t.jsx("br",{}),t.jsx("button",{type:"button",onClick:async()=>{const g=h("email");if(g)try{const{resendVerificationEmail:p}=await dN(async()=>{const{resendVerificationEmail:x}=await Promise.resolve().then(()=>W0);return{resendVerificationEmail:x}},[]);await p(g),alert("")}catch{alert("")}},style:{marginTop:"10px",padding:"8px 16px",background:"transparent",border:"1px solid #4CAF50",color:"#4CAF50",borderRadius:"4px",cursor:"pointer"},children:""})]}):""})]}),t.jsxs("div",{className:"auth-footer",children:[" ",t.jsx(Ht,{to:"/register",children:""})]})]})})}function qN(){Et();const[a,i]=j.useState(null),{register:r,handleSubmit:c,watch:u,formState:{errors:h},reset:f}=Sl(),m=u("password"),g=Ce({mutationFn:async p=>await Ev({email:p.email,password:p.password}),onSuccess:(p,x)=>{i(x.email),f()}});return a?t.jsx("div",{className:"auth-page",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("h1",{children:""}),t.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[t.jsxs("p",{style:{marginBottom:"20px",lineHeight:"1.6"},children:[" ",t.jsx("strong",{children:a})]}),t.jsx("p",{style:{marginBottom:"20px",lineHeight:"1.6",color:"#666"},children:""}),t.jsx("p",{style:{marginBottom:"20px",lineHeight:"1.6",color:"#666"},children:""}),t.jsx("div",{style:{marginTop:"30px"},children:t.jsx(Ht,{to:"/login",className:"btn-primary",style:{display:"inline-block"},children:""})}),t.jsx("div",{style:{marginTop:"20px"},children:t.jsx("button",{onClick:()=>i(null),className:"btn-secondary",style:{display:"inline-block",background:"transparent",border:"none",color:"#666",cursor:"pointer"},children:""})})]})]})}):t.jsx("div",{className:"auth-page",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("h1",{children:""}),t.jsxs("form",{onSubmit:c(p=>g.mutate(p)),children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email"}),t.jsx("input",{id:"email",type:"email",...r("email",{required:" Email"}),placeholder:"your@email.com"}),h.email&&t.jsx("span",{className:"error",children:h.email.message})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:""}),t.jsx("input",{id:"password",type:"password",...r("password",{required:"",minLength:{value:8,message:" 8 "}}),placeholder:""}),h.password&&t.jsx("span",{className:"error",children:h.password.message})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirm_password",children:""}),t.jsx("input",{id:"confirm_password",type:"password",...r("confirm_password",{required:"",validate:p=>p===m||""}),placeholder:""}),h.confirm_password&&t.jsx("span",{className:"error",children:h.confirm_password.message})]}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:g.isPending,children:g.isPending?"...":""}),g.isError&&t.jsx("div",{className:"error-message",children:g.error instanceof Error?g.error.message:" Email "})]}),t.jsxs("div",{className:"auth-footer",children:[" ",t.jsx(Ht,{to:"/login",children:""})]})]})})}function UN(){const[a]=tv();Et();const i=a.get("token"),[r,c]=j.useState(""),[u,h]=j.useState("idle"),f=j.useRef(!1),m=Ce({mutationFn:async p=>{console.log("[VerifyEmail] token:",p.substring(0,20)+"..."),h("pending");const x=await Tv(p);return console.log("[VerifyEmail] :",x),x},onSuccess:p=>{console.log("[VerifyEmail] onSuccess data:",p),h("success")},onError:p=>{console.error("[VerifyEmail] :",p),h("error")}}),g=Ce({mutationFn:async p=>await Rv(p)});return j.useEffect(()=>{i&&!f.current&&(f.current=!0,console.log("[VerifyEmail] token:",i.substring(0,20)+"..."),m.mutate(i))},[i]),j.useEffect(()=>{console.log("[VerifyEmail] Mutation :",{isPending:m.isPending,isSuccess:m.isSuccess,isError:m.isError,data:m.data,error:m.error})},[m.isPending,m.isSuccess,m.isError,m.data,m.error]),i?(console.log("[VerifyEmail] :",{verificationStatus:u,isPending:m.isPending,isSuccess:m.isSuccess,isError:m.isError,hasToken:!!i,hasCalled:f.current}),u==="pending"||m.isPending&&u!=="success"&&u!=="error"?t.jsx("div",{className:"auth-page",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("h1",{children:"..."}),t.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:t.jsx("p",{children:" Email..."})})]})}):u==="success"||m.isSuccess||m.data?t.jsx("div",{className:"auth-page",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("h1",{children:""}),t.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[t.jsx("p",{style:{marginBottom:"20px",lineHeight:"1.6"},children:" Email "}),t.jsx("p",{style:{marginBottom:"20px",lineHeight:"1.6",color:"#666"},children:""}),t.jsx("div",{style:{marginTop:"30px"},children:t.jsx(Ht,{to:"/login",className:"btn-primary",style:{display:"inline-block"},children:""})})]})]})}):u==="error"||m.isError?t.jsx("div",{className:"auth-page",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("h1",{children:""}),t.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[t.jsx("p",{style:{marginBottom:"20px",color:"#f44336"},children:m.error instanceof Error?m.error.message:""}),t.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:""}),t.jsxs("div",{style:{marginTop:"30px"},children:[t.jsx("input",{type:"email",placeholder:" Email",value:r,onChange:p=>c(p.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px"}}),t.jsx("button",{onClick:()=>{r&&g.mutate(r)},className:"btn-primary",disabled:!r||g.isPending,style:{width:"100%"},children:g.isPending?"...":""}),g.isSuccess&&t.jsx("p",{style:{marginTop:"10px",color:"#4CAF50"},children:""}),g.isError&&t.jsx("p",{style:{marginTop:"10px",color:"#f44336"},children:""})]}),t.jsx("div",{style:{marginTop:"20px"},children:t.jsx(Ht,{to:"/login",children:""})})]})]})}):null):t.jsx("div",{className:"auth-page",children:t.jsxs("div",{className:"auth-card",children:[t.jsx("h1",{children:" Email"}),t.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[t.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:""}),t.jsxs("div",{style:{marginTop:"30px"},children:[t.jsx("input",{type:"email",placeholder:" Email",value:r,onChange:p=>c(p.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px"}}),t.jsx("button",{onClick:()=>{r&&g.mutate(r)},className:"btn-primary",disabled:!r||g.isPending,style:{width:"100%"},children:g.isPending?"...":""}),g.isSuccess&&t.jsx("p",{style:{marginTop:"10px",color:"#4CAF50"},children:""}),g.isError&&t.jsx("p",{style:{marginTop:"10px",color:"#f44336"},children:""})]}),t.jsx("div",{style:{marginTop:"20px"},children:t.jsx(Ht,{to:"/login",children:""})})]})]})})}async function LN(a=null){const{data:i}=await ue.post("/api/applications",a);return i}async function BN({status:a,page:i=1,pageSize:r=20}){const{data:c}=await ue.get("/api/applications",{params:{status_filter:a??null,page:i,page_size:r}});return c}async function Ja(a){const{data:i}=await ue.get(`/api/applications/${a}`);return i}async function FN(a,i){const{data:r}=await ue.put(`/api/applications/${a}/form`,i);return r}async function _d(a){const{data:i}=await ue.post(`/api/applications/${a}/submit`);return i}async function HN(a){return await ue.delete(`/api/applications/${a}`),!0}async function QN(a){const{data:i}=await ue.get(`/api/applications/${a}/reviews`);return i}async function Lv({status:a,admission_status:i,page:r=1,pageSize:c=20}){const{data:u}=await ue.get("/api/applications-admin/all",{params:{status_filter:a??null,admission_status_filter:i??null,page:r,page_size:c}});return u}async function KN(a){const{data:i}=await ue.get(`/api/applications-admin/${a}`);return i}async function VN(a,i){const{data:r}=await ue.post(`/api/applications-admin/${a}/review`,i);return r}async function $N(){const{data:a}=await ue.get("/api/applications-admin/stats/summary");return a}function uc(a,i){const r=typeof a=="string"?Number(a):a,c=i?new Date(i).getFullYear():new Date().getFullYear(),u=Number.isFinite(r)?r.toString(36).toUpperCase().padStart(4,"0"):String(a);return`DYU-${c}-${u}`}const YN={draft:"",submitted:"",reviewed:"",accepted:"",rejected:""},GN={pending:"",reviewed:"",returned:"",second_review_pending:"",second_review_completed:""};function XN(){const a=bt(),i=Et(),[r,c]=j.useState(),[u,h]=j.useState(1),f=be({queryKey:["apps",r,u,20],queryFn:()=>BN({status:r,page:u,pageSize:20})}),m=Ce({mutationFn:()=>LN(),onSuccess:S=>i(`/applications/${S.id}/steps`)}),g=Ce({mutationFn:S=>HN(S),onSuccess:()=>{a.invalidateQueries({queryKey:["apps"]})}}),[p,x]=j.useState(null),[y,N]=j.useState(!1),A=be({queryKey:["application-reviews",p],queryFn:()=>QN(p),enabled:p!==null&&y}),E=S=>{x(S),N(!0)};if(f.isLoading)return t.jsx("div",{className:"applications-page",children:t.jsx("div",{className:"loading",children:"..."})});const C=Math.ceil((f.data?.total||0)/20);return t.jsxs("div",{className:"applications-page",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>m.mutate(),disabled:m.isPending,children:m.isPending?"...":""})]}),t.jsx("div",{className:"filters",children:t.jsxs("label",{children:["",t.jsxs("select",{value:r||"",onChange:S=>{c(S.target.value||void 0),h(1)},children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"draft",children:""}),t.jsx("option",{value:"submitted",children:""}),t.jsx("option",{value:"reviewed",children:""}),t.jsx("option",{value:"accepted",children:""}),t.jsx("option",{value:"rejected",children:""})]})]})}),t.jsx("div",{className:"applications-list",children:!f.data?.items||f.data.items.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("p",{children:""}),t.jsx("button",{className:"btn-secondary",onClick:()=>m.mutate(),children:""})]}):f.data.items.map(S=>t.jsxs("div",{className:`app-card app-card--${S.status}`,children:[t.jsxs("div",{className:"app-card__header",children:[t.jsxs("h3",{children:[" ",uc(S.id,S.created_at)]}),t.jsxs("div",{className:"status-badges",children:[t.jsx("span",{className:`status-badge status-badge--${S.status}`,children:YN[S.status]||S.status}),S.document_review_status&&S.status==="submitted"&&t.jsx("span",{className:`status-badge status-badge--document-review status-badge--${S.document_review_status}`,children:GN[S.document_review_status]||S.document_review_status})]})]}),t.jsxs("div",{className:"app-card__meta",children:[t.jsxs("p",{children:["",new Date(S.created_at).toLocaleString("zh-TW")]}),S.updated_at&&t.jsxs("p",{children:["",new Date(S.updated_at).toLocaleString("zh-TW")]}),S.submitted_at&&t.jsxs("p",{children:["",new Date(S.submitted_at).toLocaleString("zh-TW")]}),S.document_reviewed_at&&t.jsxs("p",{children:["",new Date(S.document_reviewed_at).toLocaleString("zh-TW")]}),S.document_review_status==="returned"&&S.document_review_comment&&t.jsxs("div",{className:"review-comment",children:[t.jsx("p",{className:"review-comment-label",children:""}),t.jsx("div",{className:"review-comment-content",children:S.document_review_comment})]})]}),t.jsx("div",{className:"app-card__actions",children:S.status==="draft"?t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn-secondary",onClick:()=>i(`/applications/${S.id}/steps`),children:""}),t.jsx("button",{className:"btn-danger",onClick:()=>{confirm("")&&g.mutate(S.id)},disabled:g.isPending,children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn-secondary",onClick:()=>i(`/applications/${S.id}/preview`),children:""}),S.status!=="draft"&&t.jsx("button",{className:"btn-secondary",onClick:()=>E(S.id),children:""}),S.status!=="draft"&&t.jsx("button",{className:"btn-primary",onClick:()=>i(`/applications/${S.id}/admission-result`),children:""})]})})]},S.id))}),C>1&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{onClick:()=>h(S=>Math.max(1,S-1)),disabled:u===1,children:""}),t.jsxs("span",{children:[" ",u,"  /  ",C," "]}),t.jsx("button",{onClick:()=>h(S=>Math.min(C,S+1)),disabled:u===C,children:""})]}),y&&t.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:t.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>N(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:A.isLoading?t.jsx("div",{className:"loading",children:"..."}):A.isError?t.jsx("div",{className:"error",children:""}):A.data?t.jsxs(t.Fragment,{children:[A.data.initial_review&&t.jsxs("div",{className:"review-section",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"review-info",children:[A.data.initial_review.score!==null&&A.data.initial_review.score!==void 0&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),A.data.initial_review.score," "]}),A.data.initial_review.comment&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("div",{className:"review-comment-display",children:A.data.initial_review.comment})]}),A.data.initial_review.reviewed_at&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),new Date(A.data.initial_review.reviewed_at).toLocaleString("zh-TW")]})]})]}),A.data.second_review&&t.jsxs("div",{className:"review-section",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"review-info",children:[A.data.second_review.score!==null&&A.data.second_review.score!==void 0&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),A.data.second_review.score," "]}),A.data.second_review.comment&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("div",{className:"review-comment-display",children:A.data.second_review.comment})]}),A.data.second_review.reviewed_at&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),new Date(A.data.second_review.reviewed_at).toLocaleString("zh-TW")]})]})]}),!A.data.initial_review&&!A.data.second_review&&t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:""})})]}):null}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{className:"btn-secondary",onClick:()=>N(!1),children:""})})]})})]})}async function Nd(){const{data:a}=await ue.get("/api/profile");return a}async function ZN(a){const{data:i}=await ue.patch("/api/profile",a);return i}function PN(){const{id:a}=vl(),i=Et(),r=be({queryKey:["app",a],queryFn:()=>Ja(a)}),c=be({queryKey:["profile"],queryFn:Nd,retry:!1}),u=be({queryKey:["me"],queryFn:Hn}),{register:h,reset:f,watch:m,formState:g,getValues:p,setValue:x}=Sl({defaultValues:{data:{personal:{},contact:{},education:{},experience:{},motivation:{},other:{}}}}),y=j.useCallback(()=>{const O=p(),q=c.data,V=u.data,te={male:"",female:"",other:""},ge=ae=>ae?ae.split("T")[0]:"";if(q){if(!O.data.personal?.name&&q.full_name&&x("data.personal.name",q.full_name,{shouldDirty:!0}),!O.data.personal?.gender&&q.gender){const ae=te[q.gender]||q.gender;x("data.personal.gender",ae,{shouldDirty:!0})}!O.data.personal?.birthday&&q.birthday&&x("data.personal.birthday",ge(q.birthday),{shouldDirty:!0}),!O.data.contact?.phone&&q.phone&&x("data.contact.phone",q.phone,{shouldDirty:!0}),!O.data.contact?.address&&q.address&&x("data.contact.address",q.address,{shouldDirty:!0})}V?.email&&!O.data.contact?.email&&x("data.contact.email",V.email,{shouldDirty:!0})},[c.data,u.data,p,x]),N=Ce({mutationFn:O=>FN(a,O)});j.useEffect(()=>{r.data?.form&&(E.current=!0,f({data:r.data.form},{keepDirty:!1}),setTimeout(()=>E.current=!1,0),C.current=JSON.stringify({data:r.data.form}))},[r.data,f]),j.useEffect(()=>{if(r.data?.form&&c.isSuccess&&u.isSuccess){const O=setTimeout(()=>{y()},100);return()=>clearTimeout(O)}},[r.data?.form,c.isSuccess,u.isSuccess,y]);const A=j.useRef(null),E=j.useRef(!1),C=j.useRef(""),S=m();j.useEffect(()=>{if(r.data&&!E.current&&g.isDirty)return A.current&&clearTimeout(A.current),A.current=window.setTimeout(()=>{const O=p(),q=JSON.stringify(O);q!==C.current&&(N.isPending||N.mutate(O,{onSuccess:()=>{C.current=q,f(O,{keepValues:!0,keepDirty:!1})}}))},700),()=>{A.current&&clearTimeout(A.current)}},[S,g.isDirty]);const z=Ce({mutationFn:()=>_d(a),onSuccess:()=>i(`/applications/${a}/submit`)});return r.isLoading?t.jsx("div",{className:"applications-page",children:t.jsx("div",{className:"loading",children:"..."})}):r.data?.status!=="draft"?t.jsx("div",{className:"applications-page",children:t.jsxs("div",{className:"error-message",children:["",t.jsx("button",{onClick:()=>i(`/applications/${a}/preview`),children:""})]})}):t.jsxs("div",{className:"applications-page",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h1",{children:[""," ",r.data&&t.jsxs("small",{className:"muted",children:["",uc(r.data.id,r.data.created_at),""]})]}),t.jsxs("div",{className:"header-actions",children:[(c.isSuccess||u.isSuccess)&&t.jsx("button",{type:"button",className:"btn-fill-profile",onClick:y,title:"",children:""}),t.jsxs("div",{className:"save-status",children:[N.isPending&&t.jsx("span",{className:"saving",children:"..."}),N.isSuccess&&!N.isPending&&t.jsx("span",{className:"saved",children:" "})]})]})]}),t.jsxs("form",{className:"application-form",children:[t.jsxs("fieldset",{children:[t.jsx("legend",{children:""}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{...h("data.personal.name"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("select",{...h("data.personal.gender"),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"date",...h("data.personal.birthday")})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{...h("data.personal.id_number"),placeholder:"A123456789"})]})]})]}),t.jsxs("fieldset",{children:[t.jsx("legend",{children:""}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email *"}),t.jsx("input",{type:"email",...h("data.contact.email"),placeholder:"your@email.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{...h("data.contact.phone"),placeholder:"0912-345-678"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{...h("data.contact.address"),placeholder:""})]})]}),t.jsxs("fieldset",{children:[t.jsx("legend",{children:""}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{...h("data.education.school"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{...h("data.education.major"),placeholder:""})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("select",{...h("data.education.degree"),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"number",...h("data.education.graduation_year"),placeholder:"2024"})]})]})]}),t.jsxs("fieldset",{children:[t.jsx("legend",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"/"}),t.jsx("textarea",{...h("data.experience.work"),rows:4,placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"/"}),t.jsx("textarea",{...h("data.experience.volunteer"),rows:4,placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{...h("data.experience.skills"),rows:3,placeholder:""})]})]}),t.jsxs("fieldset",{children:[t.jsx("legend",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"*"}),t.jsx("textarea",{...h("data.motivation.why_dyu"),rows:5,placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{...h("data.motivation.future_plan"),rows:4,placeholder:""})]})]}),t.jsxs("fieldset",{children:[t.jsx("legend",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{...h("data.other.notes"),rows:4,placeholder:""})]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>i("/applications"),children:""}),t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>i(`/applications/${a}/preview`),children:""}),t.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{confirm("")&&z.mutate()},disabled:z.isPending,children:z.isPending?"...":""})]})]})}async function JN(a){const{data:i}=await ue.get(`/api/applications/${a}/affidavit`);return i}async function WN(a,i){const{data:r}=await ue.post(`/api/applications/${a}/affidavit/sign`,i);return r}async function IN(a,i){const{data:r}=await ue.put(`/api/applications/${a}/identity`,i);return r}async function eS(a,i){const{data:r}=await ue.put(`/api/applications/${a}/program`,i);return r}async function Bv(a,i,r){const c=new FormData;c.append("file",i),c.append("document_type",r);const{data:u}=await ue.post(`/api/applications/${a}/documents`,c,{headers:{"Content-Type":"multipart/form-data"}});return u}async function Sd(a,i){const{data:r}=await ue.get(`/api/applications/${a}/documents`,{params:{}});return r}async function tS(a,i){await ue.delete(`/api/applications/${a}/documents/${i}`)}async function nS(a,i){const{data:r}=await ue.put(`/api/applications/${a}/contact`,i);return r}async function aS(a,i){const{data:r}=await ue.put(`/api/applications/${a}/step4-data`,i);return r}async function sS(a,i){const{data:r}=await ue.get("/api/student-identity/departments",{params:{level:null,program_id:i||null}});return r}async function iS(a,i){const{data:r}=await ue.put(`/api/applications/${a}/departments`,i);return r}async function lS(a){const{data:i}=await ue.post(`/api/applications/${a}/complete-step-6`);return i}async function wd(a){const{data:i}=await ue.get(`/api/applications/${a}/review`);return i}async function rS(a){const{data:i}=await ue.get(`/api/applications/${a}/progress`);return i}async function cS(a){const{data:i}=await ue.get(`/api/applications/${a}/validate`);return i}async function dc(){const{data:a}=await ue.get("/api/student-identity/identities");return a}async function hc(){const{data:a}=await ue.get("/api/student-identity/programs");return a}async function wl(){const{data:a}=await ue.get("/api/student-identity/mapping");return a}const oS={draft:"",submitted:"",reviewed:"",accepted:"",rejected:""},uS={photo:" 2 ",national_id:"",passport:"",visa:"",diploma:"",transcript:"",mandarin_level:"",english_level:"",financial:"",affidavit:"",check_doc_a:"",check_doc_b:"",enrollment_doc:"",study_plan:"",recommendation:""};function dS(){const{id:a}=vl(),i=Et(),{data:r}=be({queryKey:["app",a],queryFn:()=>Ja(a)}),{data:c}=be({queryKey:["app-review",a],queryFn:()=>wd(Number(a)),enabled:!!a}),{data:u}=be({queryKey:["documents",a],queryFn:()=>Sd(Number(a)),enabled:!!a}),{data:h}=be({queryKey:["identity-mapping"],queryFn:wl}),f=Ce({mutationFn:()=>_d(a),onSuccess:()=>{i(`/applications/${a}/steps`)}});if(!r)return t.jsx("div",{className:"applications-page",children:t.jsx("div",{className:"loading",children:"..."})});const m=r?.form||{},g=m.personal||{},p=m.education||{},x=m.language||{},y=m.financial||{},N=m.other_info||{},A=c?.step2_identity?.name||h?.student_identities?.find(C=>C.id===r.student_identity_id)?.name||"-",E=c?.step3_program?.name||h?.programs?.find(C=>C.id===r.program_id)?.name||"-";return t.jsxs("div",{className:"applications-page",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h1",{children:[""," ",r&&t.jsxs("small",{className:"muted",children:["",uc(r.id,r.created_at),""]})]}),t.jsx("span",{className:`status-badge status-badge--${r.status}`,children:oS[r.status]||r.status})]}),t.jsxs("div",{className:"preview-card",children:[t.jsxs("section",{className:"preview-section",children:[t.jsx("h2",{children:"Step 1: "}),t.jsxs("div",{className:"preview-grid",children:[t.jsxs("div",{children:[t.jsx("strong",{children:""}),c?.step1_affidavit?.signed?t.jsx("span",{className:"text-success",children:""}):t.jsx("span",{className:"text-danger",children:""})]}),c?.step1_affidavit?.signed_at&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),new Date(c.step1_affidavit.signed_at).toLocaleString("zh-TW")]})]})]}),t.jsxs("section",{className:"preview-section",children:[t.jsx("h2",{children:"Step 2: "}),t.jsx("div",{className:"preview-grid",children:t.jsxs("div",{children:[t.jsx("strong",{children:""}),A]})})]}),t.jsxs("section",{className:"preview-section",children:[t.jsx("h2",{children:"Step 3: "}),t.jsx("div",{className:"preview-grid",children:t.jsxs("div",{children:[t.jsx("strong",{children:""}),E]})})]}),t.jsxs("section",{className:"preview-section",children:[t.jsx("h2",{children:"Step 4: "}),t.jsxs("div",{className:"preview-subsection",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"preview-grid",children:[t.jsxs("div",{children:[t.jsx("strong",{children:""}),g.contact_telephone||"-"]}),t.jsxs("div",{children:[t.jsx("strong",{children:" Email"}),g.contact_email||"-"]}),t.jsxs("div",{children:[t.jsx("strong",{children:""}),g.household_address||"-"]})]})]}),t.jsxs("div",{className:"preview-subsection",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"preview-grid",children:[t.jsxs("div",{children:[t.jsx("strong",{children:""}),g.national_id||"-"]}),t.jsxs("div",{children:[t.jsx("strong",{children:""}),g.is_graduating?"":""]})]})]}),t.jsxs("div",{className:"preview-subsection",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"preview-grid",children:[t.jsxs("div",{children:[t.jsx("strong",{children:""}),p.highest_education||"-"]}),t.jsxs("div",{children:[t.jsx("strong",{children:""}),p.graduate_year_month||"-"]})]})]}),(x.mandarin_level||x.english_level)&&t.jsxs("div",{className:"preview-subsection",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"preview-grid",children:[x.mandarin_level&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),x.mandarin_level]}),x.english_level&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),x.english_level]})]})]}),y.financial_state&&t.jsxs("div",{className:"preview-subsection",children:[t.jsx("h3",{children:""}),t.jsx("div",{className:"preview-grid",children:t.jsxs("div",{children:[t.jsx("strong",{children:" (USD)"}),y.financial_state.toLocaleString()]})})]}),(N.province||N.grade||N.has_visited_taiwan!==void 0||N.has_contact_in_taiwan!==void 0||N.recruit_channels)&&t.jsxs("div",{className:"preview-subsection",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"preview-grid",children:[N.province&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),N.province]}),N.grade&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),N.grade]}),N.has_visited_taiwan!==void 0&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),N.has_visited_taiwan?"":""]}),N.has_visited_taiwan&&N.visit_history&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),N.visit_history]}),N.has_contact_in_taiwan!==void 0&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),N.has_contact_in_taiwan?"":""]}),N.has_contact_in_taiwan&&N.contact_in_taiwan&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),N.contact_in_taiwan]}),N.recruit_channels&&N.recruit_channels.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),N.recruit_channels.join("")]})]})]}),u?.documents&&u.documents.length>0&&t.jsxs("div",{className:"preview-subsection",children:[t.jsx("h3",{children:""}),t.jsx("div",{className:"preview-grid",children:u.documents.map(C=>t.jsxs("div",{children:[t.jsxs("strong",{children:[uS[C.document_type]||C.document_type,""]}),t.jsx("a",{href:C.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-link",children:C.file_name||""}),C.uploaded_at&&t.jsxs("span",{className:"text-muted",children:[" ","(",new Date(C.uploaded_at).toLocaleDateString("zh-TW"),")"]})]},C.id))})]})]}),c?.step5_departments&&c.step5_departments.length>0&&t.jsxs("section",{className:"preview-section",children:[t.jsx("h2",{children:"Step 5: ()"}),t.jsx("div",{className:"preview-grid",children:c.step5_departments.map((C,S)=>t.jsxs("div",{children:[t.jsxs("strong",{children:[" ",C.preference_order," "]}),C.department_name||C.department_id||"-"]},S))})]}),(u?.documents?.some(C=>C.document_type==="study_plan")||u?.documents?.some(C=>C.document_type==="recommendation"))&&t.jsxs("section",{className:"preview-section",children:[t.jsx("h2",{children:"Step 6: "}),t.jsxs("div",{className:"preview-grid",children:[u?.documents?.filter(C=>C.document_type==="study_plan").map(C=>t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("a",{href:C.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-link",children:C.file_name||""})]},C.id)),u?.documents?.filter(C=>C.document_type==="recommendation").map(C=>t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("a",{href:C.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-link",children:C.file_name||""})]},C.id))]})]}),t.jsxs("section",{className:"preview-section preview-meta",children:[t.jsx("h2",{children:""}),t.jsxs("div",{className:"preview-grid",children:[t.jsxs("div",{children:[t.jsx("strong",{children:""}),new Date(r.created_at).toLocaleString("zh-TW")]}),r.submitted_at&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),new Date(r.submitted_at).toLocaleString("zh-TW")]})]})]}),c&&!c.can_submit&&c.validation_errors.length>0&&t.jsxs("section",{className:"preview-section preview-errors",children:[t.jsx("h2",{className:"text-danger",children:" "}),t.jsx("div",{className:"error-list",children:c.validation_errors.map((C,S)=>t.jsxs("div",{className:"error-item",children:[t.jsxs("strong",{children:["Step ",C.step,":"]})," ",C.message]},S))})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>i("/applications"),children:""}),r.status==="draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn-secondary",onClick:()=>i(`/applications/${a}/steps`),children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>{confirm("")&&f.mutate()},disabled:f.isPending||c&&!c.can_submit,children:f.isPending?"...":""})]})]})]})}function hS(){const{id:a}=vl(),i=Et(),r=be({queryKey:["app",a],queryFn:()=>Ja(a)});if(r.isLoading)return t.jsx("div",{className:"applications-page",children:t.jsx("div",{className:"loading",children:"..."})});const c=r.data;return t.jsx("div",{className:"applications-page",children:t.jsxs("div",{className:"submit-success",children:[t.jsx("div",{className:"success-icon",children:""}),t.jsx("h1",{children:""}),t.jsxs("p",{children:[" ",new Date(c.submitted_at).toLocaleString("zh-TW")," ",""]}),t.jsx("p",{children:" Email "}),t.jsxs("div",{className:"success-info",children:[t.jsxs("h3",{children:["",uc(c.id,c.created_at)]}),t.jsx("p",{children:""})]}),t.jsxs("div",{className:"success-actions",children:[t.jsx("button",{className:"btn-primary",onClick:()=>i("/applications"),children:""}),t.jsx("button",{className:"btn-secondary",onClick:()=>i(`/applications/${a}/preview`),children:""}),t.jsx("button",{className:"btn-secondary",onClick:()=>i("/chat"),children:""})]})]})})}const fS=["","","","","()","",""];function mS(){const{id:a}=vl();Et();const i=bt(),r=parseInt(a||"0"),{data:c,isLoading:u}=be({queryKey:["app",r],queryFn:()=>Ja(r),enabled:!!r}),{data:h}=be({queryKey:["app-progress",r],queryFn:()=>rS(r),enabled:!!r}),f=h?.current_step||c?.current_step||1,[m,g]=j.useState(f),[p,x]=j.useState(!1);return j.useEffect(()=>{p||f>m&&g(f),p&&m>=f&&f>0&&x(!1)},[f,p,m]),u?t.jsx("div",{className:"application-steps-page",children:t.jsx("div",{className:"loading",children:"..."})}):!c||c.status!=="draft"?t.jsx("div",{className:"application-steps-page",children:t.jsx("div",{className:"error-message",children:""})}):t.jsx("div",{className:"application-steps-page",children:t.jsxs("div",{className:"steps-container",children:[t.jsx("div",{className:"steps-progress",children:fS.map((y,N)=>{const A=N+1,E=h?.steps.find(O=>O.step_number===A),C=m===A,S=E?.completed||!1,z=A<=f+1;return t.jsxs("div",{className:`step-indicator ${C?"active":""} ${S?"completed":""} ${z?"accessible":"locked"}`,onClick:()=>{z&&(x(!0),g(A))},children:[t.jsx("div",{className:"step-number",children:A}),t.jsx("div",{className:"step-name",children:y}),S&&t.jsx("div",{className:"step-check",children:""})]},A)})}),t.jsxs("div",{className:"steps-content",children:[m===1&&t.jsx(pS,{appId:r,onComplete:()=>{x(!0),g(2)}}),m===2&&t.jsx(gS,{appId:r,onComplete:()=>{x(!0),g(3)},onBack:()=>{x(!0),g(1)}}),m===3&&t.jsx(vS,{appId:r,onComplete:()=>{x(!0),g(4)},onBack:()=>{x(!0),g(2)}}),m===4&&t.jsx(xS,{appId:r,onComplete:async()=>{x(!0),await i.invalidateQueries({queryKey:["app-progress",r]}),await i.refetchQueries({queryKey:["app-progress",r]}),g(5)},onBack:()=>{x(!0),g(3)}}),m===5&&t.jsx(yS,{appId:r,onComplete:()=>{x(!0),g(6)},onBack:()=>{x(!0),g(4)}}),m===6&&t.jsx(jS,{appId:r,onComplete:()=>{x(!0),g(7)},onBack:()=>{x(!0),g(5)}}),m===7&&t.jsx(bS,{appId:r,onBack:()=>{x(!0),g(6)}})]})]})})}function pS({appId:a,onComplete:i}){const r=bt(),[c,u]=j.useState(""),[h,f]=j.useState(null),[m,g]=j.useState(!1),[p,x]=j.useState(!1),{data:y}=be({queryKey:["affidavit",a],queryFn:()=>JN(a)}),N=Ce({mutationFn:S=>WN(a,{signature:S}),onSuccess:async()=>{r.invalidateQueries({queryKey:["affidavit",a]}),r.invalidateQueries({queryKey:["app-progress",a]}),r.invalidateQueries({queryKey:["app",a]}),await r.refetchQueries({queryKey:["app-progress",a]}),g(!1),u(""),f(null),x(!1),y?.signed||i()}}),A=S=>{const z=S.target.files?.[0];if(z){f(z);const O=new FileReader;O.onloadend=()=>{u(O.result)},O.readAsDataURL(z)}},E=()=>{if(!c){alert("");return}if(!p){alert("");return}N.mutate(c)},C=()=>{g(!1),u(""),f(null),x(!1)};return y?.signed&&!m?t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 1: "}),t.jsxs("div",{className:"step-completed",children:[t.jsx("p",{children:" "}),t.jsxs("p",{children:["",new Date(y.signed_at).toLocaleString("zh-TW")]}),t.jsxs("div",{className:"step-actions",style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[t.jsx("button",{className:"btn-secondary",onClick:()=>g(!0),children:""}),t.jsx("button",{className:"btn-primary",onClick:i,children:""})]})]})]}):t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 1: "}),y?.signed&&m&&t.jsx("div",{className:"alert-info",style:{padding:"1rem",marginBottom:"1rem",backgroundColor:"#e3f2fd",borderLeft:"4px solid #2196f3",borderRadius:"4px"},children:t.jsx("p",{children:""})}),t.jsxs("div",{className:"affidavit-content",children:[t.jsx("div",{className:"affidavit-text",children:y?.content}),t.jsx("div",{className:"affidavit-confirmation",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:p,onChange:S=>x(S.target.checked)}),t.jsx("span",{children:""})]})}),t.jsxs("div",{className:"signature-section",style:{marginTop:"2rem"},children:[t.jsx("label",{children:""}),t.jsx("input",{type:"file",accept:"image/*",onChange:A}),c&&t.jsxs("div",{className:"signature-preview",children:[t.jsx("img",{src:c,alt:"",style:{maxWidth:"300px",marginTop:"1rem"}}),t.jsx("button",{className:"btn-small btn-secondary",onClick:()=>{u(""),f(null);const S=document.querySelector('input[type="file"]');S&&(S.value="")},style:{marginTop:"0.5rem"},children:""})]})]}),t.jsxs("div",{className:"step-actions",style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[y?.signed&&m&&t.jsx("button",{className:"btn-secondary",onClick:C,disabled:N.isPending,children:""}),t.jsx("button",{className:"btn-primary",onClick:E,disabled:!c||!p||N.isPending,children:N.isPending?"...":y?.signed?"":""})]})]})]})}function gS({appId:a,onComplete:i,onBack:r}){const c=bt(),[u,h]=j.useState(null),{data:f}=be({queryKey:["app",a],queryFn:()=>Ja(a)}),{data:m}=be({queryKey:["profile"],queryFn:Nd,retry:!1}),{data:g}=be({queryKey:["identity-mapping"],queryFn:wl});j.useEffect(()=>{if(u===null){const y=f?.student_identity_id||m?.student_identity_id||null;y&&h(y)}},[f?.student_identity_id,m?.student_identity_id,u]);const p=Ce({mutationFn:y=>IN(a,{student_identity_id:y}),onSuccess:async()=>{await c.invalidateQueries({queryKey:["app-progress",a]}),await c.invalidateQueries({queryKey:["app",a]}),await c.refetchQueries({queryKey:["app-progress",a]}),i()}}),x=()=>{if(!u){alert("");return}p.mutate(u)};return t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 2: "}),t.jsxs("div",{className:"identity-selection",children:[t.jsx("p",{children:""}),t.jsx("div",{className:"identity-options",children:g?.student_identities.map(y=>t.jsxs("label",{className:"identity-option",children:[t.jsx("input",{type:"radio",name:"identity",value:y.id,checked:u===y.id,onChange:()=>h(y.id)}),t.jsxs("div",{children:[t.jsx("strong",{children:y.name}),y.name_en&&t.jsxs("span",{children:[" (",y.name_en,")"]})]})]},y.id))}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:r,children:""}),t.jsx("button",{className:"btn-primary",onClick:x,disabled:!u||p.isPending,children:p.isPending?"...":""})]})]})]})}function vS({appId:a,onComplete:i,onBack:r}){const c=bt(),[u,h]=j.useState(null),{data:f}=be({queryKey:["app",a],queryFn:()=>Ja(a)}),{data:m}=be({queryKey:["identity-mapping"],queryFn:wl}),g=f?.student_identity_id&&m?m.student_identities.find(y=>y.id===f.student_identity_id)?.eligible_programs||[]:[];j.useEffect(()=>{u===null&&f?.program_id&&g.some(N=>N.id===f.program_id)&&h(f.program_id)},[f?.program_id,g,u]);const p=Ce({mutationFn:y=>eS(a,{program_id:y}),onSuccess:async()=>{await c.invalidateQueries({queryKey:["app-progress",a]}),await c.invalidateQueries({queryKey:["app",a]}),await c.refetchQueries({queryKey:["app-progress",a]}),i()}}),x=()=>{if(!u){alert("");return}p.mutate(u)};return f?.student_identity_id?t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 3: "}),t.jsxs("div",{className:"program-selection",children:[t.jsx("p",{children:""}),t.jsx("div",{className:"program-options",children:g.map(y=>t.jsxs("label",{className:"program-option",children:[t.jsx("input",{type:"radio",name:"program",value:y.id,checked:u===y.id,onChange:()=>h(y.id)}),t.jsxs("div",{children:[t.jsx("strong",{children:y.name}),y.name_en&&t.jsxs("span",{children:[" (",y.name_en,")"]})]})]},y.id))}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:r,children:""}),t.jsx("button",{className:"btn-primary",onClick:x,disabled:!u||p.isPending,children:p.isPending?"...":""})]})]})]}):t.jsx("div",{className:"step-content",children:t.jsx("div",{className:"error-message",children:" Step 2: "})})}function xS({appId:a,onComplete:i,onBack:r}){const c=bt(),{data:u}=be({queryKey:["me"],queryFn:Hn}),{data:h}=be({queryKey:["app",a],queryFn:()=>Ja(a)}),{data:f}=be({queryKey:["identity-mapping"],queryFn:wl}),[m,g]=j.useState(""),[p,x]=j.useState(""),[y,N]=j.useState(""),[A,E]=j.useState(null),[C,S]=j.useState(""),[z,O]=j.useState(""),[q,V]=j.useState(""),[te,ge]=j.useState(""),[ae,oe]=j.useState(null),[X,ye]=j.useState(""),[me,de]=j.useState(null),[pe,k]=j.useState(null),[ne,w]=j.useState(""),[W,ce]=j.useState(null),[ve,Te]=j.useState(""),[T,$]=j.useState([]),[Y,J]=j.useState(!1);j.useEffect(()=>{if(h?.form){const U=h.form;U.personal&&(g(U.personal.contact_telephone||""),x(U.personal.household_address||""),N(U.personal.national_id||""),E(U.personal.is_graduating!==void 0?U.personal.is_graduating:null)),U.education&&(S(U.education.highest_education||""),O(U.education.graduate_year_month||"")),U.language&&(V(U.language.mandarin_level||""),ge(U.language.english_level||"")),U.financial&&oe(U.financial.financial_state||null),U.other_info&&(ye(U.other_info.province||""),de(U.other_info.grade||null),k(U.other_info.has_visited_taiwan!==void 0?U.other_info.has_visited_taiwan:null),w(U.other_info.visit_history||""),ce(U.other_info.has_contact_in_taiwan!==void 0?U.other_info.has_contact_in_taiwan:null),Te(U.other_info.contact_in_taiwan||""),$(U.other_info.recruit_channels||[]))}},[h?.form]);const{data:le}=be({queryKey:["documents",a],queryFn:()=>Sd(a)}),Ne=Ce({mutationFn:({file:U,type:xe})=>Bv(a,U,xe),onSuccess:()=>{c.invalidateQueries({queryKey:["documents",a]})}}),Oe=Ce({mutationFn:U=>tS(a,U),onSuccess:()=>{c.invalidateQueries({queryKey:["documents",a]})}}),qe=Ce({mutationFn:()=>nS(a,{phone:m,address:p,email:u?.email}),onSuccess:()=>{c.invalidateQueries({queryKey:["app",a]})}}),ke=Ce({mutationFn:()=>aS(a,{national_id:y||null,is_graduating:A,highest_education:C||null,graduate_year_month:z||null,mandarin_level:q||null,english_level:te||null,financial_state:ae,province:X||null,grade:me,has_visited_taiwan:pe,visit_history:ne||null,has_contact_in_taiwan:W,contact_in_taiwan:ve||null,recruit_channels:T.length>0?T:null}),onSuccess:async()=>{await c.invalidateQueries({queryKey:["app",a]}),await c.refetchQueries({queryKey:["app",a]})}}),Ze=U=>{const xe=document.createElement("input");xe.type="file",xe.accept=".pdf,.jpg,.jpeg,.png",xe.onchange=Qe=>{const nt=Qe.target.files[0];nt&&Ne.mutate({file:nt,type:U})},xe.click()},Yt=()=>{if(!m||!p){alert("");return}qe.mutate()},pt=()=>{ke.mutate()},Pe=()=>{J(!0)},it=()=>{const U=[],xe=le?.required_types||[],Qe=le?.uploaded_types||[],nt=q&&q!=="None",vt=te&&te!=="None",ht=xe.filter(dt=>dt!=="mandarin_level"&&dt!=="english_level").filter(dt=>!Qe.includes(dt));nt&&!Qe.includes("mandarin_level")&&ht.push("mandarin_level"),vt&&!Qe.includes("english_level")&&ht.push("english_level");const Je={photo:" 2 ",national_id:"",diploma:"",transcript:"",mandarin_level:"",english_level:"",financial:"",check_doc_a:"",check_doc_b:"",enrollment_doc:""};return ht.forEach(dt=>{U.push({type:"file",name:Je[dt]||dt,message:`${Je[dt]||dt}`})}),m||U.push({type:"field",name:"",message:""}),p||U.push({type:"field",name:"",message:""}),y||U.push({type:"field",name:"",message:""}),C||U.push({type:"field",name:"",message:""}),z||U.push({type:"field",name:"",message:""}),A===null&&U.push({type:"field",name:"",message:""}),(B==="foreign_student"||B==="new_program")&&(q||U.push({type:"field",name:"",message:""}),te||U.push({type:"field",name:"",message:""})),(B==="foreign_student"||B==="international_prep")&&(ae||U.push({type:"field",name:" (USD)",message:""})),B==="international_prep"&&(X||U.push({type:"field",name:"",message:""}),me||U.push({type:"field",name:"",message:""})),pe===null&&U.push({type:"field",name:"",message:""}),W===null&&U.push({type:"field",name:"",message:""}),pe===!0&&!ne&&U.push({type:"field",name:"",message:""}),W===!0&&!ve&&U.push({type:"field",name:"",message:""}),U},Me=()=>it().length===0,gt=async()=>{try{await ke.mutateAsync(),m&&p&&await qe.mutateAsync(),i()}catch(U){console.error("",U),alert("")}},Nt=le?.required_types||[],_e=le?.uploaded_types||[];Nt.every(U=>_e.includes(U));const tt=h?.student_identity_id,B=f?.student_identities.find(U=>U.id===tt)?.identity_id,P=B==="overseas_chinese_student",he=B==="hong_macau_student",se=B==="overseas_chinese_student"||B==="hong_macau_student",I=q&&q!=="None",Se=te&&te!=="None";return t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 4: "}),t.jsx("p",{className:"step-description",children:""}),t.jsxs("div",{className:"basic-info-section",children:[t.jsx("h3",{children:"1. "}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:y,onChange:U=>N(U.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"isGraduating",checked:A===!0,onChange:()=>E(!0)}),t.jsx("span",{children:""})]}),t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"isGraduating",checked:A===!1,onChange:()=>E(!1)}),t.jsx("span",{children:""})]})]})]})]}),t.jsxs("div",{className:"related-documents",children:[t.jsx("h4",{children:""}),t.jsxs("div",{className:"document-upload-grid",children:[Nt.includes("photo")&&t.jsxs("div",{className:"document-upload-item",children:[t.jsx("label",{children:" 2 "}),_e.includes("photo")?t.jsxs("div",{className:"uploaded-status",children:[t.jsx("span",{className:"uploaded",children:" "}),le?.documents.find(U=>U.document_type==="photo")&&t.jsx("span",{className:"file-name",children:le.documents.find(U=>U.document_type==="photo")?.file_name}),t.jsx("button",{className:"btn-danger btn-small",onClick:()=>{const U=le?.documents.find(xe=>xe.document_type==="photo");U&&confirm("")&&Oe.mutate(U.id)},children:""})]}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("photo"),disabled:Ne.isPending,children:""})]}),Nt.includes("national_id")&&t.jsxs("div",{className:"document-upload-item",children:[t.jsx("label",{children:""}),_e.includes("national_id")?t.jsxs("div",{className:"uploaded-status",children:[t.jsx("span",{className:"uploaded",children:" "}),le?.documents.find(U=>U.document_type==="national_id")&&t.jsx("span",{className:"file-name",children:le.documents.find(U=>U.document_type==="national_id")?.file_name}),t.jsx("button",{className:"btn-danger btn-small",onClick:()=>{const U=le?.documents.find(xe=>xe.document_type==="national_id");U&&confirm("")&&Oe.mutate(U.id)},children:""})]}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("national_id"),disabled:Ne.isPending,children:""})]})]})]}),t.jsx("button",{className:"btn-secondary",onClick:pt,disabled:ke.isPending,children:ke.isPending?"...":""})]}),t.jsxs("div",{className:"education-section",children:[t.jsx("h3",{children:"2. "}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:C,onChange:U=>S(U.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"month",value:z,onChange:U=>O(U.target.value),placeholder:"yyyy-mm"})]})]}),t.jsxs("div",{className:"related-documents",children:[t.jsx("h4",{children:""}),t.jsxs("div",{className:"document-upload-grid",children:[Nt.includes("diploma")&&t.jsxs("div",{className:"document-upload-item",children:[t.jsx("label",{children:""}),_e.includes("diploma")?t.jsxs("div",{className:"uploaded-status",children:[t.jsx("span",{className:"uploaded",children:" "}),le?.documents.find(U=>U.document_type==="diploma")&&t.jsx("span",{className:"file-name",children:le.documents.find(U=>U.document_type==="diploma")?.file_name}),t.jsx("button",{className:"btn-danger btn-small",onClick:()=>{const U=le?.documents.find(xe=>xe.document_type==="diploma");U&&confirm("")&&Oe.mutate(U.id)},children:""})]}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("diploma"),disabled:Ne.isPending,children:""})]}),Nt.includes("transcript")&&t.jsxs("div",{className:"document-upload-item",children:[t.jsx("label",{children:""}),_e.includes("transcript")?t.jsxs("div",{className:"uploaded-status",children:[t.jsx("span",{className:"uploaded",children:" "}),le?.documents.find(U=>U.document_type==="transcript")&&t.jsx("span",{className:"file-name",children:le.documents.find(U=>U.document_type==="transcript")?.file_name}),t.jsx("button",{className:"btn-danger btn-small",onClick:()=>{const U=le?.documents.find(xe=>xe.document_type==="transcript");U&&confirm("")&&Oe.mutate(U.id)},children:""})]}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("transcript"),disabled:Ne.isPending,children:""})]})]})]}),t.jsx("button",{className:"btn-secondary",onClick:pt,disabled:ke.isPending,children:ke.isPending?"...":""})]}),t.jsxs("div",{className:"contact-section",children:[t.jsx("h3",{children:"3. "}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"tel",value:m,onChange:U=>g(U.target.value),placeholder:"0912-345-678"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email"}),t.jsx("input",{type:"email",value:u?.email||"",disabled:!0})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{value:p,onChange:U=>x(U.target.value),placeholder:"",rows:3})]}),t.jsx("button",{className:"btn-secondary",onClick:Yt,disabled:qe.isPending,children:qe.isPending?"...":""})]}),(()=>{const U=["photo","national_id","diploma","transcript","mandarin_level","english_level","financial","check_doc_a","check_doc_b","enrollment_doc"],xe=Nt.filter(nt=>!U.includes(nt));if(xe.length===0)return null;const Qe={identity:"",passport:"",visa:""};return t.jsxs("div",{className:"documents-section",children:[t.jsx("h3",{children:""}),t.jsx("p",{className:"section-hint",children:""}),t.jsx("div",{className:"documents-list",children:xe.map(nt=>{const vt=le?.documents.find(ht=>ht.document_type===nt),en=_e.includes(nt);return t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-info",children:[t.jsxs("span",{className:en?"uploaded":"missing",children:[en?"":""," ",Qe[nt]||nt]}),vt&&t.jsx("span",{className:"file-name",children:vt.file_name})]}),t.jsx("div",{className:"document-actions",children:en?t.jsx("button",{className:"btn-danger",onClick:()=>{const ht=le?.documents.find(Je=>Je.document_type===nt);ht&&confirm("")&&Oe.mutate(ht.id)},children:""}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze(nt),disabled:Ne.isPending,children:""})})]},nt)})})]})})(),t.jsxs("div",{className:"language-section",children:[t.jsx("h3",{children:"4. "}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:q,onChange:U=>V(U.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"None",children:""}),t.jsx("option",{value:"A1",children:"A1"}),t.jsx("option",{value:"A2",children:"A2"}),t.jsx("option",{value:"B1",children:"B1"}),t.jsx("option",{value:"B2",children:"B2"}),t.jsx("option",{value:"C1",children:"C1"}),t.jsx("option",{value:"C2",children:"C2"}),t.jsx("option",{value:"Native",children:""})]}),I&&t.jsx("div",{className:"file-upload-hint",children:_e.includes("mandarin_level")?t.jsxs("div",{className:"uploaded-status",children:[t.jsx("span",{className:"uploaded",children:" "}),le?.documents.find(U=>U.document_type==="mandarin_level")&&t.jsx("span",{className:"file-name",children:le.documents.find(U=>U.document_type==="mandarin_level")?.file_name}),t.jsx("button",{className:"btn-danger btn-small",onClick:()=>{const U=le?.documents.find(xe=>xe.document_type==="mandarin_level");U&&confirm("")&&Oe.mutate(U.id)},children:""})]}):t.jsx("button",{className:"btn-primary btn-small",onClick:()=>Ze("mandarin_level"),disabled:Ne.isPending,children:""})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:te,onChange:U=>ge(U.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"None",children:""}),t.jsx("option",{value:"A1",children:"A1"}),t.jsx("option",{value:"A2",children:"A2"}),t.jsx("option",{value:"B1",children:"B1"}),t.jsx("option",{value:"B2",children:"B2"}),t.jsx("option",{value:"C1",children:"C1"}),t.jsx("option",{value:"C2",children:"C2"}),t.jsx("option",{value:"Native",children:""})]}),Se&&t.jsx("div",{className:"file-upload-hint",children:_e.includes("english_level")?t.jsxs("div",{className:"uploaded-status",children:[t.jsx("span",{className:"uploaded",children:" "}),le?.documents.find(U=>U.document_type==="english_level")&&t.jsx("span",{className:"file-name",children:le.documents.find(U=>U.document_type==="english_level")?.file_name}),t.jsx("button",{className:"btn-danger btn-small",onClick:()=>{const U=le?.documents.find(xe=>xe.document_type==="english_level");U&&confirm("")&&Oe.mutate(U.id)},children:""})]}):t.jsx("button",{className:"btn-primary btn-small",onClick:()=>Ze("english_level"),disabled:Ne.isPending,children:""})})]})]}),t.jsx("button",{className:"btn-secondary",onClick:pt,disabled:ke.isPending,children:ke.isPending?"...":""})]}),t.jsxs("div",{className:"financial-section",children:[t.jsx("h3",{children:"5. "}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"USD"}),t.jsx("input",{type:"number",value:ae||"",onChange:U=>oe(U.target.value?parseFloat(U.target.value):null),placeholder:"USD",min:"0",step:"0.01"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),_e.includes("financial")?t.jsxs("div",{className:"uploaded-status",children:[t.jsx("span",{className:"uploaded",children:" "}),le?.documents.find(U=>U.document_type==="financial")&&t.jsx("span",{className:"file-name",children:le.documents.find(U=>U.document_type==="financial")?.file_name}),t.jsx("button",{className:"btn-danger btn-small",onClick:()=>{const U=le?.documents.find(xe=>xe.document_type==="financial");U&&confirm("")&&Oe.mutate(U.id)},children:""})]}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("financial"),disabled:Ne.isPending,children:""})]})]}),t.jsx("button",{className:"btn-secondary",onClick:pt,disabled:ke.isPending,children:ke.isPending?"...":""})]}),t.jsxs("div",{className:"other-info-section",children:[t.jsx("h3",{children:"6. "}),B==="international_prep"&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:X,onChange:U=>ye(U.target.value),placeholder:""})]}),B==="international_prep"&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"number",value:me||"",onChange:U=>de(U.target.value?parseFloat(U.target.value):null),placeholder:"65, 70, 80",min:"0",max:"100",step:"0.01"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"hasVisitedTaiwan",checked:pe===!0,onChange:()=>k(!0)}),t.jsx("span",{children:""})]}),t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"hasVisitedTaiwan",checked:pe===!1,onChange:()=>k(!1)}),t.jsx("span",{children:""})]})]})]}),pe===!0&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{value:ne,onChange:U=>w(U.target.value),placeholder:"",rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"hasContactInTaiwan",checked:W===!0,onChange:()=>ce(!0)}),t.jsx("span",{children:""})]}),t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"hasContactInTaiwan",checked:W===!1,onChange:()=>ce(!1)}),t.jsx("span",{children:""})]})]})]}),W===!0&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:ve,onChange:U=>Te(U.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("div",{className:"checkbox-group",children:[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}].map(U=>t.jsxs("label",{className:"checkbox-option",children:[t.jsx("input",{type:"checkbox",checked:T.includes(U.value),onChange:xe=>{xe.target.checked?$([...T,U.value]):$(T.filter(Qe=>Qe!==U.value))}}),t.jsx("span",{children:U.label})]},U.value))})]}),t.jsx("button",{className:"btn-secondary",onClick:pt,disabled:ke.isPending,children:ke.isPending?"...":""})]}),(P||he||se)&&t.jsxs("div",{className:"special-documents-section",children:[t.jsx("h3",{children:"7. "}),t.jsx("p",{className:"section-hint",children:""}),t.jsxs("div",{className:"form-grid",children:[P&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),_e.includes("check_doc_a")?t.jsx("span",{className:"uploaded",children:" "}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("check_doc_a"),disabled:Ne.isPending,children:""})]}),he&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),_e.includes("check_doc_b")?t.jsx("span",{className:"uploaded",children:" "}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("check_doc_b"),disabled:Ne.isPending,children:""})]}),se&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),_e.includes("enrollment_doc")?t.jsx("span",{className:"uploaded",children:" "}):t.jsx("button",{className:"btn-primary",onClick:()=>Ze("enrollment_doc"),disabled:Ne.isPending,children:""})]})]})]}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:r,children:""}),t.jsx("button",{className:"btn-secondary",onClick:Pe,children:""}),t.jsx("button",{className:"btn-primary",onClick:gt,disabled:!Me()||ke.isPending||qe.isPending,children:ke.isPending||qe.isPending?"...":""})]}),Y&&t.jsx("div",{className:"validation-modal-overlay",onClick:()=>J(!1),children:t.jsxs("div",{className:"validation-modal",onClick:U=>U.stopPropagation(),children:[t.jsxs("div",{className:"validation-modal-header",children:[t.jsx("h3",{children:"Step 4 "}),t.jsx("button",{className:"btn-close",onClick:()=>J(!1),children:""})]}),t.jsx("div",{className:"validation-modal-content",children:(()=>{const U=it();return U.length===0?t.jsx("div",{className:"validation-success",children:t.jsx("p",{children:" "})}):t.jsxs("div",{className:"validation-errors",children:[t.jsx("h4",{children:""}),t.jsx("ul",{children:U.map((xe,Qe)=>t.jsxs("li",{children:[t.jsxs("strong",{children:[xe.name,""]}),xe.message]},Qe))})]})})()}),t.jsx("div",{className:"validation-modal-footer",children:t.jsx("button",{className:"btn-primary",onClick:()=>J(!1),children:""})})]})})]})}function yS({appId:a,onComplete:i,onBack:r}){const c=bt(),[u,h]=j.useState([{preference_order:1,department_id:"",department_name:""}]),[f,m]=j.useState(1),{data:g}=be({queryKey:["app",a],queryFn:()=>Ja(a)}),{data:p}=be({queryKey:["identity-mapping"],queryFn:wl}),x=g?.program_id?p?.programs.find(C=>C.id===g.program_id)?.program_id:void 0,{data:y}=be({queryKey:["departments",x],queryFn:()=>sS(void 0,x),enabled:!!g?.program_id&&!!p});j.useEffect(()=>{if(g?.program_id&&p){const z=p.programs.find(O=>O.id===g.program_id)?.program_id==="international_prep"?3:1;if(m(z),g?.departments&&g.departments.length>0){const O=[...g.departments];for(;O.length<z;)O.push({preference_order:O.length+1,department_id:"",department_name:""});O.forEach((q,V)=>{q.preference_order=V+1}),h(O.slice(0,z))}else{const O=[];for(let q=1;q<=z;q++)O.push({preference_order:q,department_id:"",department_name:""});h(O)}}},[g?.departments,g?.program_id,p]);const N=Ce({mutationFn:C=>iS(a,{departments:C}),onSuccess:async()=>{await c.invalidateQueries({queryKey:["app-progress",a]}),await c.invalidateQueries({queryKey:["app",a]}),await c.refetchQueries({queryKey:["app-progress",a]}),await c.refetchQueries({queryKey:["app",a]}),i()}}),A=(C,S,z)=>{const O=[...u];{const q=y?.departments.find(V=>V.id===z);O[C]={...O[C],department_id:z,department_name:q?.name||""}}h(O)},E=()=>{const C=u.filter(S=>S.department_id);if(C.length===0){alert("");return}N.mutate(C)};return g?.program_id?t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 5: ()"}),t.jsxs("div",{className:"departments-selection",children:[t.jsx("p",{children:f===3?" 3 ":""}),u.slice(0,f).map((C,S)=>t.jsx("div",{className:"department-item",children:t.jsxs("label",{children:[" ",C.preference_order," ",t.jsxs("select",{value:C.department_id,onChange:z=>A(S,"department_id",z.target.value),children:[t.jsx("option",{value:"",children:""}),y?.departments.map(z=>t.jsxs("option",{value:z.id,children:[z.name," ",z.name_en&&`(${z.name_en})`]},z.id))]})]})},S)),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:r,children:""}),t.jsx("button",{className:"btn-primary",onClick:E,disabled:N.isPending,children:N.isPending?"...":""})]})]})]}):t.jsx("div",{className:"step-content",children:t.jsx("div",{className:"error-message",children:" Step 3: "})})}function jS({appId:a,onComplete:i,onBack:r}){const c=bt(),[u,h]=j.useState(null),[f,m]=j.useState(null),{data:g}=be({queryKey:["documents",a],queryFn:()=>Sd(a)}),p=Ce({mutationFn:({file:C,type:S})=>Bv(a,C,S),onSuccess:()=>{c.invalidateQueries({queryKey:["documents",a]})}}),x=Ce({mutationFn:()=>lS(a),onSuccess:async()=>{await c.invalidateQueries({queryKey:["app-progress",a]}),await c.invalidateQueries({queryKey:["app",a]}),await c.refetchQueries({queryKey:["app-progress",a]}),await c.refetchQueries({queryKey:["app",a]}),i()}}),y=C=>{const S=document.createElement("input");S.type="file",S.accept=".pdf,.doc,.docx",S.onchange=z=>{const O=z.target.files[0];O&&(C==="study_plan"?h(O):m(O),p.mutate({file:O,type:C}))},S.click()},N=()=>{x.mutate()},A=g?.uploaded_types.includes("study_plan"),E=g?.uploaded_types.includes("recommendation");return t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 6: "}),t.jsxs("div",{className:"additional-section",children:[t.jsxs("div",{className:"document-upload",children:[t.jsx("h3",{children:""}),A?t.jsx("div",{className:"uploaded-file",children:t.jsx("span",{children:" "})}):t.jsx("button",{className:"btn-primary",onClick:()=>y("study_plan"),disabled:p.isPending,children:""})]}),t.jsxs("div",{className:"document-upload",children:[t.jsx("h3",{children:""}),E?t.jsx("div",{className:"uploaded-file",children:t.jsx("span",{children:" "})}):t.jsx("button",{className:"btn-secondary",onClick:()=>y("recommendation"),disabled:p.isPending,children:""})]}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:r,children:""}),t.jsx("button",{className:"btn-primary",onClick:N,disabled:x.isPending,children:x.isPending?"...":""})]})]})]})}function bS({appId:a,onBack:i}){const r=Et(),c=bt(),{data:u}=be({queryKey:["app-review",a],queryFn:()=>wd(a)}),{data:h}=be({queryKey:["app-validate",a],queryFn:()=>cS(a)}),f=Ce({mutationFn:()=>_d(a),onSuccess:()=>{c.invalidateQueries({queryKey:["apps"]}),r("/applications")}}),m=()=>{if(!u?.can_submit){alert("");return}confirm("")&&f.mutate()};if(!u)return t.jsx("div",{className:"loading",children:"..."});const g={photo:" 2 ",national_id:"",diploma:"",transcript:"",mandarin_level:"",english_level:"",financial:"",check_doc_a:"",check_doc_b:"",enrollment_doc:"",study_plan:"",recommendation:""},p=x=>!x||x==="None"?"":{A1:"A1",A2:"A2",B1:"B1",B2:"B2",C1:"C1",C2:"C2",Native:""}[x]||x;return t.jsxs("div",{className:"step-content",children:[t.jsx("h2",{children:"Step 7: "}),t.jsxs("div",{className:"review-section",children:[t.jsxs("div",{className:"review-summary",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"summary-item",children:[t.jsx("strong",{children:""}),u.step2_identity?.name||""]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("strong",{children:""}),u.step3_program?.name||""]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("strong",{children:""}),u.step5_departments.length>0?u.step5_departments.map(x=>`${x.preference_order}. ${x.department_name}`).join(", "):""]})]}),t.jsxs("div",{className:"review-full-data",children:[t.jsx("h3",{children:""}),u.step4_form_data?.personal&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"1. "}),t.jsxs("div",{className:"review-data-grid",children:[u.step4_form_data.personal.national_id&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.personal.national_id})]}),u.step4_form_data.personal.is_graduating!==void 0&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.personal.is_graduating?"":""})]}),u.step4_form_data?.personal?.contact_telephone&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.personal.contact_telephone})]}),u.step4_form_data?.personal?.household_address&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.personal.household_address})]})]})]}),u.step4_form_data?.education&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"2. "}),t.jsxs("div",{className:"review-data-grid",children:[u.step4_form_data.education.highest_education&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.education.highest_education})]}),u.step4_form_data.education.graduate_year_month&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.education.graduate_year_month})]})]})]}),u.step4_form_data?.language&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"3. "}),t.jsxs("div",{className:"review-data-grid",children:[u.step4_form_data.language.mandarin_level&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:p(u.step4_form_data.language.mandarin_level)})]}),u.step4_form_data.language.english_level&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:p(u.step4_form_data.language.english_level)})]})]})]}),u.step4_form_data?.financial&&u.step4_form_data.financial.financial_state!==void 0&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"4. "}),t.jsx("div",{className:"review-data-grid",children:t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsxs("span",{children:["NT$"," ",u.step4_form_data.financial.financial_state?.toLocaleString()||"-"]})]})})]}),u.step4_form_data?.other_info&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"5. "}),t.jsxs("div",{className:"review-data-grid",children:[u.step4_form_data.other_info.province&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.other_info.province})]}),u.step4_form_data.other_info.grade!==void 0&&u.step4_form_data.other_info.grade!==null&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.other_info.grade})]}),u.step4_form_data.other_info.has_visited_taiwan!==void 0&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.other_info.has_visited_taiwan?"":""})]}),u.step4_form_data.other_info.visit_history&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.other_info.visit_history})]}),u.step4_form_data.other_info.has_contact_in_taiwan!==void 0&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.other_info.has_contact_in_taiwan?"":""})]}),u.step4_form_data.other_info.contact_in_taiwan&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.other_info.contact_in_taiwan})]}),u.step4_form_data.other_info.recruit_channels&&u.step4_form_data.other_info.recruit_channels.length>0&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step4_form_data.other_info.recruit_channels.join(", ")})]})]})]}),u.step5_departments.length>0&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"6. "}),t.jsx("div",{className:"review-data-grid",children:u.step5_departments.map(x=>t.jsxs("div",{className:"data-item",children:[t.jsxs("strong",{children:[" ",x.preference_order," "]}),t.jsx("span",{children:x.department_name})]},x.preference_order))})]}),u.step6_additional&&(u.step6_additional.admission_channel||u.step6_additional.notes)&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"7. "}),t.jsxs("div",{className:"review-data-grid",children:[u.step6_additional.admission_channel&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step6_additional.admission_channel})]}),u.step6_additional.notes&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:u.step6_additional.notes})]})]})]}),u.documents_detail&&u.documents_detail.length>0&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"8. "}),t.jsx("div",{className:"review-documents-list",children:u.documents_detail.map(x=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-info",children:[t.jsxs("strong",{children:[g[x.document_type]||x.document_type,""]}),t.jsx("span",{className:"file-name",children:x.file_name}),x.uploaded_at&&t.jsxs("span",{className:"upload-time",children:["",new Date(x.uploaded_at).toLocaleString("zh-TW"),""]})]}),x.file_url&&t.jsx("a",{href:x.file_url,target:"_blank",rel:"noopener noreferrer",className:"btn-view-file",children:""})]},x.id))})]})]}),h&&t.jsxs("div",{className:"validation-section",children:[h.errors.length>0&&t.jsxs("div",{className:"validation-errors",children:[t.jsx("h4",{children:""}),t.jsx("ul",{children:h.errors.map((x,y)=>t.jsx("li",{children:x.message},y))})]}),h.warnings.length>0&&t.jsxs("div",{className:"validation-warnings",children:[t.jsx("h4",{children:""}),t.jsx("ul",{children:h.warnings.map((x,y)=>t.jsx("li",{children:x.message},y))})]})]}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:i,children:""}),t.jsx("button",{className:"btn-primary",onClick:m,disabled:!u.can_submit||f.isPending,children:f.isPending?"...":""})]})]})]})}async function Fv(a){const{data:i}=await ue.get(`/api/applications/${a}/admission-status`);return i}async function _S(a,i){const{data:r}=await ue.put(`/api/applications/${a}/admission-status`,i);return r}async function NS(a,i){const{data:r}=await ue.post(`/api/applications/${a}/confirm-enrollment`,i);return r}async function SS(a,i){const{data:r}=await ue.post(`/api/applications/${a}/confirm-waitlist`,i);return r}async function Hv(a){const{data:i}=await ue.get(`/api/applications/${a}/admission-tracking`);return i}async function wS(a,i){const{data:r}=await ue.put(`/api/applications/${a}/admission-tracking`,i);return r}async function CS(a,i){const{data:r}=await ue.patch(`/api/applications/${a}/admission-tracking/survey`,i);return r}async function Qv(a){const{data:i}=await ue.get(`/api/applications/${a}/pre-admission-check`);return i}async function ES(a,i){const{data:r}=await ue.put(`/api/applications/${a}/accommodation`,i);return r}async function TS(a,i){const{data:r}=await ue.put(`/api/applications/${a}/student-id`,i);return r}async function Kv(a){const{data:i}=await ue.get(`/api/applications/${a}/registration-status`);return i}async function RS(a,i){const{data:r}=await ue.post(`/api/applications/${a}/registration/complete`,i);return r}async function Vv(a){const{data:i}=await ue.get(`/api/applications/${a}/notices`);return i}async function $v(a,i="admission"){const{data:r}=await ue.post(`/api/applications/${a}/notices/generate?notice_type=${i}`);return r}async function AS(a,i="admission"){const{data:r}=await ue.post(`/api/applications/${a}/notices/regenerate?notice_type=${i}`);return r}async function Yv(a,i){return(await ue.get(`/api/applications/${a}/notices/${i}/download`,{responseType:"blob"})).data}function DS(){const{id:a}=vl(),i=Et(),r=bt(),c=parseInt(a||"0"),{data:u,isLoading:h,error:f}=be({queryKey:["admission-status",c],queryFn:()=>Fv(c),enabled:!!c}),{data:m}=be({queryKey:["admission-tracking",c],queryFn:()=>Hv(c),enabled:!!c&&u?.enrollment_intention_confirmed===!0}),{data:g}=be({queryKey:["pre-admission-check",c],queryFn:()=>Qv(c),enabled:!!c&&u?.enrollment_intention_confirmed===!0}),{data:p}=be({queryKey:["registration-status",c],queryFn:()=>Kv(c),enabled:!!c&&u?.enrollment_intention_confirmed===!0}),{data:x}=be({queryKey:["admission-notices",c],queryFn:()=>Vv(c),enabled:!!c&&(u?.admission_status==="admitted"||u?.admission_status==="waitlisted")}),y=Ce({mutationFn:q=>NS(c,{confirmed:q}),onSuccess:()=>{r.invalidateQueries({queryKey:["admission-status",c]})}}),N=Ce({mutationFn:q=>SS(c,{confirmed:q}),onSuccess:()=>{r.invalidateQueries({queryKey:["admission-status",c]})}}),A=Ce({mutationFn:q=>CS(c,q),onSuccess:()=>{r.invalidateQueries({queryKey:["admission-tracking",c]})}}),E=async(q,V)=>{try{const te=await Yv(c,q),ge=window.URL.createObjectURL(te),ae=document.createElement("a");ae.href=ge,ae.download=`${V==="admission"?"":""}_${c}.pdf`,document.body.appendChild(ae),ae.click(),window.URL.revokeObjectURL(ge),document.body.removeChild(ae)}catch(te){alert(`${te?.response?.data?.detail||te.message||""}`)}},C=q=>{q&&!window.confirm(q?"":"")||y.mutate(q)},S=q=>{q&&!window.confirm(q?"":"")||N.mutate(q)};if(h)return t.jsx("div",{className:"admission-result-page",children:t.jsx("div",{className:"loading",children:"..."})});if(f)return t.jsx("div",{className:"admission-result-page",children:t.jsxs("div",{className:"error",children:[t.jsx("p",{children:""}),t.jsx("p",{style:{fontSize:"0.875rem",color:"#666",marginTop:"0.5rem"},children:f instanceof Error?f.message:""})]})});if(!u)return t.jsx("div",{className:"admission-result-page",children:t.jsx("div",{className:"error",children:""})});const z=q=>{switch(q){case"admitted":return"";case"waitlisted":return"";case"rejected":return"";case"pending":return"";default:return""}},O=q=>{switch(q){case"approved":return"";case"rejected":return"";case"none":return"";case"pending":return"";default:return""}};return t.jsxs("div",{className:"admission-result-page",children:[t.jsx("h1",{children:""}),t.jsxs("div",{className:"status-card",children:[t.jsxs("div",{className:"status-header",children:[t.jsx("h2",{children:""}),t.jsx("span",{className:`status-badge ${u.admission_status==="admitted"?"admitted":u.admission_status==="waitlisted"?"waitlisted":u.admission_status==="rejected"?"rejected":"pending"}`,children:z(u.admission_status)})]}),u.scholarship_status&&t.jsxs("div",{className:"scholarship-info",children:[t.jsx("span",{className:"label",children:""}),t.jsx("span",{className:`scholarship-badge ${u.scholarship_status==="approved"?"approved":""}`,children:O(u.scholarship_status)})]})]}),u.admission_status==="waitlisted"&&t.jsxs("div",{className:"action-card",children:[t.jsx("h3",{children:""}),t.jsx("p",{children:""}),t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:`btn-primary ${u.waitlist_intention_confirmed?"active":""}`,onClick:()=>S(!0),disabled:N.isPending,children:N.isPending?"...":u.waitlist_intention_confirmed?" ":""}),u.waitlist_intention_confirmed&&t.jsx("button",{className:"btn-secondary",onClick:()=>S(!1),disabled:N.isPending,children:""})]}),u.waitlist_intention_confirmed_at&&t.jsxs("p",{className:"confirmed-time",children:["",new Date(u.waitlist_intention_confirmed_at).toLocaleString("zh-TW")]})]}),u.admission_status==="admitted"&&t.jsx(t.Fragment,{children:u.enrollment_intention_confirmed?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"success-card",children:[t.jsx("h3",{children:" "}),t.jsxs("p",{children:["",new Date(u.enrollment_intention_confirmed_at).toLocaleString("zh-TW")]})]}),u.can_download_notice&&x&&x.length>0&&t.jsxs("div",{className:"action-card",children:[t.jsx("h3",{children:""}),t.jsx("p",{children:""}),t.jsx("div",{className:"action-buttons",children:x.map(q=>{const V=q.notice_type==="admission"?"":"";return t.jsxs("button",{className:"btn-primary",onClick:()=>E(q.id,q.notice_type),children:["",V]},q.id)})})]}),u.can_download_notice&&(!x||x.length===0)&&t.jsxs("div",{className:"action-card",children:[t.jsx("h3",{children:""}),t.jsx("p",{children:""})]}),g&&t.jsxs("div",{className:"info-card",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"check-items",children:[t.jsxs("div",{className:`check-item ${g.accommodation_arranged?"completed":"pending"}`,children:[t.jsx("span",{className:"check-icon",children:g.accommodation_arranged?"":""}),t.jsx("span",{className:"check-label",children:""}),g.accommodation_arranged_at&&t.jsx("span",{className:"check-time",children:new Date(g.accommodation_arranged_at).toLocaleDateString("zh-TW")})]}),t.jsxs("div",{className:`check-item ${g.student_id_assigned?"completed":"pending"}`,children:[t.jsx("span",{className:"check-icon",children:g.student_id_assigned?"":""}),t.jsx("span",{className:"check-label",children:""}),g.student_id_assigned&&t.jsx("span",{className:"check-student-id",children:g.assigned_student_id}),g.student_id_assigned_at&&t.jsx("span",{className:"check-time",children:new Date(g.student_id_assigned_at).toLocaleDateString("zh-TW")})]})]}),g.pre_admission_check_completed&&t.jsx("div",{className:"check-completed",children:t.jsxs("p",{children:[" ",new Date(g.pre_admission_check_completed_at).toLocaleDateString("zh-TW"),""]})})]}),m&&t.jsxs("div",{className:"info-card",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"tracking-info",children:[t.jsxs("div",{className:"tracking-item",children:[t.jsx("span",{className:"label",children:""}),t.jsx("span",{className:"value",children:m.visa_status||""})]}),t.jsxs("div",{className:"tracking-item",children:[t.jsx("span",{className:"label",children:""}),t.jsx("span",{className:"value",children:m.flight_number&&m.flight_date?`${m.flight_number} - ${new Date(m.flight_date).toLocaleDateString("zh-TW")}`:""})]}),t.jsxs("div",{className:"tracking-item",children:[t.jsx("span",{className:"label",children:""}),t.jsx("span",{className:"value",children:m.pickup_arranged?"":""})]})]}),t.jsxs("div",{className:"survey-section",children:[t.jsx("h4",{children:""}),t.jsxs("div",{className:"survey-items",children:[t.jsx("div",{className:"survey-item",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:m.on_campus_accommodation_intention===!0,onChange:q=>A.mutate({on_campus_accommodation_intention:q.target.checked})}),""]})}),t.jsx("div",{className:"survey-item",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:m.bedding_purchase_intention===!0,onChange:q=>A.mutate({bedding_purchase_intention:q.target.checked})}),""]})})]})]})]}),p&&t.jsxs("div",{className:"info-card",children:[t.jsx("h3",{children:""}),p.registration_completed?t.jsx("div",{className:"registration-completed",children:t.jsxs("p",{children:[" ",new Date(p.registration_completed_at).toLocaleDateString("zh-TW"),""]})}):t.jsx("div",{className:"registration-pending",children:t.jsx("p",{children:""})})]})]}):t.jsxs("div",{className:"action-card",children:[t.jsx("h3",{children:""}),t.jsx("p",{children:""}),t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn-primary",onClick:()=>C(!0),disabled:y.isPending,children:y.isPending?"...":""}),t.jsx("button",{className:"btn-secondary",onClick:()=>C(!1),disabled:y.isPending,children:""})]})]})}),u.admission_status==="rejected"&&t.jsx("div",{className:"info-card",children:t.jsx("p",{children:""})}),u.admission_status==="pending"&&t.jsx("div",{className:"info-card",children:t.jsx("p",{children:""})}),t.jsx("div",{className:"back-button",children:t.jsx("button",{className:"btn-secondary",onClick:()=>i("/applications"),children:""})})]})}async function OS(a){const{data:i}=await ue.post(`/api/chat/start-with/${a}`);return i}async function MS(){const{data:a}=await ue.get("/api/chat/my-room");return a}async function ec(a,i={}){const r={};i.limit&&(r.limit=i.limit),i.beforeId!=null&&(r.before_id=i.beforeId),i.token&&(r.token=i.token);const{data:c}=await ue.get(`/api/chat/rooms/${a}/messages`,{params:r});return c}async function Gv(){const{data:a}=await ue.get("/api/chat/rooms");return a}function Xv(a){const i="https://dyu-backend-production.up.railway.app".replace(/^http/,"ws").replace(/\/$/,""),r=localStorage.getItem("token"),c=r?`?token=${encodeURIComponent(r)}`:"";return`${i}/api/chat/ws/rooms/${a}${c}`}function kS(){const a=bt(),i=Et(),[r]=tv(),[c,u]=j.useState(null),[h,f]=j.useState(null),[m,g]=j.useState(!1),[p,x]=j.useState(!1),y=j.useRef(null),N=j.useRef(null),{register:A,handleSubmit:E,reset:C}=Sl(),{data:S}=be({queryKey:["currentUser"],queryFn:Hn}),z=S?.role||"student";j.useEffect(()=>{(async()=>{const oe=r.get("room_id");if(oe){const X=parseInt(oe,10);if(!isNaN(X)){u(X);return}}try{const X=await MS();if(X?.room_id!=null){u(X.room_id);return}}catch{}alert(""),i("/lobby")})()},[r,i]);const O=j.useMemo(()=>localStorage.getItem("token")??null,[]),q=be({queryKey:["messages",c,"page:latest"],enabled:c!=null,queryFn:async()=>[...await ec(c,{limit:50,token:O})].sort((X,ye)=>X.id-ye.id)}),V=Ce({mutationFn:async()=>{const X=(q.data??[])[0]?.id;return X?[...await ec(c,{limit:50,beforeId:X,token:O})].sort((me,de)=>me.id-de.id):[]},onSuccess:oe=>{if(!oe?.length)return;const X=y.current,ye=X?.scrollHeight??0;a.setQueryData(["messages",c,"page:latest"],(me=[])=>[...oe,...me]),requestAnimationFrame(()=>{if(!X)return;const me=X.scrollHeight;X.scrollTop=me-ye+(X.scrollTop??0)})}});j.useEffect(()=>{if(c==null)return;let oe=!1;x(!0);const X=Xv(c),ye=new WebSocket(X);return ye.onopen=()=>{oe||(g(!0),x(!1),console.log("WebSocket connected"))},ye.onmessage=me=>{if(!oe)try{const de=JSON.parse(me.data);if(de?.type!=="message")return;a.setQueryData(["messages",c,"page:latest"],(pe=[])=>{if(de.client_id){const k=pe.findIndex(ne=>ne._clientId===de.client_id);if(k!==-1){const ne=[...pe];return ne[k]={...de},ne}}if(de.sender_role===z){let k=-1;for(let w=pe.length-1;w>=0;w--){const W=pe[w];if(W._sending&&W.sender_role===z&&W.text===de.text){k=w;break}}if(k!==-1){const w=[...pe];return w[k]={...de},w}if(pe.filter(w=>w._sending&&w.sender_role===z).length===1){let w=-1;for(let W=pe.length-1;W>=0;W--){const ce=pe[W];if(ce._sending&&ce.sender_role===z){w=W;break}}if(w!==-1){const W=[...pe];return W[w]={...de},W}}}return de.id!=null&&pe.some(k=>k.id===de.id)?pe:[...pe,de]}),requestAnimationFrame(()=>{N.current?.scrollIntoView({behavior:"smooth"})})}catch(de){console.warn("WS parse error:",de)}},ye.onclose=()=>{oe||(g(!1),x(!1),f(null),console.log("WebSocket disconnected"))},ye.onerror=me=>{console.error("WebSocket error:",me)},f(ye),()=>{oe=!0,ye.readyState===WebSocket.OPEN&&ye.close(1e3,"chat unmount")}},[c,a,z]);function te(oe,X){return!h||h.readyState!==WebSocket.OPEN?!1:(h.send(JSON.stringify({text:oe,client_id:X})),!0)}const ge=({text:oe})=>{const X=oe?.trim();if(!X)return;const ye=crypto.randomUUID();if(!te(X,ye)){alert("");return}C();const de={id:Date.now(),room_id:c,sender_id:0,sender_role:z,text:X,created_at:new Date().toISOString(),_sending:!0,_clientId:ye};a.setQueryData(["messages",c,"page:latest"],(pe=[])=>[...pe,de]),requestAnimationFrame(()=>{N.current?.scrollIntoView({behavior:"smooth"})})};if(c==null||q.isLoading)return t.jsx("div",{className:"chat-page",children:t.jsx("div",{className:"loading",children:"..."})});const ae=q.data??[];return t.jsx("div",{className:"chat-page",children:t.jsxs("div",{className:"chat-container",children:[t.jsxs("div",{className:"chat-header",children:[t.jsx("h2",{children:""}),t.jsx("p",{className:"ws-status",children:p?" ...":m?" ":" "})]}),t.jsxs("div",{className:"messages-container",ref:y,children:[ae.length>0&&t.jsx("button",{className:"load-more-btn",onClick:()=>V.mutate(),disabled:V.isPending,children:V.isPending?"...":""}),ae.length===0?t.jsx("div",{className:"empty-chat",children:t.jsx("p",{children:""})}):t.jsxs("div",{className:"messages-list",children:[ae.map(oe=>{const X=oe.sender_role===z;return t.jsxs("div",{className:`message message--${oe.sender_role} ${X?"message--own":"message--other"} ${oe._sending?"message--sending":""}`,children:[t.jsxs("div",{className:"message__header",children:[t.jsx("span",{className:"message__sender",children:oe.sender_role===z?"":oe.sender_role==="student"?"":oe.sender_role==="ambassador"?"":oe.sender_role==="admin"?"":""}),t.jsx("span",{className:"message__time",children:oe._sending?" ":new Date(oe.created_at).toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"})})]}),t.jsx("div",{className:"message__content",children:oe.text}),oe.is_internal&&t.jsx("div",{className:"message__internal-badge",children:""})]},`${oe.id}-${oe.created_at}`)}),t.jsx("div",{ref:N})]})]}),t.jsxs("form",{className:"chat-input",onSubmit:E(ge),children:[t.jsx("input",{...A("text",{required:!0}),placeholder:m?"...":"...",disabled:!m}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:!m,children:""})]})]})})}function zS(){const a=Et(),{data:i}=be({queryKey:["currentUser"],queryFn:Hn}),r=i?.role||"student",{data:c,isLoading:u,error:h}=be({queryKey:["chat-rooms"],queryFn:Gv}),f=p=>{const x=new Date(p),N=new Date().getTime()-x.getTime(),A=Math.floor(N/(1e3*60*60*24));return A===0?x.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"}):A===1?"":A<7?`${A} `:x.toLocaleDateString("zh-TW",{month:"short",day:"numeric"})},m=(p,x=50)=>p.length<=x?p:p.substring(0,x)+"...",g=p=>{a(`/chat?room_id=${p}`)};return u?t.jsx("div",{className:"chat-history-page",children:t.jsx("div",{className:"chat-history-container",children:t.jsx("div",{className:"loading",children:"..."})})}):h?t.jsx("div",{className:"chat-history-page",children:t.jsx("div",{className:"chat-history-container",children:t.jsx("div",{className:"error",children:""})})}):t.jsx("div",{className:"chat-history-page",children:t.jsxs("div",{className:"chat-history-container",children:[t.jsxs("div",{className:"chat-history-header",children:[t.jsx("h1",{children:""}),t.jsx("p",{className:"subtitle",children:""})]}),!c||c.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("p",{children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>a("/lobby"),children:""})]}):t.jsx("div",{className:"rooms-list",children:c.map(p=>t.jsx("div",{className:"room-card",onClick:()=>g(p.id),children:t.jsxs("div",{className:"room-info",children:[t.jsxs("div",{className:"room-header",children:[(()=>{let x=null,y="";return r==="student"?(x=p.ambassador_avatar,y=p.ambassador_name||""):r==="ambassador"?(x=p.student_avatar,y=p.student_name||""):(x=p.student_avatar||p.ambassador_avatar,y=p.student_name||p.ambassador_name||""),t.jsx("div",{className:"room-avatar",children:x?t.jsx("img",{src:x,alt:y}):t.jsx("div",{className:"avatar-placeholder",children:y?y.charAt(0).toUpperCase():"?"})})})(),t.jsx("h3",{className:"room-title",children:r==="student"?p.ambassador_name?` ${p.ambassador_name} `:"":r==="ambassador"?p.student_name?` ${p.student_name} `:"":p.student_name?` ${p.student_name} `:p.ambassador_name?` ${p.ambassador_name} `:""}),t.jsx("span",{className:"room-time",children:p.last_message?f(p.last_message.created_at):f(p.updated_at)})]}),p.last_message?t.jsx("p",{className:"room-preview",children:m(p.last_message.text)}):t.jsx("p",{className:"room-preview empty",children:""})]})},p.id))})]})})}async function qS(){const{data:a}=await ue.get("/api/users/ambassadors");return a}const Uu={:"",:"",:"",Mandarin:"",Chinese:"",:"",English:"",:"",:"",:"",Japanese:"",:"",:"",Korean:"",:"",French:"",:"",German:"",:"",Spanish:"",:"",Italian:"",:"",Portuguese:"",:"",Russian:"",:"",Arabic:"",:"",Thai:"",:"",Vietnamese:""};function US(a){if(Uu[a])return Uu[a];const r=a.trim().toLowerCase();for(const[c,u]of Object.entries(Uu))if(c.toLowerCase()===r)return u;return""}function LS(a){if(!a)return[];try{const i=JSON.parse(a);return Array.isArray(i)?i.filter(r=>typeof r=="string"):[]}catch(i){return console.error(":",i),[]}}function _g(a){return LS(a).map(r=>({language:r,flag:US(r)}))}function BS(){const a=Et(),[i,r]=j.useState(null),[c,u]=j.useState(!1),[h,f]=j.useState(0),[m,g]=j.useState([]),p=j.useRef(null),{data:x,isLoading:y,error:N}=be({queryKey:["ambassadors"],queryFn:qS}),{data:A}=be({queryKey:["currentUser"],queryFn:Hn}),{data:E,isLoading:C}=be({queryKey:["chat-rooms"],queryFn:Gv});j.useEffect(()=>{if(E&&E.length>0&&A){const k=A.role||"student",ne=E.filter(w=>k==="student"?w.ambassador_id&&w.status!=="closed":w.status!=="closed").slice(0,3).map(w=>{let W="",ce=null;return k==="student"?(W=w.ambassador_name||"",ce=w.ambassador_avatar):k==="ambassador"?(W=w.student_name||"",ce=w.student_avatar):(W=w.student_name||w.ambassador_name||"",ce=w.student_avatar||w.ambassador_avatar),{roomId:w.id,displayName:W,displayAvatar:ce,state:"normal"}});g(ne)}},[E,A]);const S=E&&A?E.filter(k=>{if(k.status==="closed")return!1;const ne=A.role||"student",w=A.id;return w?ne==="student"||ne==="ambassador"?k.last_message?k.last_message.sender_id!==w:k.status==="open"||k.status==="assigned":!!(ne==="admin"&&(k.status==="open"||k.last_message&&k.last_message.sender_id!==w)):!1}).length:0,z=k=>{r(k),u(!0)},O=async k=>{try{const ne=await OS(k.id);u(!1),a(`/chat?room_id=${ne.room_id}`)}catch(ne){console.error(":",ne);const w=ne?.response?.data?.detail||ne?.response?.data?.message||"";alert(w)}},q=()=>{u(!1),r(null)},V=k=>{if(!x||x.length===0||!p.current)return;const ne=p.current,ce=280+24;if(k==="left")ne.scrollBy({left:-ce,behavior:"smooth"}),f(ve=>Math.max(0,ve-1));else{ne.scrollBy({left:ce,behavior:"smooth"});const ve=Math.max(0,x.length-4);f(Te=>Math.min(ve,Te+1))}},te=k=>{g(ne=>ne.map(w=>w.roomId===k?{...w,state:"minimized"}:w))},ge=k=>{g(ne=>ne.map(w=>w.roomId===k?{...w,state:w.state==="maximized"?"normal":"maximized"}:{...w,state:"normal"}))},ae=k=>{g(ne=>ne.filter(w=>w.roomId!==k))},oe=k=>{a(`/chat?room_id=${k}`)},[X,ye]=j.useState(!1),[me,de]=j.useState(!1),pe=x||[];return j.useEffect(()=>{const k=()=>{if(p.current){const w=p.current;ye(w.scrollLeft>0),de(w.scrollLeft<w.scrollWidth-w.clientWidth-10)}};k();const ne=p.current;if(ne)return ne.addEventListener("scroll",k),()=>ne.removeEventListener("scroll",k)},[pe]),y?t.jsx("div",{className:"lobby-page",children:t.jsx("div",{className:"lobby-container",children:t.jsx("div",{className:"loading",children:"..."})})}):N?t.jsx("div",{className:"lobby-page",children:t.jsx("div",{className:"lobby-container",children:t.jsx("div",{className:"error",children:""})})}):t.jsxs("div",{className:"lobby-page",children:[t.jsxs("div",{className:"lobby-container",children:[t.jsxs("section",{className:"ambassadors-section",children:[t.jsx("h2",{className:"section-title",children:""}),pe.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:""})}):t.jsxs("div",{className:"ambassadors-carousel",children:[t.jsx("button",{className:"carousel-arrow carousel-arrow-left",onClick:()=>V("left"),disabled:!X,"aria-label":"",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("div",{className:"ambassadors-carousel-content",ref:p,children:pe.map(k=>t.jsxs("div",{className:"ambassador-card",onClick:()=>z(k),children:[t.jsx("div",{className:"ambassador-avatar",children:k.profile?.avatar_url?t.jsx("img",{src:k.profile.avatar_url,alt:k.profile.full_name||k.email}):t.jsx("div",{className:"avatar-placeholder",children:k.profile?.full_name?k.profile.full_name.charAt(0):k.email.charAt(0).toUpperCase()})}),t.jsxs("div",{className:"ambassador-info",children:[t.jsxs("div",{className:"info-line",children:[t.jsx("span",{className:"info-label",children:""}),t.jsx("span",{className:"info-value",children:k.profile?.full_name||""})]}),t.jsxs("div",{className:"info-line",children:[t.jsx("span",{className:"info-label",children:""}),t.jsx("span",{className:"info-value",children:k.profile?.bio?k.profile.bio.substring(0,20):""})]}),t.jsxs("div",{className:"info-line",children:[t.jsx("span",{className:"info-label",children:"()"}),t.jsx("span",{className:"info-value",children:k.profile?.languages?t.jsx("span",{className:"language-flags",children:_g(k.profile.languages).map(({flag:ne},w)=>t.jsx("span",{className:"flag-icon",children:ne},w))}):""})]})]}),t.jsxs("div",{className:"ambassador-description",children:[t.jsx("p",{className:"description-label",children:""}),t.jsx("p",{className:"description-text",children:k.profile?.bio||""}),t.jsx("button",{className:"chat-action-button",onClick:ne=>{ne.stopPropagation(),O(k)},"aria-label":"",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})]})]},k.id))}),t.jsx("button",{className:"carousel-arrow carousel-arrow-right",onClick:()=>V("right"),disabled:!me,"aria-label":"",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]}),t.jsxs("section",{className:"chat-records-section",children:[t.jsx("h2",{className:"section-title",children:""}),C?t.jsx("div",{className:"loading",children:"..."}):m.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:""})}):t.jsx("div",{className:"chat-windows-container",children:m.map(k=>t.jsxs("div",{className:`chat-window chat-window--${k.state}`,children:[t.jsxs("div",{className:"chat-window-header",children:[t.jsx("span",{className:"chat-window-title",children:k.displayName}),t.jsxs("div",{className:"chat-window-controls",children:[t.jsx("button",{className:"window-control-btn",onClick:ne=>{ne.stopPropagation(),te(k.roomId)},"aria-label":"",children:t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),t.jsx("button",{className:"window-control-btn",onClick:ne=>{ne.stopPropagation(),ge(k.roomId)},"aria-label":"",children:t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})})}),t.jsx("button",{className:"window-control-btn",onClick:ne=>{ne.stopPropagation(),ae(k.roomId)},"aria-label":"",children:t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"chat-window-content",onClick:()=>oe(k.roomId),children:t.jsx("div",{className:"chat-messages-preview",children:(()=>{const ne=E?.find(w=>w.id===k.roomId);return ne?ne.recent_messages&&ne.recent_messages.length>0?t.jsx("div",{className:"messages-list",children:ne.recent_messages.map(w=>t.jsx("div",{className:`message-preview ${w.sender_id===A?.id?"message-own":"message-other"}`,children:t.jsx("div",{className:"message-text",children:w.text})},w.id))}):ne.last_message?t.jsx("div",{className:"messages-list",children:t.jsx("div",{className:`message-preview ${ne.last_message.sender_id===A?.id?"message-own":"message-other"}`,children:t.jsx("div",{className:"message-text",children:ne.last_message.text})})}):"":""})()})})]},k.roomId))})]})]}),S>0&&t.jsxs("div",{className:"new-chat-request-notification",children:[t.jsx("span",{className:"notification-text",children:""}),t.jsx("div",{className:"notification-badge",children:S})]}),c&&i&&t.jsx("div",{className:"modal-overlay",onClick:q,children:t.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[t.jsx("button",{className:"modal-close",onClick:q,children:""}),t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-avatar",children:i.profile?.avatar_url?t.jsx("img",{src:i.profile.avatar_url,alt:i.profile.full_name||i.email}):t.jsx("div",{className:"avatar-placeholder",children:i.profile?.full_name?i.profile.full_name.charAt(0):i.email.charAt(0).toUpperCase()})}),t.jsx("h2",{className:"modal-title",children:i.profile?.nickname||i.profile?.full_name||i.email})]}),t.jsxs("div",{className:"modal-body",children:[i.profile?.languages&&t.jsxs("div",{className:"modal-languages-section",children:[t.jsx("h3",{children:""}),t.jsx("div",{className:"modal-languages-list",children:_g(i.profile.languages).map(({language:k,flag:ne},w)=>t.jsxs("div",{className:"modal-language-item",children:[t.jsx("span",{className:"language-flag",children:ne}),t.jsx("span",{className:"language-name",children:k})]},w))})]}),i.profile?.bio&&t.jsxs("div",{className:"modal-bio-section",children:[t.jsx("h3",{children:""}),t.jsx("p",{className:"modal-bio",children:i.profile.bio})]}),i.profile?.full_name&&t.jsxs("div",{className:"modal-info-item",children:[t.jsx("span",{className:"info-label",children:""}),t.jsx("span",{className:"info-value",children:i.profile.full_name})]}),i.profile?.nickname&&t.jsxs("div",{className:"modal-info-item",children:[t.jsx("span",{className:"info-label",children:""}),t.jsx("span",{className:"info-value",children:i.profile.nickname})]}),t.jsxs("div",{className:"modal-info-item",children:[t.jsx("span",{className:"info-label",children:""}),t.jsx("span",{className:"info-value",children:i.email})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{className:"btn-chat-modal",onClick:()=>O(i),children:""})})]})})]})}function FS(){const a=bt(),{data:i,isLoading:r,error:c}=be({queryKey:["profile"],queryFn:Nd,retry:!1}),{data:u}=be({queryKey:["student-identities"],queryFn:dc}),{register:h,handleSubmit:f,formState:{errors:m},reset:g}=Sl({defaultValues:{full_name:"",phone:"",address:"",birthday:"",gender:"",avatar_url:"",bio:"",last_name_eng:"",first_name_eng:"",mid_name_eng:"",last_name_cht:"",first_name_cht:"",nationality:"",student_identity_id:""}});j.useEffect(()=>{i&&g({full_name:i.full_name||"",phone:i.phone||"",address:i.address||"",birthday:i.birthday?i.birthday.split("T")[0]:"",gender:i.gender||"",avatar_url:i.avatar_url||"",bio:i.bio||"",last_name_eng:i.last_name_eng||"",first_name_eng:i.first_name_eng||"",mid_name_eng:i.mid_name_eng||"",last_name_cht:i.last_name_cht||"",first_name_cht:i.first_name_cht||"",nationality:i.nationality||"",student_identity_id:i.student_identity_id?.toString()||""})},[i,g]);const p=Ce({mutationFn:y=>ZN(y),onSuccess:()=>{a.invalidateQueries({queryKey:["profile"]}),alert("")},onError:y=>{const N=y?.response?.data?.detail||"";alert(N)}}),x=y=>{const N={full_name:y.full_name||null,phone:y.phone||null,address:y.address||null,birthday:y.birthday||null,gender:y.gender||null,avatar_url:y.avatar_url||null,bio:y.bio||null,last_name_eng:y.last_name_eng||null,first_name_eng:y.first_name_eng||null,mid_name_eng:y.mid_name_eng||null,last_name_cht:y.last_name_cht||null,first_name_cht:y.first_name_cht||null,nationality:y.nationality||null,student_identity_id:y.student_identity_id?parseInt(y.student_identity_id):null};p.mutate(N)};return r?t.jsx("div",{className:"profile-page",children:t.jsx("div",{className:"profile-container",children:t.jsx("div",{className:"loading",children:"..."})})}):c&&c?.response?.status===404?t.jsx("div",{className:"profile-page",children:t.jsxs("div",{className:"profile-container",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("h1",{children:""}),t.jsx("p",{className:"profile-subtitle",children:""})]}),t.jsxs("form",{onSubmit:f(x),className:"profile-form",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{children:""}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"full_name",children:""}),t.jsx("input",{id:"full_name",type:"text",...h("full_name"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"phone",children:""}),t.jsx("input",{id:"phone",type:"tel",...h("phone"),placeholder:""})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{children:""}),t.jsx("p",{className:"form-section-description",children:"9 "}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"last_name_eng",children:"1. "}),t.jsx("input",{id:"last_name_eng",type:"text",...h("last_name_eng"),placeholder:"WANG",style:{textTransform:"uppercase"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"first_name_eng",children:"2. "}),t.jsx("input",{id:"first_name_eng",type:"text",...h("first_name_eng"),placeholder:"HSIAO-MING",style:{textTransform:"uppercase"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"mid_name_eng",children:"3. "}),t.jsx("input",{id:"mid_name_eng",type:"text",...h("mid_name_eng"),placeholder:"JOHN",style:{textTransform:"uppercase"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"last_name_cht",children:"4. "}),t.jsx("input",{id:"last_name_cht",type:"text",...h("last_name_cht"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"first_name_cht",children:"5. "}),t.jsx("input",{id:"first_name_cht",type:"text",...h("first_name_cht"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"gender",children:"6. "}),t.jsxs("select",{id:"gender",...h("gender"),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"male",children:""}),t.jsx("option",{value:"female",children:""}),t.jsx("option",{value:"other",children:""})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"birthday",children:"7. "}),t.jsx("input",{id:"birthday",type:"date",...h("birthday")})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"nationality",children:"8. "}),t.jsx("input",{id:"nationality",type:"text",...h("nationality"),placeholder:"Taiwan"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"student_identity_id",children:"9. "}),t.jsxs("select",{id:"student_identity_id",...h("student_identity_id"),children:[t.jsx("option",{value:"",children:""}),u?.map(y=>t.jsxs("option",{value:y.id.toString(),children:[y.name," ",y.name_en?`(${y.name_en})`:""]},y.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"address",children:""}),t.jsx("input",{id:"address",type:"text",...h("address"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"avatar_url",children:""}),t.jsx("input",{id:"avatar_url",type:"url",...h("avatar_url"),placeholder:"https://example.com/avatar.jpg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"bio",children:""}),t.jsx("textarea",{id:"bio",...h("bio"),rows:5,placeholder:""})]})]}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",className:"btn-primary",disabled:p.isPending,children:p.isPending?"...":""})})]})]})}):c?t.jsx("div",{className:"profile-page",children:t.jsx("div",{className:"profile-container",children:t.jsx("div",{className:"error",children:""})})}):t.jsx("div",{className:"profile-page",children:t.jsxs("div",{className:"profile-container",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("h1",{children:""}),t.jsx("p",{className:"profile-subtitle",children:""})]}),t.jsxs("form",{onSubmit:f(x),className:"profile-form",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{children:""}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"full_name",children:""}),t.jsx("input",{id:"full_name",type:"text",...h("full_name"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"phone",children:""}),t.jsx("input",{id:"phone",type:"tel",...h("phone"),placeholder:""})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{children:""}),t.jsx("p",{className:"form-section-description",children:"9 "}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"last_name_eng",children:"1. "}),t.jsx("input",{id:"last_name_eng",type:"text",...h("last_name_eng"),placeholder:"WANG",style:{textTransform:"uppercase"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"first_name_eng",children:"2. "}),t.jsx("input",{id:"first_name_eng",type:"text",...h("first_name_eng"),placeholder:"HSIAO-MING",style:{textTransform:"uppercase"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"mid_name_eng",children:"3. "}),t.jsx("input",{id:"mid_name_eng",type:"text",...h("mid_name_eng"),placeholder:"JOHN",style:{textTransform:"uppercase"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"last_name_cht",children:"4. "}),t.jsx("input",{id:"last_name_cht",type:"text",...h("last_name_cht"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"first_name_cht",children:"5. "}),t.jsx("input",{id:"first_name_cht",type:"text",...h("first_name_cht"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"gender",children:"6. "}),t.jsxs("select",{id:"gender",...h("gender"),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"male",children:""}),t.jsx("option",{value:"female",children:""}),t.jsx("option",{value:"other",children:""})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"birthday",children:"7. "}),t.jsx("input",{id:"birthday",type:"date",...h("birthday")})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"nationality",children:"8. "}),t.jsx("input",{id:"nationality",type:"text",...h("nationality"),placeholder:"Taiwan"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"student_identity_id",children:"9. "}),t.jsxs("select",{id:"student_identity_id",...h("student_identity_id"),children:[t.jsx("option",{value:"",children:""}),u?.map(y=>t.jsxs("option",{value:y.id.toString(),children:[y.name," ",y.name_en?`(${y.name_en})`:""]},y.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"address",children:""}),t.jsx("input",{id:"address",type:"text",...h("address"),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"avatar_url",children:""}),t.jsx("input",{id:"avatar_url",type:"url",...h("avatar_url"),placeholder:"https://example.com/avatar.jpg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"bio",children:""}),t.jsx("textarea",{id:"bio",...h("bio"),rows:5,placeholder:""})]})]}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",className:"btn-primary",disabled:p.isPending,children:p.isPending?"...":""})})]})]})})}function HS(){const a=Et();return t.jsxs("div",{className:"student-dashboard-page",children:[t.jsxs("header",{className:"dashboard-header",children:[t.jsx("button",{className:"menu-toggle","aria-label":"",children:t.jsx("span",{})}),t.jsx("h1",{className:"dashboard-title",children:""})]}),t.jsx("main",{className:"dashboard-main",children:t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("section",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:""}),t.jsxs("div",{className:"button-group",children:[t.jsx("button",{className:"dashboard-btn",onClick:()=>a("/system-announcements"),children:""}),t.jsx("button",{className:"dashboard-btn",onClick:()=>a("/profile"),children:""}),t.jsx("button",{className:"dashboard-btn",onClick:()=>a("/chat-history"),children:""})]})]}),t.jsxs("section",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:""}),t.jsxs("div",{className:"button-group",children:[t.jsx("button",{className:"dashboard-btn",onClick:()=>a("/applications"),children:""}),t.jsx("button",{className:"dashboard-btn",onClick:()=>a("/admission-important-info"),children:""}),t.jsx("button",{className:"dashboard-btn",onClick:()=>a("/scholarship-info"),children:""})]})]})]})}),t.jsxs("div",{className:"chat-hint",children:[t.jsx("div",{className:"chat-icon",onClick:()=>a("/lobby"),children:t.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),t.jsxs("p",{className:"hint-text",children:["",t.jsx("br",{}),""]})]})]})}function QS(){const a=Et(),[i,r]=j.useState(""),[c,u]=j.useState("");j.useEffect(()=>{Hn().then(f=>{r(f?.role??""),u(f?.email??"")})},[]);const h=()=>{localStorage.removeItem("token"),a("/login")};return t.jsxs("div",{className:"admin-page",children:[t.jsxs("header",{className:"admin-header",children:[t.jsx("h1",{children:""}),t.jsxs("div",{className:"header-right",children:[t.jsxs("div",{className:"user-info",children:[t.jsx("span",{className:"role-badge",children:i||"..."}),t.jsx("span",{className:"email",children:c})]}),t.jsx("button",{onClick:h,className:"btn-logout",children:""})]})]}),t.jsx("nav",{className:"admin-tabs",children:i==="admin"&&t.jsxs(t.Fragment,{children:[t.jsx(ps,{to:"/admin",end:!0,className:({isActive:f})=>f?"active":"",children:""}),t.jsx(ps,{to:"/admin/applications",className:({isActive:f})=>f?"active":"",children:""}),t.jsx(ps,{to:"/admin/admission",className:({isActive:f})=>f?"active":"",children:""}),t.jsx(ps,{to:"/admin/content",className:({isActive:f})=>f?"active":"",children:""}),t.jsx(ps,{to:"/admin/settings",className:({isActive:f})=>f?"active":"",children:""}),t.jsx(ps,{to:"/admin/test",className:({isActive:f})=>f?"active":"",children:""})]})}),t.jsx("main",{className:"admin-content",children:t.jsx(Zg,{})})]})}async function KS(a){const{data:i}=await ue.get("/api/chat-admin/rooms/all",{params:a?{status:a}:{}});return i}async function VS(a){const{data:i}=await ue.post(`/api/chat-admin/rooms/${a}/unassign`);return i}async function $S(a,i){const{data:r}=await ue.post(`/api/chat-admin/rooms/${a}/status`,{status:i});return r}async function YS(a){const{data:i}=await ue.get(`/api/chat-admin/rooms/${a}`);return i}function GS({userInfo:a,onClose:i}){if(!a)return null;const r=h=>`https://api.dicebear.com/7.x/avataaars/svg?seed=${h.split("@")[0]}`,c=a.avatar_url||r(a.email),u=a.full_name||a.email.split("@")[0];return t.jsx("div",{className:"modal-backdrop",onClick:i,children:t.jsxs("div",{className:"modal-dialog",onClick:h=>h.stopPropagation(),style:{maxWidth:"500px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-title",children:t.jsx("h3",{children:""})}),t.jsx("button",{onClick:i,className:"btn-close",children:""})]}),t.jsxs("div",{className:"modal-body",style:{overflowY:"auto"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem",paddingBottom:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:[t.jsx("img",{src:c,alt:u,style:{width:"80px",height:"80px",borderRadius:"50%",marginBottom:"1rem",objectFit:"cover",border:"2px solid #e5e7eb"}}),t.jsx("h4",{style:{margin:0,marginBottom:"0.5rem",color:"#111827"},children:u}),t.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:"0.875rem"},children:a.email})]}),t.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[a.full_name&&t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#374151",display:"inline-block",minWidth:"80px"},children:""}),t.jsx("span",{style:{color:"#6b7280"},children:a.full_name})]}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#374151",display:"inline-block",minWidth:"80px"},children:"Email"}),t.jsx("span",{style:{color:"#6b7280"},children:a.email})]}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#374151",display:"inline-block",minWidth:"80px"},children:" ID"}),t.jsx("span",{style:{color:"#6b7280"},children:a.id})]})]})]})]})})}function XS({rooms:a,onOpen:i,onAssign:r,onUnassign:c,onStatusChange:u,canAssign:h,isAdmin:f}){const[m,g]=j.useState(null);if(!a?.length)return t.jsx("p",{className:"empty-message",children:""});const p=N=>({open:"",assigned:"",in_progress:"",closed:""})[N]||N,x=N=>`https://api.dicebear.com/7.x/avataaars/svg?seed=${N.split("@")[0]}`,y=(N,A)=>{if(!N)return t.jsx("span",{style:{color:"#9ca3af"},children:"-"});const E=N.avatar_url||x(N.email),C=N.full_name||N.email.split("@")[0];return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},onClick:S=>{S.stopPropagation(),g(N)},title:"",children:[t.jsx("img",{src:E,alt:C,style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"}}),t.jsx("span",{children:C})]})};return t.jsxs("div",{className:"table-container",children:[t.jsxs("table",{className:"rooms-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:" ID"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:a.map(N=>t.jsxs("tr",{children:[t.jsx("td",{children:N.id}),t.jsx("td",{children:y(N.student_info)}),t.jsx("td",{children:y(N.ambassador_info)}),t.jsx("td",{children:t.jsx("span",{className:`badge badge-${N.status}`,children:p(N.status)})}),t.jsx("td",{children:new Date(N.created_at).toLocaleString()}),t.jsx("td",{children:new Date(N.updated_at).toLocaleString()}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{onClick:()=>i(N.id),className:"btn-sm btn-primary",children:""}),h&&!N.ambassador_id&&r&&t.jsx("button",{onClick:()=>r(N.id),className:"btn-sm btn-success",children:""}),f&&N.ambassador_id&&c&&t.jsx("button",{onClick:()=>c(N.id),className:"btn-sm btn-warning",children:""}),u&&t.jsx("button",{onClick:()=>u(N.id),className:"btn-sm btn-secondary",children:""})]})})]},N.id))})]}),m&&t.jsx(GS,{userInfo:m,onClose:()=>g(null)})]})}function ZS({roomId:a,onClose:i}){const[r,c]=j.useState(null),[u,h]=j.useState([]),[f,m]=j.useState(null),[g,p]=j.useState(!1),[x,y]=j.useState(!1),[N,A]=j.useState(null),E=j.useRef(null),C=j.useRef(null),S=j.useMemo(()=>localStorage.getItem("token"),[]);j.useEffect(()=>{let V=!1,te=null;return(async()=>{try{const ge=await YS(a);if(V)return;A(ge);const ae=await ec(a,{limit:50,token:S??void 0});if(V)return;const oe=[...ae].sort((ye,me)=>ye.id-me.id);h(oe),oe.length&&m(oe[0].id);const X=Xv(a);p(!0),te=new WebSocket(X),te.onopen=()=>{V||(p(!1),console.log("WebSocket connected"))},te.onmessage=ye=>{if(!V)try{const me=JSON.parse(ye.data);me?.type==="message"&&(h(de=>me.id&&de.some(pe=>pe.id===me.id)?de:[...de,me]),requestAnimationFrame(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)}))}catch(me){console.error("Failed to parse WS message:",me)}},te.onclose=()=>{V||(c(null),p(!1),console.log("WebSocket disconnected"))},te.onerror=ye=>{console.error("WebSocket error:",ye)},c(te)}catch(ge){V||(console.error("Failed to load room:",ge),alert(""))}})(),()=>{V=!0,te&&te.readyState===WebSocket.OPEN&&te.close(1e3,"modal unmount"),te=null,c(null)}},[a]);async function z(){if(!f){alert("");return}try{const V=await ec(a,{limit:50,beforeId:f,token:S??void 0});if(!V.length){alert("");return}const te=[...V].sort((oe,X)=>oe.id-X.id),ge=C.current,ae=ge?ge.scrollHeight-ge.scrollTop:0;h(oe=>[...te,...oe]),m(te[0].id),requestAnimationFrame(()=>{ge&&(ge.scrollTop=ge.scrollHeight-ae)})}catch(V){console.error("Failed to load earlier messages:",V),alert("")}}function O(){const V=(E.current?.value??"").trim();!V||!r||r.readyState!==WebSocket.OPEN||(r.send(JSON.stringify({text:V,is_internal:x})),E.current&&(E.current.value=""))}const q=V=>V?{open:"",assigned:"",in_progress:"",closed:""}[V]||V:"";return t.jsx("div",{className:"modal-backdrop",onClick:i,children:t.jsxs("div",{className:"modal-dialog",onClick:V=>V.stopPropagation(),children:[t.jsxs("header",{className:"modal-header",children:[t.jsxs("div",{className:"modal-title",children:[t.jsxs("h3",{children:[" #",a]}),N&&t.jsxs("div",{className:"room-meta",children:[t.jsx("span",{className:"badge badge-sm badge-{roomDetail.status}",children:q(N.status)}),t.jsxs("span",{className:"text-muted",children:[" ID: ",N.student_id]}),N.ambassador_id&&t.jsxs("span",{className:"text-muted",children:[" ID: ",N.ambassador_id]})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("span",{className:"connection-status",children:g?"...":r?" ":" "}),t.jsx("button",{className:"btn-close",onClick:i,children:""})]})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"chat-toolbar",children:[t.jsx("button",{onClick:z,className:"btn-sm btn-secondary",children:" "}),t.jsxs("label",{className:"internal-toggle",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:V=>y(V.target.checked)}),t.jsx("span",{children:" "})]})]}),t.jsx("div",{ref:C,className:"chat-log",children:u.map((V,te)=>t.jsxs("div",{className:`chat-message ${V.is_internal?"internal":""} ${V.sender_role==="system"?"system":""}`,children:[t.jsxs("div",{className:"message-meta",children:[t.jsx("span",{className:"message-time",children:new Date(V.created_at).toLocaleString()}),t.jsx("span",{className:"message-sender",children:V.sender_role==="system"?"":V.sender_role==="admin"?"":V.sender_role==="ambassador"?"":` ${V.sender_id}`}),V.is_internal&&t.jsx("span",{className:"internal-badge",children:" "})]}),t.jsx("div",{className:"message-text",children:V.text})]},`${V.id}-${V.created_at}-${te}`))}),t.jsxs("div",{className:"chat-input-row",children:[t.jsx("input",{ref:E,type:"text",placeholder:"Enter ...",className:"chat-input",onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),O())}}),t.jsx("button",{onClick:O,className:"btn-primary btn-send",children:""})]})]})]})})}function Ng(){const a=bt(),[i,r]=j.useState(null),[c,u]=j.useState(""),h=be({queryKey:["admin","all-rooms",c],queryFn:()=>KS(c||void 0)}),f=Ce({mutationFn:g=>VS(g),onSuccess:()=>{a.invalidateQueries({queryKey:["admin","all-rooms"]}),alert("")},onError:()=>{alert("")}}),m=Ce({mutationFn:async g=>{const p=["open","assigned","in_progress","closed"],x=window.prompt(`
1. open ()
2. assigned ()
3. in_progress ()
4. closed ()`);if(!x)return;const y=Number(x)-1;if(y<0||y>=p.length){alert("");return}return $S(g,p[y])},onSuccess:()=>{a.invalidateQueries({queryKey:["admin","all-rooms"]}),alert("")},onError:()=>{alert("")}});return t.jsxs("section",{className:"admin-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{children:""}),t.jsxs("div",{className:"toolbar",children:[t.jsxs("select",{value:c,onChange:g=>u(g.target.value),className:"filter-select",children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"open",children:""}),t.jsx("option",{value:"assigned",children:""}),t.jsx("option",{value:"in_progress",children:""}),t.jsx("option",{value:"closed",children:""})]}),t.jsx("button",{onClick:()=>a.invalidateQueries({queryKey:["admin","all-rooms"]}),className:"btn-secondary",children:""}),h.isFetching&&t.jsx("span",{className:"loading-text",children:"..."})]})]}),t.jsx(XS,{rooms:h.data??[],onOpen:r,onUnassign:g=>f.mutate(g),onStatusChange:g=>m.mutate(g),isAdmin:!0}),i&&t.jsx(ZS,{roomId:i,onClose:()=>r(null)})]})}function PS(){const a=bt(),[i,r]=j.useState(""),[c,u]=j.useState(1),[h,f]=j.useState(null),[m,g]=j.useState(!1),[p,x]=j.useState("accepted"),[y,N]=j.useState(""),A=20,E=be({queryKey:["admin","applications",i,c],queryFn:()=>Lv({status:i||void 0,page:c,pageSize:A})}),C=be({queryKey:["admin","application",h],queryFn:()=>KN(h),enabled:h!==null}),S=be({queryKey:["admin","applications-stats"],queryFn:$N}),z=Ce({mutationFn:X=>VN(h,X),onSuccess:()=>{a.invalidateQueries({queryKey:["admin","applications"]}),a.invalidateQueries({queryKey:["admin","application",h]}),a.invalidateQueries({queryKey:["admin","applications-stats"]}),g(!1),N(""),alert("")},onError:X=>{alert(`${X?.response?.data?.detail||X.message}`)}}),O=X=>{f(X)},q=()=>{f(null)},V=X=>{x(X),g(!0)},te=()=>{h&&z.mutate({status:p,notes:y.trim()||void 0})},ge=X=>({draft:"badge-draft",submitted:"badge-submitted",reviewed:"badge-reviewed",accepted:"badge-accepted",rejected:"badge-rejected"})[X]||"",ae=X=>({draft:"",submitted:"",reviewed:"",accepted:"",rejected:""})[X]||X,oe=X=>X?new Date(X).toLocaleString("zh-TW"):"-";return t.jsxs("section",{className:"admin-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("div",{children:[t.jsx("h2",{children:""}),S.data&&t.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#6b7280"},children:["",S.data.total,"  | ",S.data.by_status.draft," ","| ",S.data.by_status.submitted," | ",S.data.by_status.accepted," | ",S.data.by_status.rejected]})]}),t.jsxs("div",{className:"toolbar",children:[t.jsxs("select",{value:i,onChange:X=>{r(X.target.value),u(1)},className:"filter-select",children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"draft",children:""}),t.jsx("option",{value:"submitted",children:""}),t.jsx("option",{value:"reviewed",children:""}),t.jsx("option",{value:"accepted",children:""}),t.jsx("option",{value:"rejected",children:""})]}),t.jsx("button",{onClick:()=>{a.invalidateQueries({queryKey:["admin","applications"]}),a.invalidateQueries({queryKey:["admin","applications-stats"]})},className:"btn-secondary",children:""}),E.isFetching&&t.jsx("span",{className:"loading-text",children:"..."})]})]}),t.jsx("div",{className:"table-container",children:t.jsxs("table",{className:"rooms-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ID"}),t.jsx("th",{children:" Email"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:E.data?.items.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem"},children:t.jsx("div",{className:"empty-message",children:""})})}):E.data?.items.map(X=>t.jsxs("tr",{children:[t.jsx("td",{children:X.id}),t.jsx("td",{children:X.student_email||` #${X.student_id}`}),t.jsx("td",{children:t.jsx("span",{className:`badge ${ge(X.status)}`,children:ae(X.status)})}),t.jsx("td",{children:oe(X.created_at)}),t.jsx("td",{children:oe(X.submitted_at)}),t.jsx("td",{children:oe(X.last_updated_at)}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{onClick:()=>O(X.id),className:"btn-sm btn-primary",children:""}),X.status==="submitted"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{O(X.id),V("accepted")},className:"btn-sm btn-success",children:""}),t.jsx("button",{onClick:()=>{O(X.id),V("rejected")},className:"btn-sm btn-warning",children:""})]})]})})]},X.id))})]})}),E.data&&E.data.total>A&&t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"1.5rem"},children:[t.jsx("button",{onClick:()=>u(X=>Math.max(1,X-1)),disabled:c===1,className:"btn-sm btn-secondary",children:""}),t.jsxs("span",{children:[" ",c,"  /  ",Math.ceil(E.data.total/A)," ","  ",E.data.total," "]}),t.jsx("button",{onClick:()=>u(X=>Math.min(Math.ceil(E.data.total/A),X+1)),disabled:c>=Math.ceil(E.data.total/A),className:"btn-sm btn-secondary",children:""})]}),h&&C.data&&t.jsx(JS,{application:C.data,onClose:q,onReview:X=>{V(X)}}),m&&h&&t.jsx(WS,{status:p,notes:y,onNotesChange:N,onSubmit:te,onCancel:()=>{g(!1),N("")},isSubmitting:z.isPending})]})}function JS({application:a,onClose:i,onReview:r}){const c=g=>g?new Date(g).toLocaleString("zh-TW"):"-",u=g=>({draft:"",submitted:"",reviewed:"",accepted:"",rejected:""})[g]||g,h=(g,p=0)=>{const x=[],y=p*1.5;for(const[N,A]of Object.entries(g))N!=="review_notes"&&(A&&typeof A=="object"&&!Array.isArray(A)?x.push(t.jsxs("div",{style:{marginLeft:`${y}rem`,marginTop:"0.5rem"},children:[t.jsxs("strong",{style:{color:"#374151"},children:[N,":"]}),t.jsx("div",{style:{marginLeft:"1rem",marginTop:"0.25rem"},children:h(A,p+1)})]},N)):Array.isArray(A)?x.push(t.jsxs("div",{style:{marginLeft:`${y}rem`,marginTop:"0.5rem"},children:[t.jsxs("strong",{style:{color:"#374151"},children:[N,":"]}),t.jsx("ul",{style:{marginLeft:"1rem",marginTop:"0.25rem"},children:A.map((E,C)=>t.jsx("li",{children:String(E)},C))})]},N)):x.push(t.jsxs("div",{style:{marginLeft:`${y}rem`,marginTop:"0.5rem"},children:[t.jsxs("strong",{style:{color:"#374151"},children:[N,":"]})," ",t.jsx("span",{style:{color:"#6b7280"},children:String(A)})]},N)));return x},f=a.form?.review_notes,m=f&&typeof f=="object"&&Object.keys(f).length>0;return t.jsx("div",{className:"modal-backdrop",onClick:i,children:t.jsxs("div",{className:"modal-dialog",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("div",{className:"modal-title",children:[t.jsxs("h3",{children:[" #",a.id]}),t.jsxs("div",{className:"room-meta",children:[t.jsxs("span",{className:"text-muted",children:["",u(a.status)]}),t.jsxs("span",{className:"text-muted",children:["",a.student_email||`#${a.student_id}`]}),a.ambassador_id&&t.jsxs("span",{className:"text-muted",children:[" ID",a.ambassador_id]})]})]}),t.jsxs("div",{className:"modal-actions",children:[a.status==="submitted"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>r("accepted"),className:"btn-sm btn-success",children:""}),t.jsx("button",{onClick:()=>r("rejected"),className:"btn-sm btn-warning",children:""})]}),t.jsx("button",{onClick:i,className:"btn-close",children:""})]})]}),t.jsxs("div",{className:"modal-body",style:{overflowY:"auto"},children:[t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("h4",{style:{marginBottom:"0.5rem",color:"#111827"},children:""}),t.jsxs("div",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px"},children:[t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:""})," ",c(a.created_at)]}),a.submitted_at&&t.jsxs("div",{style:{marginBottom:"0.5rem"},children:[t.jsx("strong",{children:""})," ",c(a.submitted_at)]}),t.jsxs("div",{children:[t.jsx("strong",{children:""})," ",c(a.last_updated_at)]})]})]}),m?t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("h4",{style:{marginBottom:"0.5rem",color:"#111827"},children:""}),t.jsx("div",{style:{background:"#fef3c7",padding:"1rem",borderRadius:"8px"},children:Object.entries(f).map(([g,p])=>t.jsxs("div",{style:{marginBottom:"0.75rem"},children:[t.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",marginBottom:"0.25rem"},children:[t.jsx("strong",{children:""})," ",p?.reviewer_email||`#${g}`," |",t.jsx("strong",{children:" "})," ",c(p?.reviewed_at)]}),t.jsx("div",{style:{color:"#78350f"},children:p?.notes||""})]},g))})]}):(a.status==="accepted"||a.status==="rejected")&&t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("h4",{style:{marginBottom:"0.5rem",color:"#111827"},children:""}),t.jsx("div",{style:{background:"#f3f4f6",padding:"1rem",borderRadius:"8px",color:"#6b7280",fontStyle:"italic"},children:""})]}),a.form&&t.jsxs("div",{children:[t.jsx("h4",{style:{marginBottom:"0.5rem",color:"#111827"},children:""}),t.jsx("div",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:h(a.form)})]})]})]})})}function WS({status:a,notes:i,onNotesChange:r,onSubmit:c,onCancel:u,isSubmitting:h}){return t.jsx("div",{className:"modal-backdrop",onClick:u,children:t.jsxs("div",{className:"modal-dialog",onClick:f=>f.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-title",children:t.jsx("h3",{children:a==="accepted"?"":""})}),t.jsx("button",{onClick:u,className:"btn-close",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:[""," ",a==="rejected"&&t.jsx("span",{style:{color:"#ef4444"},children:""})]}),t.jsx("textarea",{value:i,onChange:f=>r(f.target.value),placeholder:a==="rejected"?"...":"...",style:{width:"100%",minHeight:"120px",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"inherit",resize:"vertical"}})]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:u,className:"btn-sm btn-secondary",disabled:h,children:""}),t.jsx("button",{onClick:c,className:`btn-sm ${a==="accepted"?"btn-success":"btn-warning"}`,disabled:h,children:h?"...":""})]})]})]})})}function IS(){const a=bt(),[i,r]=j.useState(""),[c,u]=j.useState(""),[h,f]=j.useState(1),[m,g]=j.useState(null),[p,x]=j.useState(!1),[y,N]=j.useState({admission_status:"pending"}),A=20,{data:E,isLoading:C}=be({queryKey:["admin","applications",i,c,h],queryFn:()=>Lv({status:i||void 0,admission_status:c||void 0,page:h,pageSize:A})}),{data:S}=be({queryKey:["admission-status",m],queryFn:()=>Fv(m),enabled:m!==null&&p}),{data:z}=be({queryKey:["pre-admission-check",m],queryFn:()=>Qv(m),enabled:m!==null&&p}),{data:O}=be({queryKey:["admission-tracking",m],queryFn:()=>Hv(m),enabled:m!==null&&p}),{data:q}=be({queryKey:["registration-status",m],queryFn:()=>Kv(m),enabled:m!==null&&p});j.useEffect(()=>{S&&p&&N({admission_status:S.admission_status||"pending",scholarship_status:S.scholarship_status||void 0})},[S,p]);const V=Ce({mutationFn:w=>_S(m,w),onSuccess:()=>{a.invalidateQueries({queryKey:["admin","applications"]}),a.invalidateQueries({queryKey:["admission-status",m]}),x(!1),alert("")},onError:w=>{alert(`${w?.response?.data?.detail||w.message}`)}});Ce({mutationFn:w=>$v(m,w),onSuccess:()=>{a.invalidateQueries({queryKey:["admission-notices",m]}),alert("")},onError:w=>{alert(`${w?.response?.data?.detail||w.message}`)}});const te=Ce({mutationFn:w=>ES(m,w),onSuccess:()=>{a.invalidateQueries({queryKey:["pre-admission-check",m]}),alert("")},onError:w=>{alert(`${w?.response?.data?.detail||w.message}`)}}),ge=Ce({mutationFn:w=>TS(m,w),onSuccess:()=>{a.invalidateQueries({queryKey:["pre-admission-check",m]}),alert("")},onError:w=>{alert(`${w?.response?.data?.detail||w.message}`)}}),ae=Ce({mutationFn:w=>wS(m,w),onSuccess:()=>{a.invalidateQueries({queryKey:["admission-tracking",m]}),alert("")},onError:w=>{alert(`${w?.response?.data?.detail||w.message}`)}}),oe=Ce({mutationFn:w=>RS(m,w),onSuccess:()=>{a.invalidateQueries({queryKey:["registration-status",m]}),a.invalidateQueries({queryKey:["pre-admission-check",m]}),alert("")},onError:w=>{alert(`${w?.response?.data?.detail||w.message}`)}}),X=w=>{g(w),x(!0)},ye=()=>{m&&V.mutate(y)},me=w=>{switch(w){case"admitted":return"";case"waitlisted":return"";case"rejected":return"";case"pending":return"";default:return""}},de=w=>{switch(w){case"admitted":return"badge-success";case"waitlisted":return"badge-warning";case"rejected":return"badge-danger";case"pending":return"badge-secondary";default:return"badge-secondary"}},pe=w=>{switch(w){case"approved":return"";case"rejected":return"";case"none":return"";case"pending":return"";default:return""}};if(C)return t.jsx("div",{className:"admin-section",children:"..."});const k=E?.items||[],ne=Math.ceil((E?.total||0)/A);return t.jsxs("div",{className:"admin-section",children:[t.jsx("div",{className:"section-header",children:t.jsx("h2",{children:""})}),t.jsxs("div",{className:"filters",children:[t.jsxs("select",{value:i,onChange:w=>{r(w.target.value),f(1)},children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"draft",children:""}),t.jsx("option",{value:"submitted",children:""}),t.jsx("option",{value:"reviewed",children:""})]}),t.jsxs("select",{value:c,onChange:w=>{u(w.target.value),f(1)},children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"pending",children:""}),t.jsx("option",{value:"admitted",children:""}),t.jsx("option",{value:"waitlisted",children:""}),t.jsx("option",{value:"rejected",children:""})]})]}),t.jsx("div",{className:"applications-table",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:k.map(w=>t.jsxs("tr",{children:[t.jsx("td",{children:w.id}),t.jsx("td",{children:w.student_email||` #${w.student_id}`}),t.jsx("td",{children:t.jsx("span",{className:`badge badge-${w.status}`,children:w.status})}),t.jsx("td",{children:t.jsx("span",{className:`badge ${de(w.admission_status||null)}`,children:me(w.admission_status||null)})}),t.jsx("td",{children:w.scholarship_status?pe(w.scholarship_status):"-"}),t.jsx("td",{children:w.enrollment_intention_confirmed?t.jsx("span",{className:"badge badge-success",children:""}):w.waitlist_intention_confirmed?t.jsx("span",{className:"badge badge-warning",children:""}):"-"}),t.jsx("td",{children:t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>X(w.id),children:""})})]},w.id))})]})}),ne>1&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{disabled:h===1,onClick:()=>f(h-1),children:""}),t.jsxs("span",{children:[" ",h," / ",ne," "]}),t.jsx("button",{disabled:h===ne,onClick:()=>f(h+1),children:""})]}),p&&m&&t.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:t.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:""}),t.jsx("button",{className:"btn-icon",onClick:()=>x(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsxs("select",{value:y.admission_status,onChange:w=>N({...y,admission_status:w.target.value}),children:[t.jsx("option",{value:"pending",children:""}),t.jsx("option",{value:"admitted",children:""}),t.jsx("option",{value:"waitlisted",children:""}),t.jsx("option",{value:"rejected",children:""})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:y.scholarship_status||"",onChange:w=>N({...y,scholarship_status:w.target.value||void 0}),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"pending",children:""}),t.jsx("option",{value:"approved",children:""}),t.jsx("option",{value:"rejected",children:""}),t.jsx("option",{value:"none",children:""})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{value:y.comment||"",onChange:w=>N({...y,comment:w.target.value}),rows:3,placeholder:"..."})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-primary",onClick:ye,disabled:V.isPending,children:V.isPending?"...":""}),t.jsx("button",{className:"btn-secondary",onClick:()=>x(!1),children:""})]}),t.jsx(ew,{appId:m}),t.jsx(tw,{appId:m,preAdmissionCheck:z,updateAccommodationMutation:te,updateStudentIdMutation:ge}),t.jsx(nw,{appId:m,admissionTracking:O,updateTrackingMutation:ae}),t.jsx(aw,{appId:m,registrationStatus:q,preAdmissionCheck:z,completeRegistrationMutation:oe})]})]})})]})}function ew({appId:a}){const i=bt(),{data:r}=be({queryKey:["admission-notices",a],queryFn:()=>Vv(a)}),c=Ce({mutationFn:g=>$v(a,g),onSuccess:()=>{i.invalidateQueries({queryKey:["admission-notices",a]}),alert("")},onError:g=>{alert(`${g?.response?.data?.detail||g.message}`)}}),u=Ce({mutationFn:g=>AS(a,g),onSuccess:()=>{i.invalidateQueries({queryKey:["admission-notices",a]}),alert("")},onError:g=>{alert(`${g?.response?.data?.detail||g.message}`)}}),h=async(g,p)=>{try{const x=await Yv(a,g),y=window.URL.createObjectURL(x),N=document.createElement("a");N.href=y;const E=x.type.includes("wordprocessingml")||x.type.includes("docx")?".docx":".pdf",C=`${p==="admission"?"":""}_${a}${E}`;N.download=C,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(y),document.body.removeChild(N)}catch{alert("")}},f=r?.find(g=>g.notice_type==="admission"),m=r?.find(g=>g.notice_type==="scholarship");return t.jsxs("div",{className:"notice-management-section",style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #ddd"},children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"notices-list",style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("div",{className:"notice-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:""}),f?t.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>h(f.id,"admission"),children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:()=>{window.confirm("")&&u.mutate("admission")},disabled:u.isPending,children:u.isPending?"...":""})]}):t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>c.mutate("admission"),disabled:c.isPending,children:c.isPending?"...":""})]}),t.jsxs("div",{className:"notice-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:""}),m?t.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>h(m.id,"scholarship"),children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:()=>{window.confirm("")&&u.mutate("scholarship")},disabled:u.isPending,children:u.isPending?"...":""})]}):t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>c.mutate("scholarship"),disabled:c.isPending,children:c.isPending?"...":""})]})]})]})}function tw({appId:a,preAdmissionCheck:i,updateAccommodationMutation:r,updateStudentIdMutation:c}){const[u,h]=j.useState({arranged:!1}),[f,m]=j.useState({assigned:!1}),g=y=>{if(!y)return"";try{return new Date(y).toISOString().split("T")[0]}catch{return""}};j.useEffect(()=>{i&&(h({arranged:i.accommodation_arranged,arranged_at:g(i.accommodation_arranged_at)}),m({assigned:i.student_id_assigned,student_id:i.assigned_student_id||void 0,assigned_at:g(i.student_id_assigned_at)}))},[i]);const p=()=>{r.mutate(u)},x=()=>{c.mutate(f)};return i?t.jsxs("div",{className:"pre-admission-check-section",style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #ddd"},children:[t.jsx("h3",{children:""}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[t.jsx("h4",{style:{marginTop:0,marginBottom:"1rem"},children:""}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:u.arranged,onChange:y=>h({...u,arranged:y.target.checked})}),t.jsx("span",{children:""})]}),u.arranged&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"date",value:u.arranged_at||"",onChange:y=>h({...u,arranged_at:y.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),i.accommodation_arranged&&i.accommodation_arranged_at&&t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["",new Date(i.accommodation_arranged_at).toLocaleDateString("zh-TW")]}),t.jsx("button",{className:"btn-primary btn-sm",onClick:p,disabled:r.isPending,style:{alignSelf:"flex-start"},children:r.isPending?"...":""})]})]}),t.jsxs("div",{style:{padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[t.jsx("h4",{style:{marginTop:0,marginBottom:"1rem"},children:""}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:f.assigned,onChange:y=>m({...f,assigned:y.target.checked})}),t.jsx("span",{children:""})]}),f.assigned&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:f.student_id||"",onChange:y=>m({...f,student_id:y.target.value||null}),placeholder:"",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"date",value:f.assigned_at||"",onChange:y=>m({...f,assigned_at:y.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),i.student_id_assigned&&t.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["",i.assigned_student_id||"",i.student_id_assigned_at&&t.jsxs("span",{children:["",new Date(i.student_id_assigned_at).toLocaleDateString("zh-TW"),""]})]}),t.jsx("button",{className:"btn-primary btn-sm",onClick:x,disabled:c.isPending,style:{alignSelf:"flex-start"},children:c.isPending?"...":""})]})]}),i.pre_admission_check_completed&&t.jsxs("div",{style:{padding:"1rem",background:"#d4edda",borderRadius:"8px",color:"#155724"},children:[t.jsx("strong",{children:" "}),i.pre_admission_check_completed_at&&t.jsxs("div",{style:{fontSize:"0.875rem",marginTop:"0.25rem"},children:["",new Date(i.pre_admission_check_completed_at).toLocaleString("zh-TW")]})]})]})]}):t.jsx("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #ddd"},children:"..."})}function nw({appId:a,admissionTracking:i,updateTrackingMutation:r}){const[c,u]=j.useState({}),h=m=>{if(!m)return"";try{return new Date(m).toISOString().split("T")[0]}catch{return""}};j.useEffect(()=>{i&&u({visa_status:i.visa_status,visa_application_date:h(i.visa_application_date)||null,visa_approval_date:h(i.visa_approval_date)||null,visa_expiry_date:h(i.visa_expiry_date)||null,visa_number:i.visa_number,flight_number:i.flight_number,flight_date:h(i.flight_date)||null,flight_time:i.flight_time||null,departure_airport:i.departure_airport,arrival_airport:i.arrival_airport,pickup_arranged:i.pickup_arranged,pickup_date:h(i.pickup_date)||null,pickup_time:i.pickup_time||null,pickup_location:i.pickup_location,pickup_contact_person:i.pickup_contact_person,pickup_contact_phone:i.pickup_contact_phone})},[i]);const f=()=>{const m={...c};["visa_application_date","visa_approval_date","visa_expiry_date","flight_date","pickup_date"].forEach(x=>{m[x]===""&&(m[x]=null)}),m.flight_time===""&&(m.flight_time=null),m.pickup_time===""&&(m.pickup_time=null),["visa_status","visa_number","flight_number","departure_airport","arrival_airport","pickup_location","pickup_contact_person","pickup_contact_phone"].forEach(x=>{m[x]===""&&(m[x]=null)}),r.mutate(m)};return i?t.jsxs("div",{className:"admission-tracking-section",style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #ddd"},children:[t.jsx("h3",{children:""}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[t.jsx("h4",{style:{marginTop:0,marginBottom:"1rem"},children:""}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsxs("select",{value:c.visa_status||"",onChange:m=>u({...c,visa_status:m.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"pending",children:""}),t.jsx("option",{value:"applied",children:""}),t.jsx("option",{value:"approved",children:""}),t.jsx("option",{value:"rejected",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:c.visa_number||"",onChange:m=>u({...c,visa_number:m.target.value||null}),placeholder:"",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"date",value:c.visa_application_date||"",onChange:m=>u({...c,visa_application_date:m.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"date",value:c.visa_approval_date||"",onChange:m=>u({...c,visa_approval_date:m.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]})]}),t.jsxs("div",{style:{padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[t.jsx("h4",{style:{marginTop:0,marginBottom:"1rem"},children:""}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:c.flight_number||"",onChange:m=>u({...c,flight_number:m.target.value||null}),placeholder:"CI123",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"date",value:c.flight_date||"",onChange:m=>u({...c,flight_date:m.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:c.departure_airport||"",onChange:m=>u({...c,departure_airport:m.target.value||null}),placeholder:"",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:c.arrival_airport||"",onChange:m=>u({...c,arrival_airport:m.target.value||null}),placeholder:"",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]})]}),t.jsxs("div",{style:{padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[t.jsx("h4",{style:{marginTop:0,marginBottom:"1rem"},children:""}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:c.pickup_arranged||!1,onChange:m=>u({...c,pickup_arranged:m.target.checked})}),t.jsx("span",{children:""})]}),c.pickup_arranged&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"date",value:c.pickup_date||"",onChange:m=>u({...c,pickup_date:m.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"time",value:c.pickup_time||"",onChange:m=>u({...c,pickup_time:m.target.value||null}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:c.pickup_location||"",onChange:m=>u({...c,pickup_location:m.target.value||null}),placeholder:"",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:c.pickup_contact_person||"",onChange:m=>u({...c,pickup_contact_person:m.target.value||null}),placeholder:"",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:""}),t.jsx("input",{type:"text",value:c.pickup_contact_phone||"",onChange:m=>u({...c,pickup_contact_phone:m.target.value||null}),placeholder:"",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]})]})]})]}),t.jsxs("div",{style:{padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[t.jsx("h4",{style:{marginTop:0,marginBottom:"1rem"},children:""}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:""}),i.on_campus_accommodation_intention===!0?"":i.on_campus_accommodation_intention===!1?"":""]}),t.jsxs("div",{children:[t.jsx("strong",{children:""}),i.bedding_purchase_intention===!0?"":i.bedding_purchase_intention===!1?"":""]})]})]}),t.jsx("button",{className:"btn-primary",onClick:f,disabled:r.isPending,style:{alignSelf:"flex-start"},children:r.isPending?"...":""})]})]}):t.jsx("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #ddd"},children:"..."})}function aw({appId:a,registrationStatus:i,preAdmissionCheck:r,completeRegistrationMutation:c}){const u=()=>{window.confirm("")&&c.mutate({completed:!0})};if(!i||!r)return t.jsx("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #ddd"},children:"..."});const h=r.pre_admission_check_completed&&!i.registration_completed;return t.jsxs("div",{className:"registration-section",style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #ddd"},children:[t.jsx("h3",{children:""}),t.jsx("div",{style:{padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:i.registration_completed?t.jsxs("div",{style:{padding:"1rem",background:"#d4edda",borderRadius:"8px",color:"#155724"},children:[t.jsx("strong",{children:" "}),i.registration_completed_at&&t.jsxs("div",{style:{fontSize:"0.875rem",marginTop:"0.25rem"},children:["",new Date(i.registration_completed_at).toLocaleString("zh-TW")]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginBottom:"1rem"},children:r.pre_admission_check_completed?t.jsx("div",{style:{color:"#155724",marginBottom:"1rem"},children:" "}):t.jsx("div",{style:{color:"#856404",marginBottom:"1rem"},children:" "})}),t.jsx("button",{className:"btn-primary",onClick:u,disabled:!h||c.isPending,children:c.isPending?"...":""})]})})]})}async function sw(a){const i=new FormData;i.append("file",a);const{data:r}=await ue.post("/api/college-department/import-csv",i,{headers:{"Content-Type":"multipart/form-data"}});return r}async function iw(){const{data:a}=await ue.get("/api/college-department/colleges");return a}async function lw(a){const{data:i}=await ue.post("/api/college-department/colleges",a);return i}async function rw(a,i){const{data:r}=await ue.patch(`/api/college-department/colleges/${a}`,i);return r}async function cw(a){await ue.delete(`/api/college-department/colleges/${a}`)}async function ow(a){const{data:i}=await ue.get("/api/college-department/departments",{params:{}});return i}async function uw(a){const{data:i}=await ue.post("/api/college-department/departments",a);return i}async function dw(a,i){const{data:r}=await ue.patch(`/api/college-department/departments/${a}`,i);return r}async function hw(a){await ue.delete(`/api/college-department/departments/${a}`)}async function fw(a){const{data:i}=await ue.get("/api/college-department/program-departments",{params:{}});return i}async function mw(a){const{data:i}=await ue.post("/api/college-department/program-departments",a);return i}async function pw(a,i){const{data:r}=await ue.patch(`/api/college-department/program-departments/${a}`,i);return r}async function gw(a){await ue.delete(`/api/college-department/program-departments/${a}`)}function vw(){const a=bt(),[i,r]=j.useState(new Set),[c,u]=j.useState(new Set),[h,f]=j.useState(null),[m,g]=j.useState(null),[p,x]=j.useState(null),[y,N]=j.useState(!1),[A,E]=j.useState(null),[C,S]=j.useState(null),{data:z=[],isLoading:O}=be({queryKey:["colleges"],queryFn:iw}),{data:q=[],isLoading:V}=be({queryKey:["departments"],queryFn:()=>ow()}),{data:te=[],isLoading:ge}=be({queryKey:["program-departments"],queryFn:()=>fw()}),{data:ae=[],isLoading:oe}=be({queryKey:["programs"],queryFn:()=>hc()}),X=Y=>{const J=new Set(i);J.has(Y)?J.delete(Y):J.add(Y),r(J)},ye=Ce({mutationFn:lw,onSuccess:()=>{a.invalidateQueries({queryKey:["colleges"]}),N(!1)}}),me=Ce({mutationFn:({id:Y,data:J})=>rw(Y,J),onSuccess:()=>{a.invalidateQueries({queryKey:["colleges"]}),f(null)}}),de=Ce({mutationFn:cw,onSuccess:()=>{a.invalidateQueries({queryKey:["colleges"]}),a.invalidateQueries({queryKey:["departments"]})}}),pe=Y=>{const J=new Set(c);J.has(Y)?J.delete(Y):J.add(Y),u(J)},k=Ce({mutationFn:uw,onSuccess:()=>{a.invalidateQueries({queryKey:["departments"]}),a.invalidateQueries({queryKey:["program-departments"]}),E(null)}}),ne=Ce({mutationFn:({id:Y,data:J})=>dw(Y,J),onSuccess:()=>{a.invalidateQueries({queryKey:["departments"]}),g(null)}}),w=Ce({mutationFn:hw,onSuccess:()=>{a.invalidateQueries({queryKey:["departments"]}),a.invalidateQueries({queryKey:["program-departments"]})}}),W=Ce({mutationFn:mw,onSuccess:()=>{a.invalidateQueries({queryKey:["program-departments"]}),S(null)}}),ce=Ce({mutationFn:({id:Y,data:J})=>pw(Y,J),onSuccess:()=>{a.invalidateQueries({queryKey:["program-departments"]}),x(null)}}),ve=Ce({mutationFn:gw,onSuccess:()=>{a.invalidateQueries({queryKey:["program-departments"]})}}),Te=Y=>q.filter(J=>J.college_id===Y),T=Y=>te.filter(J=>J.department_id===Y),$=()=>q.filter(Y=>!Y.college_id);return O||V||ge||oe?t.jsx("div",{className:"loading",children:"..."}):t.jsxs("div",{className:"college-department-manager",children:[t.jsxs("div",{className:"manager-header",children:[t.jsx("h3",{children:""}),t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>N(!0),children:"+ "})]}),y&&t.jsx(jw,{onSubmit:Y=>ye.mutate(Y),onCancel:()=>N(!1)}),t.jsxs("div",{className:"colleges-list",children:[z.map(Y=>t.jsx(xw,{college:Y,departments:Te(Y.id),programs:ae,programDepartments:te,isExpanded:i.has(Y.id),onToggle:()=>X(Y.id),onEdit:()=>f(Y.id),onDelete:()=>{window.confirm(`${Y.name}`)&&de.mutate(Y.id)},editing:h===Y.id,onSaveEdit:J=>me.mutate({id:Y.id,data:J}),onCancelEdit:()=>f(null),onAddDepartment:()=>E(Y.id),showNewDepartment:A===Y.id,onSaveNewDepartment:J=>k.mutate({...J,college_id:Y.id}),onCancelNewDepartment:()=>E(null),expandedDepartments:c,onToggleDepartment:pe,onEditDepartment:g,onDeleteDepartment:J=>{const le=q.find(Ne=>Ne.id===J);le&&window.confirm(`${le.name}`)&&w.mutate(J)},editingDepartment:m,onSaveDepartmentEdit:(J,le)=>ne.mutate({id:J,data:le}),onCancelDepartmentEdit:()=>g(null),onAddPD:J=>S(J),showNewPD:C,onSaveNewPD:J=>W.mutate(J),onCancelNewPD:()=>S(null),onEditPD:x,editingPD:p,onSavePDEdit:(J,le)=>ce.mutate({id:J,data:le}),onCancelPDEdit:()=>x(null),onDeletePD:J=>{te.find(Ne=>Ne.id===J)&&window.confirm("-")&&ve.mutate(J)}},Y.id)),$().length>0&&t.jsxs("div",{className:"unassigned-departments",children:[t.jsx("h4",{children:""}),$().map(Y=>t.jsx(Zv,{department:Y,programs:ae,programDepartments:T(Y.id),isExpanded:c.has(Y.id),onToggle:()=>pe(Y.id),onEdit:()=>g(Y.id),onDelete:()=>{window.confirm(`${Y.name}`)&&w.mutate(Y.id)},editing:m===Y.id,onSaveEdit:J=>ne.mutate({id:Y.id,data:J}),onCancelEdit:()=>g(null),onAddPD:()=>S(Y.id),showNewPD:C===Y.id,onSaveNewPD:J=>W.mutate({...J,department_id:Y.id}),onCancelNewPD:()=>S(null),onEditPD:x,editingPD:p,onSavePDEdit:(J,le)=>ce.mutate({id:J,data:le}),onCancelPDEdit:()=>x(null),onDeletePD:J=>{te.find(Ne=>Ne.id===J)&&window.confirm("-")&&ve.mutate(J)}},Y.id))]})]})]})}function xw({college:a,departments:i,programs:r,programDepartments:c,isExpanded:u,onToggle:h,onEdit:f,onDelete:m,editing:g,onSaveEdit:p,onCancelEdit:x,onAddDepartment:y,showNewDepartment:N,onSaveNewDepartment:A,onCancelNewDepartment:E,expandedDepartments:C,onToggleDepartment:S,onEditDepartment:z,onDeleteDepartment:O,editingDepartment:q,onSaveDepartmentEdit:V,onCancelDepartmentEdit:te,onAddPD:ge,showNewPD:ae,onSaveNewPD:oe,onCancelNewPD:X,onEditPD:ye,editingPD:me,onSavePDEdit:de,onCancelPDEdit:pe,onDeletePD:k}){const[ne,w]=j.useState(a.name),[W,ce]=j.useState(a.name_en||"");return g?t.jsx("div",{className:"college-item editing",children:t.jsxs("div",{className:"edit-form",children:[t.jsx("input",{type:"text",value:ne,onChange:ve=>w(ve.target.value),placeholder:""}),t.jsx("input",{type:"text",value:W,onChange:ve=>ce(ve.target.value),placeholder:""}),t.jsxs("div",{className:"edit-actions",children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>p({name:ne,name_en:W||void 0}),children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:x,children:""})]})]})}):t.jsxs("div",{className:"college-item",children:[t.jsxs("div",{className:"college-header",onClick:h,children:[t.jsx("span",{className:"expand-icon",children:u?"":""}),t.jsxs("span",{className:"college-name",children:[a.name," ",a.name_en&&`(${a.name_en})`]}),t.jsxs("span",{className:"dept-count",children:["(",i.length," )"]}),t.jsxs("div",{className:"college-actions",onClick:ve=>ve.stopPropagation(),children:[t.jsx("button",{className:"btn-icon",onClick:f,title:"",children:""}),t.jsx("button",{className:"btn-icon",onClick:m,title:"",children:""})]})]}),u&&t.jsxs("div",{className:"college-content",children:[t.jsx("button",{className:"btn-secondary btn-sm",onClick:y,style:{marginBottom:"1rem"},children:"+ "}),N&&t.jsx(bw,{onSubmit:A,onCancel:E}),i.map(ve=>t.jsx(Zv,{department:ve,programs:r,programDepartments:c.filter(Te=>Te.department_id===ve.id),isExpanded:C.has(ve.id),onToggle:()=>S(ve.id),onEdit:()=>z(ve.id),onDelete:()=>O(ve.id),editing:q===ve.id,onSaveEdit:Te=>V(ve.id,Te),onCancelEdit:te,onAddPD:()=>ge(ve.id),showNewPD:ae===ve.id,onSaveNewPD:Te=>oe({...Te,department_id:ve.id}),onCancelNewPD:X,onEditPD:ye,editingPD:me,onSavePDEdit:de,onCancelPDEdit:pe,onDeletePD:k},ve.id))]})]})}function Zv({department:a,programs:i,programDepartments:r,isExpanded:c,onToggle:u,onEdit:h,onDelete:f,editing:m,onSaveEdit:g,onCancelEdit:p,onAddPD:x,showNewPD:y,onSaveNewPD:N,onCancelNewPD:A,onEditPD:E,editingPD:C,onSavePDEdit:S,onCancelPDEdit:z,onDeletePD:O}){const[q,V]=j.useState(a.department_id),[te,ge]=j.useState(a.name),[ae,oe]=j.useState(a.name_en||""),[X,ye]=j.useState(a.abbreviation||"");return m?t.jsx("div",{className:"department-item editing",children:t.jsxs("div",{className:"edit-form",children:[t.jsx("input",{type:"text",value:q,onChange:me=>V(me.target.value),placeholder:""}),t.jsx("input",{type:"text",value:te,onChange:me=>ge(me.target.value),placeholder:""}),t.jsx("input",{type:"text",value:ae,onChange:me=>oe(me.target.value),placeholder:""}),t.jsx("input",{type:"text",value:X,onChange:me=>ye(me.target.value),placeholder:""}),t.jsxs("div",{className:"edit-actions",children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>g({department_id:q,name:te,name_en:ae||void 0,abbreviation:X||void 0}),children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:p,children:""})]})]})}):t.jsxs("div",{className:"department-item",children:[t.jsxs("div",{className:"department-header",onClick:u,children:[t.jsx("span",{className:"expand-icon",children:c?"":""}),t.jsxs("span",{className:"dept-info",children:[t.jsx("strong",{children:a.name})," (",a.department_id,")",a.name_en&&` - ${a.name_en}`,a.abbreviation&&` [${a.abbreviation}]`]}),t.jsxs("span",{className:"pd-count",children:["(",r.length," )"]}),t.jsxs("div",{className:"dept-actions",onClick:me=>me.stopPropagation(),children:[t.jsx("button",{className:"btn-icon",onClick:h,title:"",children:""}),t.jsx("button",{className:"btn-icon",onClick:f,title:"",children:""})]})]}),c&&t.jsxs("div",{className:"department-content",children:[t.jsx("button",{className:"btn-secondary btn-sm",onClick:x,style:{marginBottom:"1rem"},children:"+ "}),y&&t.jsx(_w,{programs:i,departmentId:a.id,onSubmit:N,onCancel:A}),r.map(me=>t.jsx(yw,{pd:me,programs:i,editing:C===me.id,onEdit:()=>E(me.id),onSaveEdit:de=>S(me.id,de),onCancelEdit:z,onDelete:()=>O(me.id)},me.id))]})]})}function yw({pd:a,programs:i,editing:r,onEdit:c,onSaveEdit:u,onCancelEdit:h,onDelete:f}){const[m,g]=j.useState(a.chinese_taught),[p,x]=j.useState(a.english_taught),[y,N]=j.useState(a.is_open_for_application),[A,E]=j.useState(a.application_quota||""),[C,S]=j.useState(a.website_url||""),z=i.find(O=>O.id===a.program_id);return r?t.jsx("div",{className:"pd-item editing",children:t.jsxs("div",{className:"edit-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:m,onChange:O=>g(O.target.checked)}),""]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:p,onChange:O=>x(O.target.checked)}),""]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:y,onChange:O=>N(O.target.checked)}),""]})]}),t.jsx("input",{type:"text",value:A,onChange:O=>E(O.target.value),placeholder:""}),t.jsx("input",{type:"text",value:C,onChange:O=>S(O.target.value),placeholder:""}),t.jsxs("div",{className:"edit-actions",children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>u({chinese_taught:m,english_taught:p,is_open_for_application:y,application_quota:A||void 0,website_url:C||void 0}),children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:h,children:""})]})]})}):t.jsxs("div",{className:"pd-item",children:[t.jsxs("div",{className:"pd-info",children:[t.jsx("strong",{children:z?.name||` ID: ${a.program_id}`}),t.jsxs("div",{className:"pd-details",children:[t.jsx("span",{className:a.chinese_taught?"tag active":"tag",children:""}),t.jsx("span",{className:a.english_taught?"tag active":"tag",children:""}),t.jsx("span",{className:a.is_open_for_application?"tag open":"tag closed",children:a.is_open_for_application?"":""}),a.application_quota&&t.jsxs("span",{children:[": ",a.application_quota]})]})]}),t.jsxs("div",{className:"pd-actions",children:[t.jsx("button",{className:"btn-icon",onClick:c,title:"",children:""}),t.jsx("button",{className:"btn-icon",onClick:f,title:"",children:""})]})]})}function jw({onSubmit:a,onCancel:i}){const[r,c]=j.useState(""),[u,h]=j.useState("");return t.jsxs("div",{className:"form-container",children:[t.jsxs("div",{className:"form-row",children:[t.jsx("input",{type:"text",value:r,onChange:f=>c(f.target.value),placeholder:" *",required:!0}),t.jsx("input",{type:"text",value:u,onChange:f=>h(f.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>a({name:r,name_en:u||void 0}),disabled:!r,children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:i,children:""})]})]})}function bw({onSubmit:a,onCancel:i}){const[r,c]=j.useState(""),[u,h]=j.useState(""),[f,m]=j.useState(""),[g,p]=j.useState("");return t.jsxs("div",{className:"form-container",children:[t.jsxs("div",{className:"form-row",children:[t.jsx("input",{type:"text",value:r,onChange:x=>c(x.target.value),placeholder:" *",required:!0}),t.jsx("input",{type:"text",value:u,onChange:x=>h(x.target.value),placeholder:" *",required:!0})]}),t.jsxs("div",{className:"form-row",children:[t.jsx("input",{type:"text",value:f,onChange:x=>m(x.target.value),placeholder:""}),t.jsx("input",{type:"text",value:g,onChange:x=>p(x.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>a({department_id:r,name:u,name_en:f||void 0,abbreviation:g||void 0}),disabled:!r||!u,children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:i,children:""})]})]})}function _w({programs:a,departmentId:i,onSubmit:r,onCancel:c}){const[u,h]=j.useState(""),[f,m]=j.useState(!0),[g,p]=j.useState(!1),[x,y]=j.useState(!0),[N,A]=j.useState(""),[E,C]=j.useState("");return t.jsxs("div",{className:"form-container",children:[t.jsx("div",{className:"form-row",children:t.jsxs("select",{value:u,onChange:S=>h(S.target.value?Number(S.target.value):""),required:!0,children:[t.jsx("option",{value:"",children:" *"}),a.map(S=>t.jsxs("option",{value:S.id,children:[S.name," (",S.program_id,")"]},S.id))]})}),t.jsxs("div",{className:"form-row",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:f,onChange:S=>m(S.target.checked)}),""]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:g,onChange:S=>p(S.target.checked)}),""]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:x,onChange:S=>y(S.target.checked)}),""]})]}),t.jsxs("div",{className:"form-row",children:[t.jsx("input",{type:"text",value:N,onChange:S=>A(S.target.value),placeholder:""}),t.jsx("input",{type:"text",value:E,onChange:S=>C(S.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-primary btn-sm",onClick:()=>r({program_id:u,department_id:i,chinese_taught:f,english_taught:g,is_open_for_application:x,application_quota:N||void 0,website_url:E||void 0}),disabled:!u,children:""}),t.jsx("button",{className:"btn-secondary btn-sm",onClick:c,children:""})]})]})}function Nw(){const[a,i]=j.useState(null),[r,c]=j.useState(null),[u,h]=j.useState(null),[f,m]=j.useState(null),g=j.useRef(null),p=Ce({mutationFn:async()=>{const{data:E}=await ue.post("/api/student-identity/import-from-json");return E},onSuccess:E=>{i(E),c(null),alert("")},onError:E=>{c(E?.response?.data?.detail||E.message||""),i(null),alert(`${E?.response?.data?.detail||E.message}`)}}),x=()=>{window.confirm(" JSON ")&&p.mutate()},y=Ce({mutationFn:E=>sw(E),onSuccess:E=>{h(E),m(null),alert("CSV ")},onError:E=>{m(E?.response?.data?.detail||E.message||""),h(null),alert(`CSV ${E?.response?.data?.detail||E.message}`)}}),N=E=>{const C=E.target.files?.[0];if(C){if(!C.name.endsWith(".csv")){alert(" CSV ");return}window.confirm(" CSV -")&&y.mutate(C)}},A=()=>{g.current?.click()};return t.jsxs("div",{className:"admin-section",children:[t.jsx("h2",{children:""}),t.jsxs("div",{className:"settings-content",children:[t.jsxs("div",{className:"settings-section",children:[t.jsx("h3",{children:""}),t.jsx("p",{children:" JSON "}),t.jsx("button",{className:"btn-primary",onClick:x,disabled:p.isPending,children:p.isPending?"...":""}),a&&t.jsxs("div",{className:"result-box success",children:[t.jsx("h4",{children:""}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),a.message||""]}),t.jsxs("div",{className:"result-details",children:[t.jsxs("p",{children:[t.jsx("strong",{children:""}),a.created?.identities?.length||0," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),a.updated?.identities?.length||0," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),a.created?.programs?.length||0," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),a.updated?.programs?.length||0," "]}),a.created?.identities&&a.created.identities.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:" ID"}),t.jsx("ul",{children:a.created.identities.map((E,C)=>t.jsx("li",{children:E},C))})]}),a.updated?.identities&&a.updated.identities.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:" ID"}),t.jsx("ul",{children:a.updated.identities.map((E,C)=>t.jsx("li",{children:E},C))})]}),a.created?.programs&&a.created.programs.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:" ID"}),t.jsx("ul",{children:a.created.programs.map((E,C)=>t.jsx("li",{children:E},C))})]}),a.updated?.programs&&a.updated.programs.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:" ID"}),t.jsx("ul",{children:a.updated.programs.map((E,C)=>t.jsx("li",{children:E},C))})]}),a.errors&&a.errors.length>0&&t.jsxs("div",{className:"errors",children:[t.jsx("strong",{children:""}),t.jsx("ul",{children:a.errors.map((E,C)=>t.jsx("li",{children:E},C))})]})]})]}),r&&t.jsxs("div",{className:"result-box error",children:[t.jsx("h4",{children:""}),t.jsx("p",{children:r})]})]}),t.jsxs("div",{className:"settings-section",children:[t.jsx("h3",{children:""}),t.jsx("p",{children:" CSV -"}),t.jsx("p",{className:"help-text",children:"CSV ,,,,,,,,,,,,,"}),t.jsx("input",{ref:g,type:"file",accept:".csv",onChange:N,style:{display:"none"}}),t.jsx("button",{className:"btn-primary",onClick:A,disabled:y.isPending,children:y.isPending?"...":" CSV "}),u&&t.jsxs("div",{className:"result-box success",children:[t.jsx("h4",{children:"CSV "}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),u.message||""]}),t.jsxs("div",{className:"result-details",children:[t.jsxs("p",{children:[t.jsx("strong",{children:""}),u.stats.colleges_created," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),u.stats.colleges_existing," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),u.stats.departments_created," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),u.stats.departments_existing," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:"-"}),u.stats.program_departments_created," "]}),t.jsxs("p",{children:[t.jsx("strong",{children:"-"}),u.stats.program_departments_existing," "]}),u.stats.errors&&u.stats.errors.length>0&&t.jsxs("div",{className:"errors",children:[t.jsx("strong",{children:""}),t.jsx("ul",{children:u.stats.errors.map((E,C)=>t.jsx("li",{children:E},C))})]})]})]}),f&&t.jsxs("div",{className:"result-box error",children:[t.jsx("h4",{children:"CSV "}),t.jsx("p",{children:f})]})]}),t.jsx("div",{className:"settings-section",children:t.jsx(vw,{})})]})]})}const Lu=[{key:"home",label:"",description:""},{key:"news",label:"",description:""},{key:"admission",label:"",description:""},{key:"enrollment",label:"",description:""},{key:"admission-important-info",label:"",description:" - "},{key:"scholarship-info",label:"",description:" - "}],Sw={home:`<div class="welcome-section">
  <h2></h2>
  <p>
    
    
  </p>
  <p>
    
    
  </p>
</div>

<div class="admission-section">
  <h2></h2>
  <p></p>
  <ul>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
  </ul>
</div>

<div class="application-process-section">
  <h2></h2>
  <p></p>
  <ol>
    <li><strong></strong> Email </li>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
  </ol>
</div>

<div class="features-section">
  <h2></h2>
  <ul>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>
</div>

<div class="contact-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li><a href="/applications"></a></li>
    <li><a href="/lobby"></a></li>
    <li><a href="/system-announcements"></a></li>
  </ul>
</div>`,news:`<div class="news-section">
  <h2></h2>
  <p></p>
</div>

<div class="news-list">
  <div class="news-item">
    <h3>2025 </h3>
    <p class="news-date">20251</p>
    <p>
      2025 
       2025331
    </p>
    <p>
      
    </p>
  </div>

  <div class="news-item">
    <h3></h3>
    <p class="news-date">20251</p>
    <p>
      
    </p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p>
      <a href="/admission"></a>
    </p>
  </div>

  <div class="news-item">
    <h3></h3>
    <p class="news-date">202412</p>
    <p>
      
    </p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p>
      <a href="/lobby"></a>
    </p>
  </div>

  <div class="news-item">
    <h3></h3>
    <p class="news-date">202412</p>
    <p>
      
      
    </p>
    <p>
      <a href="/lobby"></a> Email 
    </p>
  </div>
</div>

<div class="contact-section">
  <h3></h3>
  <p>
    <a href="/system-announcements"></a>
    
  </p>
  <ul>
    <li><a href="/applications"></a></li>
    <li><a href="/lobby"></a></li>
    <li><a href="/system-announcements"></a></li>
  </ul>
</div>`,admission:`<div class="admission-section">
  <h2></h2>
  <p>
    
    
  </p>
</div>

<div class="program-section">
  <h2></h2>
  
  <div class="program-item">
    <h3></h3>
    <p><strong></strong></p>
    <p>
      
      
    </p>
    <ul>
      <li>4</li>
      <li></li>
      <li></li>
    </ul>
  </div>

  <div class="program-item">
    <h3></h3>
    <p><strong></strong></p>
    <p>
      
      
    </p>
    <ul>
      <li>1-2</li>
      <li></li>
      <li></li>
    </ul>
  </div>

  <div class="program-item">
    <h3></h3>
    <p><strong></strong></p>
    <p>
      
      
    </p>
    <ul>
      <li>3-7</li>
      <li></li>
      <li></li>
    </ul>
  </div>

  <div class="program-item">
    <h3></h3>
    <p><strong></strong></p>
    <p>
      
      
    </p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </div>
</div>

<div class="scholarship-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
  </ul>
  <p>
    
    <a href="/lobby"></a>
  </p>
</div>

<div class="application-section">
  <h2></h2>
  <p></p>
  <ol>
    <li> Email </li>
    <li><a href="/applications"></a></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ol>
  <p>
    <a href="/lobby"></a>
  </p>
</div>

<div class="important-dates-section">
  <h2></h2>
  <ul>
    <li><strong></strong>2025331</li>
    <li><strong></strong>2025731</li>
    <li><strong></strong></li>
    <li><strong></strong></li>
  </ul>
  <p>
    <em></em>
  </p>
</div>

<div class="contact-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li><a href="/applications"></a></li>
    <li><a href="/lobby"></a></li>
    <li><a href="/news"></a></li>
    <li><a href="/system-announcements"></a></li>
  </ul>
</div>`,enrollment:`<div class="enrollment-section">
  <h2></h2>
  <p>
    
    
  </p>
</div>

<div class="enrollment-process-section">
  <h2></h2>
  <p></p>
  <ol>
    <li>
      <strong></strong>
      <p> Email </p>
    </li>
    <li>
      <strong></strong>
      <p></p>
    </li>
    <li>
      <strong></strong>
      <p></p>
      <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </li>
    <li>
      <strong></strong>
      <p></p>
    </li>
    <li>
      <strong></strong>
      <p></p>
      <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </li>
  </ol>
</div>

<div class="important-info-section">
  <h2></h2>
  
  <div class="info-item">
    <h3></h3>
    <p>
      
      
    </p>
  </div>

  <div class="info-item">
    <h3></h3>
    <p>
      
      
    </p>
    <p>
      
    </p>
  </div>

  <div class="info-item">
    <h3></h3>
    <p>
      X
      
    </p>
  </div>

  <div class="info-item">
    <h3></h3>
    <p>
      
      
    </p>
  </div>
</div>

<div class="orientation-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>
  <p>
    
  </p>
</div>

<div class="support-services-section">
  <h2></h2>
  <p></p>
  <ul>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
    <li><strong></strong></li>
  </ul>
</div>

<div class="contact-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li><a href="/lobby"></a></li>
    <li><a href="/system-announcements"></a></li>
    <li><a href="/admission"></a></li>
    <li><a href="/news"></a></li>
  </ul>
  <p>
    <strong></strong><a href="/system-announcements"></a>
    
  </p>
</div>`,"admission-important-info":`<div class="important-info-section">
  <h2></h2>
  <p>
    
    
  </p>
</div>

<div class="enrollment-process-section">
  <h2></h2>
  <p></p>
  <ol>
    <li>
      <strong></strong>
      <p> Email </p>
    </li>
    <li>
      <strong></strong>
      <p></p>
    </li>
    <li>
      <strong></strong>
      <p></p>
      <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </li>
    <li>
      <strong></strong>
      <p></p>
    </li>
    <li>
      <strong></strong>
      <p></p>
      <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </li>
  </ol>
</div>

<div class="important-info-section">
  <h2></h2>
  
  <div class="info-item">
    <h3></h3>
    <p>
      
      
    </p>
  </div>

  <div class="info-item">
    <h3></h3>
    <p>
      
      
    </p>
    <p>
      
    </p>
  </div>

  <div class="info-item">
    <h3></h3>
    <p>
      X
      
    </p>
  </div>

  <div class="info-item">
    <h3></h3>
    <p>
      
      
    </p>
  </div>
</div>

<div class="orientation-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>
  <p>
    
  </p>
</div>

<div class="contact-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li><a href="/lobby"></a></li>
    <li><a href="/system-announcements"></a></li>
    <li><a href="/admission"></a></li>
  </ul>
</div>`,"scholarship-info":`<div class="scholarship-section">
  <h2></h2>
  <p>
    
  </p>
</div>

<div class="scholarship-list">
  <div class="scholarship-item">
    <h3></h3>
    <p><strong></strong></p>
    <ul>
      <li>GPA  3.5 </li>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
    <ul>
      <li> 20% - 50% </li>
      <li></li>
    </ul>
    <p><strong></strong></p>
  </div>

  <div class="scholarship-item">
    <h3></h3>
    <p><strong></strong></p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
  </div>

  <div class="scholarship-item">
    <h3></h3>
    <p><strong></strong></p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
  </div>

  <div class="scholarship-item">
    <h3></h3>
    <p><strong></strong></p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
    <ul>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
  </div>

  <div class="scholarship-item">
    <h3></h3>
    <p><strong></strong></p>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <p><strong></strong></p>
    <ul>
      <li> 30% - 50% </li>
      <li></li>
    </ul>
    <p><strong></strong></p>
  </div>
</div>

<div class="application-info-section">
  <h2></h2>
  <ul>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>
</div>

<div class="contact-section">
  <h2></h2>
  <p>
    
  </p>
  <ul>
    <li><a href="/lobby"></a></li>
    <li><a href="/system-announcements"></a></li>
    <li><a href="/admission"></a></li>
  </ul>
  <p>
    <strong></strong>
    
  </p>
</div>`};function ww(){const a=bt(),[i,r]=j.useState(null),[c,u]=j.useState(!1),[h,f]=j.useState(null),[m,g]=j.useState(null),{data:p=[],isLoading:x}=be({queryKey:["page-contents"],queryFn:eN}),y=Ce({mutationFn:tN,onSuccess:()=>{a.invalidateQueries({queryKey:["page-contents"]}),u(!1)}}),N=Ce({mutationFn:({pageKey:S,data:z})=>nN(S,z),onSuccess:()=>{a.invalidateQueries({queryKey:["page-contents"]}),r(null)}}),A=Ce({mutationFn:aN,onSuccess:()=>{a.invalidateQueries({queryKey:["page-contents"]})}}),E=(S,z)=>{window.confirm(`${z}`)&&A.mutate(S)},C=S=>p.find(z=>z.page_key===S);return x?t.jsx("div",{className:"admin-section",children:"..."}):t.jsxs("div",{className:"admin-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>u(!0),children:"+ "})]}),c&&t.jsx(Cw,{onSubmit:S=>y.mutate(S),onCancel:()=>u(!1),existingKeys:p.map(S=>S.page_key)}),t.jsxs("div",{className:"content-list",children:[Lu.map(S=>{const z=C(S.key),O=i===S.key;return t.jsx(Sg,{pageType:S,content:z,isEditing:O,onEdit:()=>r(S.key),onSave:q=>{z?N.mutate({pageKey:S.key,data:q}):y.mutate({page_key:S.key,title:q.title||"",content:q.content||"",is_published:q.is_published??!0})},onCancel:()=>r(null),onDelete:()=>z&&E(S.key,z.title),onView:()=>f(S.key),onShowExample:()=>g(S.key)},S.key)}),p.filter(S=>!Lu.some(z=>z.key===S.page_key)).map(S=>{const z=i===S.page_key;return t.jsx(Sg,{pageType:{key:S.page_key,label:S.title,description:""},content:S,isEditing:z,onEdit:()=>r(S.page_key),onSave:O=>N.mutate({pageKey:S.page_key,data:O}),onCancel:()=>r(null),onDelete:()=>E(S.page_key,S.title),onView:()=>f(S.page_key),onShowExample:void 0},S.page_key)})]}),h&&t.jsx(Ew,{pageKey:h,content:C(h),onClose:()=>f(null)}),m&&t.jsx(Tw,{pageKey:m,pageLabel:Lu.find(S=>S.key===m)?.label||m,exampleContent:Sw[m]||"",onClose:()=>g(null)})]})}function Sg({pageType:a,content:i,isEditing:r,onEdit:c,onSave:u,onCancel:h,onDelete:f,onView:m,onShowExample:g}){const[p,x]=j.useState(i?.title||""),[y,N]=j.useState(i?.content||""),[A,E]=j.useState(i?.is_published??!0);return j.useEffect(()=>{r&&(i?(x(i.title),N(i.content),E(i.is_published)):(x(""),N(""),E(!0)))},[r,i]),r?t.jsx("div",{className:"content-item editing",children:t.jsxs("div",{className:"content-form",children:[t.jsx("h4",{style:{marginBottom:"1rem",color:"#111827"},children:i?"":""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{type:"text",value:p,onChange:C=>x(C.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("textarea",{value:y,onChange:C=>N(C.target.value),placeholder:" HTML",rows:10})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:A,onChange:C=>E(C.target.checked)}),""]})}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-primary",onClick:()=>u({title:p,content:y,is_published:A}),children:i?"":""}),t.jsx("button",{className:"btn-secondary",onClick:h,children:""})]})]})}):t.jsxs("div",{className:"content-item",children:[t.jsxs("div",{className:"content-header",children:[t.jsxs("div",{className:"content-info",children:[t.jsx("h3",{children:a.label}),t.jsx("p",{className:"content-description",children:a.description}),i?t.jsxs("div",{className:"content-meta",children:[t.jsx("span",{className:`status ${i.is_published?"published":"draft"}`,children:i.is_published?"":""}),t.jsxs("span",{className:"meta-text",children:["",new Date(i.created_at).toLocaleDateString("zh-TW")]}),i.last_edited_at&&t.jsxs("span",{className:"meta-text",children:["",new Date(i.last_edited_at).toLocaleDateString("zh-TW")]})]}):t.jsx("div",{className:"content-meta",children:t.jsx("span",{className:"status missing",children:""})})]}),t.jsxs("div",{className:"content-actions",children:[g&&t.jsx("button",{className:"btn-secondary btn-sm",onClick:g,title:"",children:""}),i&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn-secondary btn-sm",onClick:m,children:""}),t.jsx("button",{className:"btn-primary btn-sm",onClick:c,children:""}),t.jsx("button",{className:"btn-danger btn-sm",onClick:f,children:""})]}),!i&&t.jsx("button",{className:"btn-primary btn-sm",onClick:c,children:""})]})]}),i&&t.jsxs("div",{className:"content-preview",children:[t.jsx("div",{className:"preview-title",children:i.title}),t.jsx("div",{className:"preview-content",dangerouslySetInnerHTML:{__html:i.content}})]})]})}function Cw({onSubmit:a,onCancel:i,existingKeys:r}){const[c,u]=j.useState(""),[h,f]=j.useState(""),[m,g]=j.useState(""),[p,x]=j.useState(!0),y=()=>{if(!c||!h||!m){alert("");return}if(r.includes(c)){alert("");return}a({page_key:c,title:h,content:m,is_published:p})};return t.jsx("div",{className:"content-form-modal",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),placeholder:": home, news, admission"}),t.jsx("small",{children:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{type:"text",value:h,onChange:N=>f(N.target.value),placeholder:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("textarea",{value:m,onChange:N=>g(N.target.value),placeholder:" HTML",rows:10})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:p,onChange:N=>x(N.target.checked)}),""]})}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-primary",onClick:y,children:""}),t.jsx("button",{className:"btn-secondary",onClick:i,children:""})]})]})})}function Ew({pageKey:a,content:i,onClose:r}){return i?t.jsx("div",{className:"modal-overlay",onClick:r,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:i.title}),t.jsx("button",{className:"btn-icon",onClick:r,children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsx("div",{className:"content-display",dangerouslySetInnerHTML:{__html:i.content}})})]})}):null}function Tw({pageKey:a,pageLabel:i,exampleContent:r,onClose:c}){const[u,h]=j.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(r),h(!0),setTimeout(()=>h(!1),2e3)}catch(m){console.error(":",m);const g=document.createElement("textarea");g.value=r,g.style.position="fixed",g.style.opacity="0",document.body.appendChild(g),g.select();try{document.execCommand("copy"),h(!0),setTimeout(()=>h(!1),2e3)}catch(p){console.error(":",p)}document.body.removeChild(g)}};return r?t.jsx("div",{className:"modal-overlay",onClick:c,children:t.jsxs("div",{className:"modal-content example-modal",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[i," - "]}),t.jsx("button",{className:"btn-icon",onClick:c,children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"example-actions",children:t.jsx("button",{className:`btn-primary ${u?"copied":""}`,onClick:f,children:u?" ":""})}),t.jsx("div",{className:"example-content-wrapper",children:t.jsx("textarea",{className:"example-content-textarea",value:r,readOnly:!0,onClick:m=>m.currentTarget.select()})}),t.jsxs("div",{className:"example-preview",children:[t.jsx("h3",{children:""}),t.jsx("div",{className:"content-display",dangerouslySetInnerHTML:{__html:r}})]})]})]})}):null}function Rw(){const a=Et(),[i,r]=j.useState({email:"",password:"",role:"student",full_name:"",nationality:"Taiwan"}),c=Ce({mutationFn:f=>Av(f),onSuccess:f=>{alert(`
Email: ${f.email}
: ${f.role}`),r({email:"",password:"",role:"student",full_name:"",nationality:"Taiwan"})},onError:f=>{alert(`${f?.response?.data?.detail||f.message||""}`)}}),u=f=>{if(f.preventDefault(),!i.email||!i.password){alert(" Email ");return}c.mutate(i)},h=f=>{const{name:m,value:g}=f.target;r(p=>({...p,[m]:g}))};return t.jsxs("div",{className:"admin-section",children:[t.jsx("h2",{children:""}),t.jsx("p",{children:""}),t.jsxs("div",{className:"test-role-cards",children:[t.jsxs("div",{className:"test-role-card",children:[t.jsx("h3",{children:" (Document Reviewer)"}),t.jsx("p",{children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>a("/document-reviewer"),children:""})]}),t.jsxs("div",{className:"test-role-card",children:[t.jsx("h3",{children:" (Second Reviewer)"}),t.jsx("p",{children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>a("/second-reviewer"),children:""})]}),t.jsxs("div",{className:"test-role-card",children:[t.jsx("h3",{children:" (Administrative Unit)"}),t.jsx("p",{children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>a("/administrative-unit"),children:""})]})]}),t.jsxs("div",{className:"create-test-user-section",children:[t.jsx("h3",{children:""}),t.jsxs("form",{onSubmit:u,className:"test-user-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email *"}),t.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:h,required:!0,placeholder:"test@example.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:" *"}),t.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:h,required:!0,minLength:8,placeholder:"8"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"role",children:" *"}),t.jsxs("select",{id:"role",name:"role",value:i.role,onChange:h,required:!0,children:[t.jsx("option",{value:"student",children:" (student)"}),t.jsx("option",{value:"admin",children:" (admin)"}),t.jsx("option",{value:"document_reviewer",children:" (document_reviewer)"}),t.jsx("option",{value:"second_reviewer",children:" (second_reviewer)"}),t.jsx("option",{value:"administrative_unit",children:" (administrative_unit)"}),t.jsx("option",{value:"ambassador",children:" (ambassador)"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"full_name",children:""}),t.jsx("input",{type:"text",id:"full_name",name:"full_name",value:i.full_name,onChange:h,placeholder:""})]})]}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"nationality",children:""}),t.jsx("input",{type:"text",id:"nationality",name:"nationality",value:i.nationality,onChange:h,placeholder:" Taiwan"})]})}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{type:"submit",className:"btn-primary",disabled:c.isPending,children:c.isPending?"...":""})})]})]})]})}async function Aw(a={}){const{data:i}=await ue.get("/api/document-reviewer/applications",{params:a});return i}async function Dw(a){const{data:i}=await ue.get(`/api/document-reviewer/applications/${a}`);return i}async function Ow(a,i){const{data:r}=await ue.post(`/api/document-reviewer/applications/${a}/review`,i);return r}async function Mw(a,i){const{data:r}=await ue.post(`/api/document-reviewer/applications/${a}/return`,null,{params:{comment:i}});return r}async function wg(a,i,r){const{data:c}=await ue.post(`/api/document-reviewer/applications/${a}/second-review`,null,{params:{...i!==void 0&&{score:i},...r&&{comment:r}}});return c}async function kw(a){const{data:i}=await ue.delete(`/api/document-reviewer/applications/${a}/review`);return i}async function zw(a){const{data:i}=await ue.post("/api/document-reviewer/applications/export",a,{responseType:"blob"});return i}async function qw(a){return(await ue.post("/api/announcements",a)).data}async function Uw(a){return(await ue.get("/api/announcements/list",{params:a})).data}async function Lw(a,i){return(await ue.patch(`/api/announcements/${a}`,i)).data}async function Bw(a){await ue.delete(`/api/announcements/${a}`)}async function Fw(){return(await ue.get("/api/announcements/visible")).data}const Cg=[{value:"student",label:""},{value:"ambassador",label:""},{value:"admin",label:""},{value:"document_reviewer",label:""},{value:"second_reviewer",label:""},{value:"administrative_unit",label:""}];function Cd(){const a=bt(),[i,r]=j.useState(!1),[c,u]=j.useState(null),[h,f]=j.useState(""),[m,g]=j.useState(""),[p,x]=j.useState(""),[y,N]=j.useState(""),[A,E]=j.useState([]),[C,S]=j.useState(!0),{data:z,isLoading:O}=be({queryKey:["announcements","list"],queryFn:()=>Uw({page_size:100})}),q=Ce({mutationFn:k=>qw(k),onSuccess:()=>{a.invalidateQueries({queryKey:["announcements"]}),ge(),r(!1),alert("")},onError:k=>{alert(`${k?.response?.data?.detail||k.message}`)}}),V=Ce({mutationFn:({id:k,data:ne})=>Lw(k,ne),onSuccess:()=>{a.invalidateQueries({queryKey:["announcements"]}),ge(),u(null),alert("")},onError:k=>{alert(`${k?.response?.data?.detail||k.message}`)}}),te=Ce({mutationFn:k=>Bw(k),onSuccess:()=>{a.invalidateQueries({queryKey:["announcements"]}),alert("")},onError:k=>{alert(`${k?.response?.data?.detail||k.message}`)}}),ge=()=>{f(""),g(""),x(""),N(""),E([]),S(!0)},ae=()=>{if(!h.trim()||!m.trim()||!p||!y||A.length===0){alert("");return}if(new Date(y)<new Date(p)){alert("");return}q.mutate({title:h.trim(),content:m.trim(),start_date:p,end_date:y,target_roles:A,is_published:C})},oe=k=>{u(k.id),f(k.title),g(k.content),x(k.start_date),N(k.end_date),E(k.target_roles),S(k.is_published),r(!0)},X=()=>{if(c){if(!h.trim()||!m.trim()||!p||!y||A.length===0){alert("");return}if(new Date(y)<new Date(p)){alert("");return}V.mutate({id:c,data:{title:h.trim(),content:m.trim(),start_date:p,end_date:y,target_roles:A,is_published:C}})}},ye=k=>{window.confirm("")&&te.mutate(k)},me=k=>{A.includes(k)?E(A.filter(ne=>ne!==k)):E([...A,k])},de=k=>new Date(k).toLocaleDateString("zh-TW"),pe=k=>k.map(ne=>Cg.find(w=>w.value===ne)?.label||ne).join(", ");return O?t.jsx("div",{className:"announcement-manager",children:"..."}):t.jsxs("div",{className:"announcement-manager",children:[t.jsxs("div",{className:"announcement-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-primary",onClick:()=>{ge(),u(null),r(!0)},children:""})]}),i&&t.jsxs("div",{className:"announcement-form",children:[t.jsx("h3",{children:c?"":""}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{type:"text",value:h,onChange:k=>f(k.target.value),placeholder:"",maxLength:255})]})}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("textarea",{value:m,onChange:k=>g(k.target.value),placeholder:"",rows:6})]})}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{type:"date",value:p,onChange:k=>x(k.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("input",{type:"date",value:y,onChange:k=>N(k.target.value)})]})]}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" *"}),t.jsx("div",{className:"role-checkboxes",children:Cg.map(k=>t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:A.includes(k.value),onChange:()=>me(k.value)}),t.jsx("span",{children:k.label})]},k.value))})]})}),t.jsx("div",{className:"form-row",children:t.jsx("div",{className:"form-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:C,onChange:k=>S(k.target.checked)}),t.jsx("span",{children:""})]})})}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>{r(!1),u(null),ge()},children:""}),t.jsx("button",{className:"btn-primary",onClick:c?X:ae,disabled:q.isPending||V.isPending,children:q.isPending||V.isPending?"...":c?"":""})]})]}),t.jsxs("div",{className:"announcement-list",children:[t.jsx("h3",{children:""}),z&&z.length>0?t.jsx("div",{className:"announcements-table",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:z.map(k=>t.jsxs("tr",{children:[t.jsx("td",{children:k.title}),t.jsx("td",{children:de(k.start_date)}),t.jsx("td",{children:de(k.end_date)}),t.jsx("td",{children:pe(k.target_roles)}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${k.is_published?"published":"draft"}`,children:k.is_published?"":""})}),t.jsx("td",{children:de(k.created_at)}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn-edit",onClick:()=>oe(k),children:""}),t.jsx("button",{className:"btn-delete",onClick:()=>ye(k.id),disabled:te.isPending,children:""})]})})]},k.id))})]})}):t.jsx("div",{className:"empty-state",children:""})]})]})}function Hw(){const[a,i]=j.useState("applications"),r=bt(),[c,u]=j.useState(""),[h,f]=j.useState(""),[m,g]=j.useState(""),[p,x]=j.useState(void 0),[y,N]=j.useState(void 0),[A,E]=j.useState(""),[C,S]=j.useState(""),[z,O]=j.useState(""),[q,V]=j.useState(""),[te,ge]=j.useState(""),[ae,oe]=j.useState(""),[X,ye]=j.useState(void 0),[me,de]=j.useState(void 0),[pe,k]=j.useState(""),[ne,w]=j.useState(""),[W,ce]=j.useState(""),[ve,Te]=j.useState(1),T=20,[$,Y]=j.useState(new Set),J=j.useRef(null),[le,Ne]=j.useState(null),[Oe,qe]=j.useState(!1),[ke,Ze]=j.useState(!1),[Yt,pt]=j.useState(!1),[Pe,it]=j.useState(void 0),[Me,gt]=j.useState(""),[Nt,_e]=j.useState(void 0),[tt,D]=j.useState(""),{data:B}=be({queryKey:["student-identities"],queryFn:dc}),{data:P}=be({queryKey:["programs"],queryFn:hc}),{data:he,isLoading:se}=be({queryKey:["document-reviewer","applications",q,te,ae,X,me,pe,ne,W,ve],queryFn:()=>Aw({uid:q||void 0,name:te||void 0,nationality:ae||void 0,program_id:X,student_identity_id:me,department_id:pe||void 0,status_filter:ne||void 0,document_review_status_filter:W||void 0,page:ve,page_size:T})}),{data:I}=be({queryKey:["document-reviewer","application",le],queryFn:()=>Dw(le),enabled:le!==null&&(Yt||Oe)}),{data:Se}=be({queryKey:["application-review",le],queryFn:()=>wd(le),enabled:le!==null&&Yt}),U=Ce({mutationFn:K=>Ow(le,K),onSuccess:()=>{r.invalidateQueries({queryKey:["document-reviewer","applications"]}),r.invalidateQueries({queryKey:["document-reviewer","application",le]}),qe(!1),it(void 0),gt(""),alert("")},onError:K=>{alert(`${K?.response?.data?.detail||K.message}`)}}),xe=Ce({mutationFn:K=>Mw(le,K),onSuccess:()=>{r.invalidateQueries({queryKey:["document-reviewer","applications"]}),r.invalidateQueries({queryKey:["document-reviewer","application",le]}),qe(!1),gt(""),alert("")},onError:K=>{alert(`${K?.response?.data?.detail||K.message}`)}}),Qe=Ce({mutationFn:K=>wg(le,K.score,K.comment),onSuccess:()=>{r.invalidateQueries({queryKey:["document-reviewer","applications"]}),r.invalidateQueries({queryKey:["document-reviewer","application",le]}),Ze(!1),_e(void 0),D(""),alert("")},onError:K=>{alert(`${K?.response?.data?.detail||K.message}`)}}),nt=Ce({mutationFn:()=>kw(le),onSuccess:()=>{r.invalidateQueries({queryKey:["document-reviewer","applications"]}),r.invalidateQueries({queryKey:["document-reviewer","application",le]}),pt(!1),alert("")},onError:K=>{alert(`${K?.response?.data?.detail||K.message}`)}}),vt=()=>{le&&window.confirm("")&&nt.mutate()},en=K=>{Ne(K),pt(!0)},ht=K=>{Ne(K);const St=he?.items.find(ln=>ln.id===K);St?.review?(it(St.review.score||void 0),gt(St.review.comment||"")):(it(void 0),gt("")),qe(!0)},Je=()=>{if(!le||!Me.trim()){alert("");return}xe.mutate(Me)},dt=()=>{le&&wg(le,Pe,Me||void 0).then(()=>{r.invalidateQueries({queryKey:["document-reviewer","applications"]}),r.invalidateQueries({queryKey:["document-reviewer","application",le]}),qe(!1),it(void 0),gt(""),alert("")}).catch(K=>{alert(`${K?.response?.data?.detail||K.message}`)})},b=()=>{le&&Qe.mutate({score:Nt,comment:tt||void 0})},Ee=K=>{le&&b()},fe=K=>K?{male:"",female:"",other:""}[K]||K:"-",je=K=>K?{pending:"",reviewed:"",returned:"",second_review_pending:"",second_review_completed:""}[K]||K:"",Le=K=>K?{submitted:"",accepted:"",rejected:""}[K]||K:"",_t=K=>K?new Date(K).toLocaleDateString("zh-TW"):"-",ot=()=>{V(c),ge(h),oe(m),ye(p),de(y),k(A),w(C),ce(z),Te(1)},an=()=>{u(""),f(""),g(""),x(void 0),N(void 0),E(""),S(""),O(""),V(""),ge(""),oe(""),ye(void 0),de(void 0),k(""),w(""),ce(""),Te(1),Y(new Set)},Sa=K=>{const St=new Set($);St.has(K)?St.delete(K):St.add(K),Y(St)},Zn=()=>{if(!he?.items)return;const K=new Set(he.items.map(En=>En.id)),St=K.every(En=>$.has(En)),ln=new Set($);St?K.forEach(En=>ln.delete(En)):K.forEach(En=>ln.add(En)),Y(ln)},sn=async()=>{if($.size===0){alert("");return}try{const K=await zw({application_ids:Array.from($)}),St=window.URL.createObjectURL(K),ln=document.createElement("a");ln.href=St;const En=new Date().toISOString().slice(0,19).replace(/:/g,"-");ln.download=`applications_export_${En}.csv`,document.body.appendChild(ln),ln.click(),document.body.removeChild(ln),window.URL.revokeObjectURL(St)}catch(K){alert(`${K?.response?.data?.detail||K.message}`)}},Cl=()=>!he?.items||he.items.length===0?!1:he.items.every(K=>$.has(K.id)),vi=()=>{if(!he?.items||he.items.length===0)return!1;const K=he.items.filter(St=>$.has(St.id)).length;return K>0&&K<he.items.length};return j.useEffect(()=>{if(J.current){const K=vi();J.current.indeterminate=K}},[$,he]),t.jsxs("div",{className:"document-reviewer-page",children:[t.jsx("div",{className:"page-header",children:t.jsx("h1",{children:"()"})}),t.jsxs("div",{className:"page-tabs",children:[t.jsx("button",{className:`tab-btn ${a==="applications"?"active":""}`,onClick:()=>i("applications"),children:""}),t.jsx("button",{className:`tab-btn ${a==="announcements"?"active":""}`,onClick:()=>i("announcements"),children:""})]}),a==="applications"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"search-filter-section",children:[t.jsxs("div",{className:"search-row",children:[t.jsxs("div",{className:"search-item",children:[t.jsx("label",{children:" (UID)"}),t.jsx("input",{type:"text",value:c,onChange:K=>u(K.target.value),placeholder:"ID",onKeyPress:K=>{K.key==="Enter"&&ot()}})]}),t.jsxs("div",{className:"search-item",children:[t.jsx("label",{children:" ()"}),t.jsx("input",{type:"text",value:h,onChange:K=>f(K.target.value),placeholder:"",onKeyPress:K=>{K.key==="Enter"&&ot()}})]})]}),t.jsxs("div",{className:"filter-row",children:[t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:m,onChange:K=>g(K.target.value),placeholder:"",onKeyPress:K=>{K.key==="Enter"&&ot()}})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:p||"",onChange:K=>{x(K.target.value?Number(K.target.value):void 0)},children:[t.jsx("option",{value:"",children:""}),P?.map(K=>t.jsx("option",{value:K.id,children:K.name},K.id))]})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:y||"",onChange:K=>{N(K.target.value?Number(K.target.value):void 0)},children:[t.jsx("option",{value:"",children:""}),B?.map(K=>t.jsx("option",{value:K.id,children:K.name},K.id))]})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:"/"}),t.jsx("input",{type:"text",value:A,onChange:K=>E(K.target.value),placeholder:"",onKeyPress:K=>{K.key==="Enter"&&ot()}})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:C,onChange:K=>S(K.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"submitted",children:""}),t.jsx("option",{value:"reviewed",children:""}),t.jsx("option",{value:"returned",children:""}),t.jsx("option",{value:"second_review_pending",children:""}),t.jsx("option",{value:"second_review_completed",children:""})]})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:z,onChange:K=>O(K.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"pending",children:""}),t.jsx("option",{value:"reviewed",children:""}),t.jsx("option",{value:"returned",children:""}),t.jsx("option",{value:"second_review_pending",children:""}),t.jsx("option",{value:"second_review_completed",children:""})]})]})]}),t.jsxs("div",{className:"search-actions",children:[t.jsx("button",{className:"btn-primary",onClick:ot,children:""}),t.jsx("button",{className:"btn-secondary",onClick:an,children:""})]})]}),t.jsx("div",{className:"table-section",children:se?t.jsx("div",{className:"loading",children:"..."}):t.jsxs(t.Fragment,{children:[he&&he.items.length>0&&t.jsx("div",{className:"table-actions",children:t.jsxs("button",{className:"btn-primary",onClick:sn,disabled:$.size===0,children:[" (",$.size,")"]})}),t.jsx("div",{className:"table-wrapper",children:t.jsxs("table",{className:"applications-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:t.jsx("input",{type:"checkbox",ref:J,checked:Cl(),onChange:Zn})}),t.jsx("th",{children:"No."}),t.jsx("th",{children:"UID"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:"1"}),t.jsx("th",{children:"2"}),t.jsx("th",{children:"3"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:"/"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:he?.items.map((K,St)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:$.has(K.id),onChange:()=>Sa(K.id)})}),t.jsx("td",{children:(ve-1)*T+St+1}),t.jsx("td",{children:K.id}),t.jsx("td",{children:K.student_name||"-"}),t.jsx("td",{children:K.nationality||"-"}),t.jsx("td",{children:fe(K.gender)}),t.jsx("td",{children:_t(K.birthday)}),t.jsx("td",{children:K.student_identity_name||"-"}),t.jsx("td",{children:K.program_name||"-"}),t.jsx("td",{children:K.department_1||"-"}),t.jsx("td",{children:K.department_2||"-"}),t.jsx("td",{children:K.department_3||"-"}),t.jsx("td",{children:K.mandarin_level||"-"}),t.jsx("td",{children:K.english_level||"-"}),t.jsx("td",{children:K.highest_education||"-"}),t.jsx("td",{children:K.graduated_department||"-"}),t.jsx("td",{children:t.jsx("button",{className:"btn-link",onClick:()=>en(K.id),children:""})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn-small btn-secondary",onClick:()=>en(K.id),children:""}),(K.document_review_status==="pending"||!K.document_review_status)&&t.jsx("button",{className:"btn-small btn-primary",onClick:()=>ht(K.id),children:""})]})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-${K.status||"submitted"}`,children:Le(K.status)})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-${K.document_review_status||"pending"}`,children:je(K.document_review_status)})})]},K.id))})]})}),he&&he.total>0&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{disabled:ve===1,onClick:()=>Te(ve-1),children:""}),t.jsxs("span",{children:[" ",ve," "," ",Math.ceil(he.total/T)," "," ",he.total," "]}),t.jsx("button",{disabled:ve>=Math.ceil(he.total/T),onClick:()=>Te(ve+1),children:""})]})]})}),Yt&&I&&t.jsx("div",{className:"modal-overlay",onClick:()=>pt(!1),children:t.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>pt(!1),children:""})]}),t.jsxs("div",{className:"modal-body",style:{maxHeight:"80vh",overflowY:"auto"},children:[t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsxs("p",{children:[t.jsx("strong",{children:"UID"}),I.id]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),I.student_email]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),_t(I.submitted_at)]})]}),Se?t.jsx(Qw,{review:Se}):I.form?t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsx("pre",{children:JSON.stringify(I.form,null,2)})]}):t.jsx("div",{className:"view-section",children:t.jsx("p",{children:"..."})}),I.documents.length>0&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsx("ul",{children:I.documents.map(K=>t.jsx("li",{children:t.jsxs("a",{href:K.file_url,target:"_blank",rel:"noopener noreferrer",children:[K.document_type," - ",K.file_name||""]})},K.id))})]}),I.review&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"review-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:""}),je(I.review.review_status)]}),I.review.score!==null&&I.review.score!==void 0&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),I.review.score," "]}),I.review.comment&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("div",{className:"review-comment-display",children:I.review.comment})]}),I.review.reviewed_at&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),new Date(I.review.reviewed_at).toLocaleString("zh-TW")]})]})]}),I.second_review&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"review-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:""}),I.second_review.score!==null&&I.second_review.score!==void 0?`${I.second_review.score} `:""]}),I.second_review.comment&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("div",{className:"review-comment-display",children:I.second_review.comment})]}),I.second_review.reviewed_at&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),new Date(I.second_review.reviewed_at).toLocaleString("zh-TW")]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[I.review&&t.jsx("button",{className:"btn-danger",onClick:vt,disabled:nt.isPending,children:nt.isPending?"...":""}),t.jsx("button",{className:"btn-secondary",onClick:()=>pt(!1),children:""})]})]})}),Oe&&I&&t.jsx("div",{className:"modal-overlay",onClick:()=>qe(!1),children:t.jsxs("div",{className:"modal-content review-modal",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>qe(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"review-header",children:t.jsxs("h3",{children:[I.id," - ",I.student_email]})}),t.jsxs("div",{className:"review-content",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{className:"comments-textarea",value:Me,onChange:K=>gt(K.target.value),placeholder:"...",rows:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" (0~100)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:Pe||"",onChange:K=>it(K.target.value?Number(K.target.value):void 0),placeholder:"0~100"}),t.jsx("small",{className:"form-hint",children:""})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn-secondary",onClick:Je,disabled:!Me.trim()||xe.isPending,children:xe.isPending?"...":""}),t.jsx("button",{className:"btn-primary",onClick:dt,disabled:U.isPending,children:U.isPending?"...":""})]})]})}),ke&&I&&t.jsx("div",{className:"modal-overlay",onClick:()=>Ze(!1),children:t.jsxs("div",{className:"modal-content review-modal",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>Ze(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"review-header",children:t.jsxs("h3",{children:[I.id," - ",I.student_email]})}),t.jsxs("div",{className:"review-content",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{className:"comments-textarea",value:tt,onChange:K=>D(K.target.value),placeholder:"...",rows:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" (0~100)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:Nt||"",onChange:K=>_e(K.target.value?Number(K.target.value):void 0),placeholder:"0~100"})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn-danger",onClick:()=>Ee(),disabled:Qe.isPending,children:Qe.isPending?"...":""}),t.jsx("button",{className:"btn-success",onClick:()=>Ee(),disabled:Qe.isPending,children:Qe.isPending?"...":""})]})]})})]}),a==="announcements"&&t.jsx("div",{className:"tab-content",children:t.jsx(Cd,{})})]})}function Qw({review:a}){const i={photo:" 2 ",national_id:"",diploma:"",transcript:"",mandarin_level:"",english_level:"",financial:"",check_doc_a:"",check_doc_b:"",enrollment_doc:"",study_plan:"",recommendation:""},r=c=>!c||c==="None"?"":{A1:"A1",A2:"A2",B1:"B1",B2:"B2",C1:"C1",C2:"C2",Native:""}[c]||c;return t.jsxs("div",{className:"review-full-data",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"review-summary",children:[t.jsx("h4",{children:""}),t.jsxs("div",{className:"summary-item",children:[t.jsx("strong",{children:""}),a.step2_identity?.name||""]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("strong",{children:""}),a.step3_program?.name||""]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("strong",{children:""}),a.step5_departments.length>0?a.step5_departments.map(c=>`${c.preference_order}. ${c.department_name}`).join(", "):""]})]}),a.step4_form_data?.personal&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"1. "}),t.jsxs("div",{className:"review-data-grid",children:[a.step4_form_data.personal.national_id&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.personal.national_id})]}),a.step4_form_data.personal.is_graduating!==void 0&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.personal.is_graduating?"":""})]}),a.step4_form_data?.personal?.contact_telephone&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.personal.contact_telephone})]}),a.step4_form_data?.personal?.household_address&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.personal.household_address})]})]})]}),a.step4_form_data?.education&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"2. "}),t.jsxs("div",{className:"review-data-grid",children:[a.step4_form_data.education.highest_education&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.education.highest_education})]}),a.step4_form_data.education.graduate_year_month&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.education.graduate_year_month})]})]})]}),a.step4_form_data?.language&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"3. "}),t.jsxs("div",{className:"review-data-grid",children:[a.step4_form_data.language.mandarin_level&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:r(a.step4_form_data.language.mandarin_level)})]}),a.step4_form_data.language.english_level&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:r(a.step4_form_data.language.english_level)})]})]})]}),a.step4_form_data?.financial&&a.step4_form_data.financial.financial_state!==void 0&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"4. "}),t.jsx("div",{className:"review-data-grid",children:t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsxs("span",{children:["NT$"," ",a.step4_form_data.financial.financial_state?.toLocaleString()||"-"]})]})})]}),a.step4_form_data?.other_info&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"5. "}),t.jsxs("div",{className:"review-data-grid",children:[a.step4_form_data.other_info.province&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.other_info.province})]}),a.step4_form_data.other_info.grade!==void 0&&a.step4_form_data.other_info.grade!==null&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.other_info.grade})]}),a.step4_form_data.other_info.has_visited_taiwan!==void 0&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.other_info.has_visited_taiwan?"":""})]}),a.step4_form_data.other_info.visit_history&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.other_info.visit_history})]}),a.step4_form_data.other_info.has_contact_in_taiwan!==void 0&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.other_info.has_contact_in_taiwan?"":""})]}),a.step4_form_data.other_info.contact_in_taiwan&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.other_info.contact_in_taiwan})]}),a.step4_form_data.other_info.recruit_channels&&a.step4_form_data.other_info.recruit_channels.length>0&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step4_form_data.other_info.recruit_channels.join(", ")})]})]})]}),a.step5_departments.length>0&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"6. "}),t.jsx("div",{className:"review-data-grid",children:a.step5_departments.map(c=>t.jsxs("div",{className:"data-item",children:[t.jsxs("strong",{children:[" ",c.preference_order," "]}),t.jsx("span",{children:c.department_name})]},c.preference_order))})]}),a.step6_additional&&(a.step6_additional.admission_channel||a.step6_additional.notes)&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"7. "}),t.jsxs("div",{className:"review-data-grid",children:[a.step6_additional.admission_channel&&t.jsxs("div",{className:"data-item",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step6_additional.admission_channel})]}),a.step6_additional.notes&&t.jsxs("div",{className:"data-item full-width",children:[t.jsx("strong",{children:""}),t.jsx("span",{children:a.step6_additional.notes})]})]})]}),a.documents_detail&&a.documents_detail.length>0&&t.jsxs("div",{className:"review-section-item",children:[t.jsx("h4",{children:"8. "}),t.jsx("div",{className:"review-documents-list",children:a.documents_detail.map(c=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-info",children:[t.jsxs("strong",{children:[i[c.document_type]||c.document_type,""]}),t.jsx("span",{className:"file-name",children:c.file_name}),c.uploaded_at&&t.jsxs("span",{className:"upload-time",children:["",new Date(c.uploaded_at).toLocaleString("zh-TW"),""]})]}),c.file_url&&t.jsx("a",{href:c.file_url,target:"_blank",rel:"noopener noreferrer",className:"btn-view-file",children:""})]},c.id))})]})]})}async function Kw(a={}){const{data:i}=await ue.get("/api/second-reviewer/applications",{params:a});return i}async function Vw(a){const{data:i}=await ue.get(`/api/second-reviewer/applications/${a}`);return i}async function $w(a,i){const{data:r}=await ue.post(`/api/second-reviewer/applications/${a}/review`,i);return r}async function Yw(a,i,r){const{data:c}=await ue.post(`/api/second-reviewer/applications/${a}/admit`,null,{params:{score:i,comment:r}});return c}async function Gw(a,i,r){const{data:c}=await ue.post(`/api/second-reviewer/applications/${a}/reject`,null,{params:{comment:i,score:r}});return c}async function Xw(a){const{data:i}=await ue.delete(`/api/second-reviewer/applications/${a}/review`);return i}async function Zw(a){const{data:i}=await ue.post("/api/second-reviewer/applications/export",a,{responseType:"blob"});return i}function Pw(){const[a,i]=j.useState("applications"),r=bt(),[c,u]=j.useState(""),[h,f]=j.useState(""),[m,g]=j.useState(""),[p,x]=j.useState(void 0),[y,N]=j.useState(void 0),[A,E]=j.useState(""),[C,S]=j.useState(""),[z,O]=j.useState(""),[q,V]=j.useState(""),[te,ge]=j.useState(""),[ae,oe]=j.useState(void 0),[X,ye]=j.useState(void 0),[me,de]=j.useState(""),[pe,k]=j.useState(""),[ne,w]=j.useState(1),W=20,[ce,ve]=j.useState(new Set),Te=j.useRef(null),[T,$]=j.useState(null),[Y,J]=j.useState(!1),[le,Ne]=j.useState(!1),[Oe,qe]=j.useState(void 0),[ke,Ze]=j.useState(""),{data:Yt}=be({queryKey:["student-identities"],queryFn:dc}),{data:pt}=be({queryKey:["programs"],queryFn:hc}),{data:Pe,isLoading:it}=be({queryKey:["second-reviewer","applications",z,q,te,ae,X,me,pe,ne],queryFn:()=>Kw({uid:z||void 0,name:q||void 0,nationality:te||void 0,program_id:ae,student_identity_id:X,department_id:me||void 0,status_filter:pe||void 0,page:ne,page_size:W})}),{data:Me}=be({queryKey:["second-reviewer","application",T],queryFn:()=>Vw(T),enabled:T!==null&&(le||Y)}),gt=Ce({mutationFn:b=>$w(T,b),onSuccess:()=>{r.invalidateQueries({queryKey:["second-reviewer","applications"]}),r.invalidateQueries({queryKey:["second-reviewer","application",T]}),alert("")},onError:b=>{alert(`${b?.response?.data?.detail||b.message}`)}}),Nt=Ce({mutationFn:()=>Yw(T,Oe,ke||void 0),onSuccess:()=>{r.invalidateQueries({queryKey:["second-reviewer","applications"]}),r.invalidateQueries({queryKey:["second-reviewer","application",T]}),J(!1),qe(void 0),Ze(""),alert("")},onError:b=>{alert(`${b?.response?.data?.detail||b.message}`)}}),_e=Ce({mutationFn:()=>Gw(T,ke,Oe),onSuccess:()=>{r.invalidateQueries({queryKey:["second-reviewer","applications"]}),r.invalidateQueries({queryKey:["second-reviewer","application",T]}),J(!1),qe(void 0),Ze(""),alert("")},onError:b=>{alert(`${b?.response?.data?.detail||b.message}`)}}),tt=Ce({mutationFn:()=>Xw(T),onSuccess:()=>{r.invalidateQueries({queryKey:["second-reviewer","applications"]}),r.invalidateQueries({queryKey:["second-reviewer","application",T]}),Ne(!1),alert("")},onError:b=>{alert(`${b?.response?.data?.detail||b.message}`)}}),D=()=>{T&&window.confirm("")&&tt.mutate()},B=b=>{$(b),Ne(!0)},P=b=>{$(b);const Ee=Pe?.items.find(fe=>fe.id===b);Ee?.review?(qe(Ee.review.score||void 0),Ze(Ee.review.comment||"")):(qe(void 0),Ze("")),J(!0)},he=()=>{T&&window.confirm("")&&Nt.mutate()},se=()=>{if(T){if(!ke.trim()){alert("");return}window.confirm("")&&_e.mutate()}},I=()=>{T&&gt.mutate({score:Oe,comment:ke||void 0,review_status:"second_review_pending"})},Se=b=>b?{male:"",female:"",other:""}[b]||b:"-",U=b=>b?{submitted:"",accepted:"",rejected:""}[b]||b:"",xe=b=>b?new Date(b).toLocaleDateString("zh-TW"):"-",Qe=()=>{O(c),V(h),ge(m),oe(p),ye(y),de(A),k(C),w(1)},nt=()=>{u(""),f(""),g(""),x(void 0),N(void 0),E(""),S(""),O(""),V(""),ge(""),oe(void 0),ye(void 0),de(""),k(""),w(1),ve(new Set)},vt=b=>{const Ee=new Set(ce);Ee.has(b)?Ee.delete(b):Ee.add(b),ve(Ee)},en=()=>{if(!Pe?.items)return;const b=new Set(Pe.items.map(je=>je.id)),Ee=b.every(je=>ce.has(je)),fe=new Set(ce);Ee?b.forEach(je=>fe.delete(je)):b.forEach(je=>fe.add(je)),ve(fe)},ht=async()=>{if(ce.size===0){alert("");return}try{const b=await Zw({application_ids:Array.from(ce)}),Ee=window.URL.createObjectURL(b),fe=document.createElement("a");fe.href=Ee;const je=new Date().toISOString().slice(0,19).replace(/:/g,"-");fe.download=`applications_export_${je}.csv`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),window.URL.revokeObjectURL(Ee)}catch(b){alert(`${b?.response?.data?.detail||b.message}`)}},Je=()=>!Pe?.items||Pe.items.length===0?!1:Pe.items.every(b=>ce.has(b.id)),dt=()=>{if(!Pe?.items||Pe.items.length===0)return!1;const b=Pe.items.filter(Ee=>ce.has(Ee.id)).length;return b>0&&b<Pe.items.length};return j.useEffect(()=>{if(Te.current){const b=dt();Te.current.indeterminate=b}},[ce,Pe]),t.jsxs("div",{className:"document-reviewer-page",children:[t.jsx("div",{className:"page-header",children:t.jsx("h1",{children:""})}),t.jsxs("div",{className:"page-tabs",children:[t.jsx("button",{className:`tab-btn ${a==="applications"?"active":""}`,onClick:()=>i("applications"),children:""}),t.jsx("button",{className:`tab-btn ${a==="announcements"?"active":""}`,onClick:()=>i("announcements"),children:""})]}),a==="applications"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"search-filter-section",children:[t.jsxs("div",{className:"search-row",children:[t.jsxs("div",{className:"search-item",children:[t.jsx("label",{children:" (UID)"}),t.jsx("input",{type:"text",value:c,onChange:b=>u(b.target.value),placeholder:"ID",onKeyPress:b=>{b.key==="Enter"&&Qe()}})]}),t.jsxs("div",{className:"search-item",children:[t.jsx("label",{children:" ()"}),t.jsx("input",{type:"text",value:h,onChange:b=>f(b.target.value),placeholder:"",onKeyPress:b=>{b.key==="Enter"&&Qe()}})]})]}),t.jsxs("div",{className:"filter-row",children:[t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:m,onChange:b=>g(b.target.value),placeholder:"",onKeyPress:b=>{b.key==="Enter"&&Qe()}})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:p||"",onChange:b=>{x(b.target.value?Number(b.target.value):void 0)},children:[t.jsx("option",{value:"",children:""}),pt?.map(b=>t.jsx("option",{value:b.id,children:b.name},b.id))]})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:y||"",onChange:b=>{N(b.target.value?Number(b.target.value):void 0)},children:[t.jsx("option",{value:"",children:""}),Yt?.map(b=>t.jsx("option",{value:b.id,children:b.name},b.id))]})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:"/"}),t.jsx("input",{type:"text",value:A,onChange:b=>E(b.target.value),placeholder:"",onKeyPress:b=>{b.key==="Enter"&&Qe()}})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:C,onChange:b=>S(b.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"submitted",children:""}),t.jsx("option",{value:"accepted",children:""}),t.jsx("option",{value:"rejected",children:""})]})]}),t.jsx("div",{className:"filter-item"})]}),t.jsxs("div",{className:"search-actions",children:[t.jsx("button",{className:"btn-primary",onClick:Qe,children:""}),t.jsx("button",{className:"btn-secondary",onClick:nt,children:""})]})]}),t.jsx("div",{className:"table-section",children:it?t.jsx("div",{className:"loading",children:"..."}):t.jsxs(t.Fragment,{children:[Pe&&Pe.items.length>0&&t.jsx("div",{className:"table-actions",children:t.jsxs("button",{className:"btn-primary",onClick:ht,disabled:ce.size===0,children:[" (",ce.size,")"]})}),t.jsx("div",{className:"table-wrapper",children:t.jsxs("table",{className:"applications-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:t.jsx("input",{type:"checkbox",ref:Te,checked:Je(),onChange:en})}),t.jsx("th",{children:"No."}),t.jsx("th",{children:"UID"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:"1"}),t.jsx("th",{children:"2"}),t.jsx("th",{children:"3"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:Pe?.items.map((b,Ee)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:ce.has(b.id),onChange:()=>vt(b.id)})}),t.jsx("td",{children:(ne-1)*W+Ee+1}),t.jsx("td",{children:b.id}),t.jsx("td",{children:b.student_name||"-"}),t.jsx("td",{children:b.nationality||"-"}),t.jsx("td",{children:Se(b.gender)}),t.jsx("td",{children:xe(b.birthday)}),t.jsx("td",{children:b.student_identity_name||"-"}),t.jsx("td",{children:b.program_name||"-"}),t.jsx("td",{children:b.department_1||"-"}),t.jsx("td",{children:b.department_2||"-"}),t.jsx("td",{children:b.department_3||"-"}),t.jsx("td",{children:b.mandarin_level||"-"}),t.jsx("td",{children:b.english_level||"-"}),t.jsx("td",{children:b.highest_education||"-"}),t.jsx("td",{children:t.jsx("button",{className:"btn-link",onClick:()=>B(b.id),children:""})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn-small btn-secondary",onClick:()=>B(b.id),children:""}),b.status==="submitted"&&t.jsx("button",{className:"btn-small btn-primary",onClick:()=>P(b.id),children:""})]})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-${b.status||"submitted"}`,children:U(b.status)})})]},b.id))})]})}),Pe&&Pe.total>0&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{disabled:ne===1,onClick:()=>w(ne-1),children:""}),t.jsxs("span",{children:[" ",ne," "," ",Math.ceil(Pe.total/W)," "," ",Pe.total," "]}),t.jsx("button",{disabled:ne>=Math.ceil(Pe.total/W),onClick:()=>w(ne+1),children:""})]})]})}),le&&Me&&t.jsx("div",{className:"modal-overlay",onClick:()=>Ne(!1),children:t.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>Ne(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsxs("p",{children:[t.jsx("strong",{children:"UID"}),Me.id]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email"}),Me.student_email]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),xe(Me.submitted_at)]})]}),Me.form&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsx("pre",{children:JSON.stringify(Me.form,null,2)})]}),Me.documents.length>0&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsx("ul",{children:Me.documents.map(b=>t.jsx("li",{children:t.jsxs("a",{href:b.file_url,target:"_blank",rel:"noopener noreferrer",children:[b.document_type," - ",b.file_name||""]})},b.id))})]}),Me.initial_review&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"review-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:""}),Me.initial_review.score!==null&&Me.initial_review.score!==void 0?`${Me.initial_review.score} `:""]}),Me.initial_review.comment&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("div",{className:"review-comment-display",children:Me.initial_review.comment})]}),Me.initial_review.reviewed_at&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),new Date(Me.initial_review.reviewed_at).toLocaleString("zh-TW")]})]})]}),Me.review&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsxs("div",{className:"review-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:""}),Me.review.score!==null&&Me.review.score!==void 0?`${Me.review.score} `:""]}),Me.review.comment&&t.jsxs("div",{children:[t.jsx("strong",{children:""}),t.jsx("div",{className:"review-comment-display",children:Me.review.comment})]}),Me.review.reviewed_at&&t.jsxs("p",{children:[t.jsx("strong",{children:""}),new Date(Me.review.reviewed_at).toLocaleString("zh-TW")]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[Me.review&&t.jsx("button",{className:"btn-danger",onClick:D,disabled:tt.isPending,children:tt.isPending?"...":""}),t.jsx("button",{className:"btn-secondary",onClick:()=>Ne(!1),children:""})]})]})}),Y&&Me&&t.jsx("div",{className:"modal-overlay",onClick:()=>J(!1),children:t.jsxs("div",{className:"modal-content review-modal",onClick:b=>b.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>J(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"review-header",children:t.jsxs("h3",{children:[Me.id," - ",Me.student_email]})}),t.jsxs("div",{className:"review-content",children:[Me.initial_review&&t.jsxs("div",{className:"initial-review-section",children:[t.jsx("h4",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("div",{className:"readonly-text",children:Me.initial_review.comment||""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("div",{className:"readonly-text",children:Me.initial_review.score!==null&&Me.initial_review.score!==void 0?`${Me.initial_review.score} `:""})]})]}),t.jsxs("div",{className:"second-review-section",children:[t.jsx("h4",{children:""}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{className:"comments-textarea",value:ke,onChange:b=>Ze(b.target.value),placeholder:"...",rows:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:" (0~100)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:Oe||"",onChange:b=>qe(b.target.value?Number(b.target.value):void 0),placeholder:"0~100"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn-secondary",onClick:I,disabled:gt.isPending,children:gt.isPending?"...":""}),t.jsx("button",{className:"btn-danger",onClick:se,disabled:!ke.trim()||_e.isPending,children:_e.isPending?"...":""}),t.jsx("button",{className:"btn-success",onClick:he,disabled:Nt.isPending,children:Nt.isPending?"...":""})]})]})})]}),a==="announcements"&&t.jsx("div",{className:"tab-content",children:t.jsx(Cd,{})})]})}async function Jw(a={}){const{data:i}=await ue.get("/api/administrative-unit/applications",{params:a});return i}async function Eg(a){const{data:i}=await ue.get(`/api/administrative-unit/applications/${a}`);return i}async function Qr(a,i){const{data:r}=await ue.put(`/api/administrative-unit/applications/${a}/review`,i);return r}function Ww(){const[a,i]=j.useState("applications"),r=bt(),[c,u]=j.useState(""),[h,f]=j.useState(""),[m,g]=j.useState(""),[p,x]=j.useState(void 0),[y,N]=j.useState(void 0),[A,E]=j.useState(""),[C,S]=j.useState(""),[z,O]=j.useState(""),[q,V]=j.useState(""),[te,ge]=j.useState(""),[ae,oe]=j.useState(void 0),[X,ye]=j.useState(void 0),[me,de]=j.useState(""),[pe,k]=j.useState(""),[ne,w]=j.useState(1),W=20,[ce,ve]=j.useState(null),[Te,T]=j.useState(!1),[$,Y]=j.useState(!1),[J,le]=j.useState(""),[Ne,Oe]=j.useState(""),[qe,ke]=j.useState(""),[Ze,Yt]=j.useState(""),[pt,Pe]=j.useState([]),[it,Me]=j.useState(new Map),[gt,Nt]=j.useState(new Map),[_e,tt]=j.useState(new Map),{data:D}=be({queryKey:["student-identities"],queryFn:dc}),{data:B}=be({queryKey:["programs"],queryFn:hc}),{data:P,isLoading:he}=be({queryKey:["administrative-unit","applications",z,q,te,ae,X,me,pe,ne],queryFn:()=>Jw({uid:z||void 0,name:q||void 0,nationality:te||void 0,program_id:ae,student_identity_id:X,department_id:me||void 0,status_filter:pe||void 0,page:ne,page_size:W})}),{data:se}=be({queryKey:["administrative-unit","application",ce],queryFn:()=>Eg(ce),enabled:ce!==null&&($||Te)}),I=Ce({mutationFn:b=>Qr(ce,b),onSuccess:()=>{r.invalidateQueries({queryKey:["administrative-unit","applications"]}),r.invalidateQueries({queryKey:["administrative-unit","application",ce]}),T(!1),alert("")},onError:b=>{alert(`${b?.response?.data?.detail||b.message}`)}}),Se=Ce({mutationFn:({appId:b,moeApprovalDocNo:Ee})=>Qr(b,{moe_approval_doc_no:Ee||void 0}),onSuccess:()=>{r.invalidateQueries({queryKey:["administrative-unit","applications"]}),r.invalidateQueries({queryKey:["administrative-unit","application"]})},onError:b=>{alert(`${b?.response?.data?.detail||b.message}`)}}),U=Ce({mutationFn:({appId:b,scholarshipLevel:Ee})=>Qr(b,{scholarship_level:Ee||void 0}),onSuccess:()=>{r.invalidateQueries({queryKey:["administrative-unit","applications"]}),r.invalidateQueries({queryKey:["administrative-unit","application"]})},onError:b=>{alert(`${b?.response?.data?.detail||b.message}`)}}),xe=async(b,Ee,fe,je)=>{try{const Le=await Eg(b),_t=Le.departments.find(sn=>sn.preference_order===Ee);if(!_t||!_t.department_id){alert("");return}const ot=Le.department_admissions||[],an=ot.map(sn=>sn.preference_order===Ee?{department_id:sn.department_id,preference_order:Ee,admission_status:fe,waitlist_number:je}:{department_id:sn.department_id,preference_order:sn.preference_order,admission_status:sn.admission_status,waitlist_number:sn.waitlist_number});ot.find(sn=>sn.preference_order===Ee)||an.push({department_id:_t.department_id,preference_order:Ee,admission_status:fe,waitlist_number:je}),await Qr(b,{department_admissions:an}),r.invalidateQueries({queryKey:["administrative-unit","applications"]}),r.invalidateQueries({queryKey:["administrative-unit","application",b]});const Sa=`${b}_${Ee}`,Zn=new Map(_e);Zn.delete(Sa),tt(Zn)}catch(Le){alert(`${Le?.response?.data?.detail||Le.message}`);const _t=`${b}_${Ee}`,ot=new Map(_e);ot.delete(_t),tt(ot)}},Qe=b=>{ve(b),Y(!0)};j.useEffect(()=>{if(se&&Te){le(se.scholarship_level||""),Oe(se.admission_review_meeting||"");const b=se.moe_approval_doc_no||"";ke(b),Yt(b);const Ee=se.department_admissions.map(fe=>({department_id:fe.department_id,preference_order:fe.preference_order,admission_status:fe.admission_status,waitlist_number:fe.waitlist_number}));Pe(Ee)}},[se,Te]);const nt=()=>{ce&&I.mutate({scholarship_level:J||void 0,admission_review_meeting:Ne||void 0,moe_approval_doc_no:qe||void 0,department_admissions:pt.length>0?pt:void 0})},vt=(b,Ee,fe)=>{Pe(je=>{if(je.find(_t=>_t.preference_order===b))return je.map(_t=>_t.preference_order===b?{..._t,[Ee]:fe}:_t);{const ot={department_id:se?.departments.find(an=>an.preference_order===b)?.department_id||"",preference_order:b,admission_status:Ee==="admission_status"?fe:"pending",waitlist_number:Ee==="waitlist_number"?fe:void 0};return[...je,ot]}})},en=b=>b?{male:"",female:"",other:""}[b]||b:"-",ht=b=>b?new Date(b).toLocaleDateString("zh-TW"):"-",Je=()=>{O(c),V(h),ge(m),oe(p),ye(y),de(A),k(C),w(1)},dt=()=>{u(""),f(""),g(""),x(void 0),N(void 0),E(""),S(""),O(""),V(""),ge(""),oe(void 0),ye(void 0),de(""),k(""),w(1)};return t.jsxs("div",{className:"document-reviewer-page",children:[t.jsx("div",{className:"page-header",children:t.jsx("h1",{children:""})}),t.jsxs("div",{className:"page-tabs",children:[t.jsx("button",{className:`tab-btn ${a==="applications"?"active":""}`,onClick:()=>i("applications"),children:""}),t.jsx("button",{className:`tab-btn ${a==="announcements"?"active":""}`,onClick:()=>i("announcements"),children:""})]}),a==="applications"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"search-filter-section",children:[t.jsxs("div",{className:"search-row",children:[t.jsxs("div",{className:"search-item",children:[t.jsx("label",{children:" (UID)"}),t.jsx("input",{type:"text",value:c,onChange:b=>u(b.target.value),placeholder:"ID",onKeyPress:b=>{b.key==="Enter"&&Je()}})]}),t.jsxs("div",{className:"search-item",children:[t.jsx("label",{children:" ()"}),t.jsx("input",{type:"text",value:h,onChange:b=>f(b.target.value),placeholder:"",onKeyPress:b=>{b.key==="Enter"&&Je()}})]})]}),t.jsxs("div",{className:"filter-row",children:[t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:m,onChange:b=>g(b.target.value),placeholder:"",onKeyPress:b=>{b.key==="Enter"&&Je()}})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:p||"",onChange:b=>{x(b.target.value?Number(b.target.value):void 0)},children:[t.jsx("option",{value:"",children:""}),B?.map(b=>t.jsx("option",{value:b.id,children:b.name},b.id))]})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:y||"",onChange:b=>{N(b.target.value?Number(b.target.value):void 0)},children:[t.jsx("option",{value:"",children:""}),D?.map(b=>t.jsx("option",{value:b.id,children:b.name},b.id))]})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:"/"}),t.jsx("input",{type:"text",value:A,onChange:b=>E(b.target.value),placeholder:"",onKeyPress:b=>{b.key==="Enter"&&Je()}})]}),t.jsxs("div",{className:"filter-item",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:C,onChange:b=>S(b.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"accepted",children:""}),t.jsx("option",{value:"rejected",children:""})]})]}),t.jsx("div",{className:"filter-item"})]}),t.jsxs("div",{className:"search-actions",children:[t.jsx("button",{className:"btn-primary",onClick:Je,children:""}),t.jsx("button",{className:"btn-secondary",onClick:dt,children:""})]})]}),t.jsx("div",{className:"table-section",children:he?t.jsx("div",{className:"loading",children:"..."}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"table-wrapper",children:t.jsxs("table",{className:"applications-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"No."}),t.jsx("th",{children:"UID"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:"1"}),t.jsx("th",{children:""}),t.jsx("th",{children:"2"}),t.jsx("th",{children:""}),t.jsx("th",{children:"3"}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""}),t.jsx("th",{children:""})]})}),t.jsx("tbody",{children:P?.items.map((b,Ee)=>t.jsxs("tr",{children:[t.jsx("td",{children:(ne-1)*W+Ee+1}),t.jsx("td",{children:b.id}),t.jsx("td",{children:b.student_name||"-"}),t.jsx("td",{children:b.nationality||"-"}),t.jsx("td",{children:en(b.gender)}),t.jsx("td",{children:ht(b.birthday)}),t.jsx("td",{children:b.student_identity_name||"-"}),t.jsx("td",{children:b.program_name||"-"}),t.jsx("td",{children:b.department_1||"-"}),t.jsx("td",{children:b.department_1?t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",minWidth:"120px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_1`)?.status??b.department_1_status)==="admitted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_1`,checked:(_e.get(`${b.id}_1`)?.status??b.department_1_status)==="admitted",onChange:()=>{const fe=`${b.id}_1`;_e.get(fe);const je=new Map(_e);je.set(fe,{status:"admitted",waitlistNumber:void 0}),tt(je),xe(b.id,1,"admitted",void 0)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_1`)?.status??b.department_1_status)==="waitlisted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px",flex:"0 0 auto"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_1`,checked:(_e.get(`${b.id}_1`)?.status??b.department_1_status)==="waitlisted",onChange:()=>{const fe=`${b.id}_1`,je=_e.get(fe),Le=new Map(_e);Le.set(fe,{status:"waitlisted",waitlistNumber:je?.waitlistNumber??b.department_1_waitlist}),tt(Le),xe(b.id,1,"waitlisted",je?.waitlistNumber??b.department_1_waitlist)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]}),(_e.get(`${b.id}_1`)?.status??b.department_1_status)==="waitlisted"&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2px"},children:[t.jsx("span",{style:{fontSize:"11px",color:"#666"},children:"#"}),t.jsx("input",{type:"number",min:"1",value:_e.get(`${b.id}_1`)?.waitlistNumber??b.department_1_waitlist??"",onChange:fe=>{const je=`${b.id}_1`;_e.get(je);const Le=new Map(_e);Le.set(je,{status:"waitlisted",waitlistNumber:fe.target.value?Number(fe.target.value):void 0}),tt(Le)},onBlur:()=>{const fe=`${b.id}_1`,je=_e.get(fe);je?.status==="waitlisted"&&xe(b.id,1,je.status,je.waitlistNumber)},style:{width:"45px",padding:"2px 4px",border:"1px dashed #999",borderRadius:"4px",fontSize:"11px"}})]})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_1`)?.status??b.department_1_status)==="rejected"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_1`,checked:(_e.get(`${b.id}_1`)?.status??b.department_1_status)==="rejected",onChange:()=>{const fe=`${b.id}_1`,je=new Map(_e);je.set(fe,{status:"rejected",waitlistNumber:void 0}),tt(je),xe(b.id,1,"rejected",void 0)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]})]}):"-"}),t.jsx("td",{children:b.department_2||"-"}),t.jsx("td",{children:b.department_2?t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",minWidth:"120px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_2`)?.status??b.department_2_status)==="admitted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_2`,checked:(_e.get(`${b.id}_2`)?.status??b.department_2_status)==="admitted",onChange:()=>{const fe=`${b.id}_2`,je=new Map(_e);je.set(fe,{status:"admitted",waitlistNumber:void 0}),tt(je),xe(b.id,2,"admitted",void 0)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_2`)?.status??b.department_2_status)==="waitlisted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px",flex:"0 0 auto"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_2`,checked:(_e.get(`${b.id}_2`)?.status??b.department_2_status)==="waitlisted",onChange:()=>{const fe=`${b.id}_2`,je=_e.get(fe),Le=new Map(_e);Le.set(fe,{status:"waitlisted",waitlistNumber:je?.waitlistNumber??b.department_2_waitlist}),tt(Le),xe(b.id,2,"waitlisted",je?.waitlistNumber??b.department_2_waitlist)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]}),(_e.get(`${b.id}_2`)?.status??b.department_2_status)==="waitlisted"&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2px"},children:[t.jsx("span",{style:{fontSize:"11px",color:"#666"},children:"#"}),t.jsx("input",{type:"number",min:"1",value:_e.get(`${b.id}_2`)?.waitlistNumber??b.department_2_waitlist??"",onChange:fe=>{const je=`${b.id}_2`;_e.get(je);const Le=new Map(_e);Le.set(je,{status:"waitlisted",waitlistNumber:fe.target.value?Number(fe.target.value):void 0}),tt(Le)},onBlur:()=>{const fe=`${b.id}_2`,je=_e.get(fe);je?.status==="waitlisted"&&xe(b.id,2,je.status,je.waitlistNumber)},style:{width:"45px",padding:"2px 4px",border:"1px dashed #999",borderRadius:"4px",fontSize:"11px"}})]})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_2`)?.status??b.department_2_status)==="rejected"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_2`,checked:(_e.get(`${b.id}_2`)?.status??b.department_2_status)==="rejected",onChange:()=>{const fe=`${b.id}_2`,je=new Map(_e);je.set(fe,{status:"rejected",waitlistNumber:void 0}),tt(je),xe(b.id,2,"rejected",void 0)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]})]}):"-"}),t.jsx("td",{children:b.department_3||"-"}),t.jsx("td",{children:b.department_3?t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",minWidth:"120px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_3`)?.status??b.department_3_status)==="admitted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_3`,checked:(_e.get(`${b.id}_3`)?.status??b.department_3_status)==="admitted",onChange:()=>{const fe=`${b.id}_3`,je=new Map(_e);je.set(fe,{status:"admitted",waitlistNumber:void 0}),tt(je),xe(b.id,3,"admitted",void 0)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_3`)?.status??b.department_3_status)==="waitlisted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px",flex:"0 0 auto"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_3`,checked:(_e.get(`${b.id}_3`)?.status??b.department_3_status)==="waitlisted",onChange:()=>{const fe=`${b.id}_3`,je=_e.get(fe),Le=new Map(_e);Le.set(fe,{status:"waitlisted",waitlistNumber:je?.waitlistNumber??b.department_3_waitlist}),tt(Le),xe(b.id,3,"waitlisted",je?.waitlistNumber??b.department_3_waitlist)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]}),(_e.get(`${b.id}_3`)?.status??b.department_3_status)==="waitlisted"&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2px"},children:[t.jsx("span",{style:{fontSize:"11px",color:"#666"},children:"#"}),t.jsx("input",{type:"number",min:"1",value:_e.get(`${b.id}_3`)?.waitlistNumber??b.department_3_waitlist??"",onChange:fe=>{const je=`${b.id}_3`;_e.get(je);const Le=new Map(_e);Le.set(je,{status:"waitlisted",waitlistNumber:fe.target.value?Number(fe.target.value):void 0}),tt(Le)},onBlur:()=>{const fe=`${b.id}_3`,je=_e.get(fe);je?.status==="waitlisted"&&xe(b.id,3,je.status,je.waitlistNumber)},style:{width:"45px",padding:"2px 4px",border:"1px dashed #999",borderRadius:"4px",fontSize:"11px"}})]})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",backgroundColor:(_e.get(`${b.id}_3`)?.status??b.department_3_status)==="rejected"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.id}_3`,checked:(_e.get(`${b.id}_3`)?.status??b.department_3_status)==="rejected",onChange:()=>{const fe=`${b.id}_3`,je=new Map(_e);je.set(fe,{status:"rejected",waitlistNumber:void 0}),tt(je),xe(b.id,3,"rejected",void 0)},style:{width:"14px",height:"14px",cursor:"pointer",marginRight:"6px"}}),t.jsx("span",{children:""})]})]}):"-"}),t.jsx("td",{children:t.jsxs("select",{value:gt.get(b.id)??(b.scholarship_level||""),onChange:fe=>{const je=fe.target.value,Le=new Map(gt);Le.set(b.id,je),Nt(Le);const _t=b.scholarship_level||"";if(je!==_t)U.mutate({appId:b.id,scholarshipLevel:je},{onSuccess:()=>{const ot=new Map(gt);ot.delete(b.id),Nt(ot)},onError:()=>{const ot=new Map(gt);ot.set(b.id,_t),Nt(ot)}});else{const ot=new Map(gt);ot.delete(b.id),Nt(ot)}},style:{width:"100%",padding:"4px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"inherit"},disabled:U.isPending,children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:" ()",children:" ()"}),t.jsx("option",{value:" ()",children:" ()"}),t.jsx("option",{value:"",children:""})]})}),t.jsx("td",{children:b.admission_review_meeting||"-"}),t.jsx("td",{children:t.jsx("input",{type:"text",value:it.get(b.id)??(b.moe_approval_doc_no||""),onChange:fe=>{const je=new Map(it);je.set(b.id,fe.target.value),Me(je)},onBlur:()=>{const fe=it.get(b.id)??(b.moe_approval_doc_no||""),je=b.moe_approval_doc_no||"";if(fe!==je)Se.mutate({appId:b.id,moeApprovalDocNo:fe},{onSuccess:()=>{const Le=new Map(it);Le.delete(b.id),Me(Le)},onError:()=>{const Le=new Map(it);Le.set(b.id,je),Me(Le)}});else{const Le=new Map(it);Le.delete(b.id),Me(Le)}},onKeyPress:fe=>{fe.key==="Enter"&&fe.currentTarget.blur()},style:{width:"100%",padding:"4px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"inherit"},disabled:Se.isPending})}),t.jsx("td",{children:t.jsx("button",{className:"btn-link",onClick:()=>Qe(b.id),children:""})})]},b.id))})]})}),P&&P.total>0&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{disabled:ne===1,onClick:()=>w(ne-1),children:""}),t.jsxs("span",{children:[" ",ne,"  ",Math.ceil(P.total/W),"  ",P.total," "]}),t.jsx("button",{disabled:ne>=Math.ceil(P.total/W),onClick:()=>w(ne+1),children:""})]})]})}),$&&se&&t.jsx("div",{className:"modal-overlay",onClick:()=>Y(!1),children:t.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>Y(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsxs("p",{children:[t.jsx("strong",{children:"UID"}),se.id]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email"}),se.student_email]}),t.jsxs("p",{children:[t.jsx("strong",{children:""}),ht(se.submitted_at)]})]}),se.form&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsx("pre",{children:JSON.stringify(se.form,null,2)})]}),se.documents.length>0&&t.jsxs("div",{className:"view-section",children:[t.jsx("h3",{children:""}),t.jsx("ul",{children:se.documents.map(b=>t.jsx("li",{children:t.jsxs("a",{href:b.file_url,target:"_blank",rel:"noopener noreferrer",children:[b.document_type," - ",b.file_name||""]})},b.id))})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{className:"btn-secondary",onClick:()=>Y(!1),children:""})})]})}),Te&&se&&t.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:t.jsxs("div",{className:"modal-content review-modal",onClick:b=>b.stopPropagation(),style:{maxWidth:"800px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:""}),t.jsx("button",{className:"btn-close",onClick:()=>T(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"review-header",children:t.jsxs("h3",{children:[se.id," - ",se.student_email]})}),t.jsxs("div",{className:"review-content",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsxs("select",{value:J,onChange:b=>le(b.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:" ()",children:" ()"}),t.jsx("option",{value:" ()",children:" ()"}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("textarea",{value:Ne,onChange:b=>Oe(b.target.value),placeholder:"...",rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("input",{type:"text",value:qe,onChange:b=>ke(b.target.value),onBlur:()=>{ce&&qe!==Ze&&Se.mutate({appId:ce,moeApprovalDocNo:qe},{onSuccess:()=>{Yt(qe)}})},onKeyPress:b=>{b.key==="Enter"&&ce&&b.currentTarget.blur()},placeholder:"...",disabled:Se.isPending}),Se.isPending&&t.jsx("small",{style:{color:"#666",marginTop:"4px",display:"block"},children:"..."})]}),se.departments.map(b=>{const Ee=pt.find(fe=>fe.preference_order===b.preference_order);return t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["",b.preference_order," - ",b.department_name]}),t.jsxs("div",{style:{marginTop:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:600,color:"#333"},children:""}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"8px 12px",backgroundColor:Ee?.admission_status==="admitted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",transition:"all 0.2s"},onMouseEnter:fe=>{Ee?.admission_status!=="admitted"&&(fe.currentTarget.style.backgroundColor="#ececec")},onMouseLeave:fe=>{Ee?.admission_status!=="admitted"&&(fe.currentTarget.style.backgroundColor="#f5f5f5")},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.preference_order}`,checked:Ee?.admission_status==="admitted",onChange:()=>vt(b.preference_order,"admission_status","admitted"),style:{width:"18px",height:"18px",cursor:"pointer",marginRight:"8px"}}),t.jsx("span",{style:{fontSize:"14px",color:"#333"},children:""})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"8px 12px",backgroundColor:Ee?.admission_status==="waitlisted"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",transition:"all 0.2s",flex:"0 0 auto"},onMouseEnter:fe=>{Ee?.admission_status!=="waitlisted"&&(fe.currentTarget.style.backgroundColor="#ececec")},onMouseLeave:fe=>{Ee?.admission_status!=="waitlisted"&&(fe.currentTarget.style.backgroundColor="#f5f5f5")},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.preference_order}`,checked:Ee?.admission_status==="waitlisted",onChange:()=>vt(b.preference_order,"admission_status","waitlisted"),style:{width:"18px",height:"18px",cursor:"pointer",marginRight:"8px"}}),t.jsx("span",{style:{fontSize:"14px",color:"#333"},children:""})]}),Ee?.admission_status==="waitlisted"&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{color:"#666",fontSize:"14px"},children:"#"}),t.jsx("input",{type:"number",min:"1",value:Ee.waitlist_number||"",onChange:fe=>vt(b.preference_order,"waitlist_number",fe.target.value?Number(fe.target.value):void 0),placeholder:"",style:{width:"80px",padding:"4px 8px",border:"1px dashed #999",borderRadius:"4px",fontSize:"14px",backgroundColor:"#fff"}})]})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"8px 12px",backgroundColor:Ee?.admission_status==="rejected"?"#e8f4f8":"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",transition:"all 0.2s"},onMouseEnter:fe=>{Ee?.admission_status!=="rejected"&&(fe.currentTarget.style.backgroundColor="#ececec")},onMouseLeave:fe=>{Ee?.admission_status!=="rejected"&&(fe.currentTarget.style.backgroundColor="#f5f5f5")},children:[t.jsx("input",{type:"radio",name:`admission_status_${b.preference_order}`,checked:Ee?.admission_status==="rejected",onChange:()=>vt(b.preference_order,"admission_status","rejected"),style:{width:"18px",height:"18px",cursor:"pointer",marginRight:"8px"}}),t.jsx("span",{style:{fontSize:"14px",color:"#333"},children:""})]})]})]})]},b.preference_order)})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>T(!1),children:""}),t.jsx("button",{className:"btn-primary",onClick:nt,disabled:I.isPending,children:I.isPending?"...":""})]})]})})]}),a==="announcements"&&t.jsx("div",{className:"tab-content",children:t.jsx(Cd,{})})]})}function Iw(){const[a,i]=j.useState(new Set),{data:r,isLoading:c,error:u}=be({queryKey:["announcements","visible"],queryFn:Fw}),h=p=>{const x=new Set(a);x.has(p)?x.delete(p):x.add(p),i(x)},f=(p,x=100)=>p.length<=x?p:p.substring(0,x)+"...",m=p=>new Date(p).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}),g=p=>new Date(p).toLocaleString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return c?t.jsxs("div",{className:"system-announcements-page",children:[t.jsx("div",{className:"page-header",children:t.jsx("h1",{children:""})}),t.jsx("div",{className:"loading",children:"..."})]}):u?t.jsxs("div",{className:"system-announcements-page",children:[t.jsx("div",{className:"page-header",children:t.jsx("h1",{children:""})}),t.jsx("div",{className:"error",children:""})]}):t.jsxs("div",{className:"system-announcements-page",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{children:""}),t.jsx("p",{className:"page-description",children:""})]}),t.jsx("div",{className:"announcements-container",children:r&&r.length>0?t.jsx("div",{className:"announcements-list",children:r.map(p=>{const x=a.has(p.id),y=!x&&p.content.length>100;return t.jsxs("article",{className:"announcement-card",children:[t.jsx("div",{className:"announcement-header clickable",onClick:()=>h(p.id),children:t.jsxs("div",{className:"header-content",children:[t.jsx("h2",{className:"announcement-title",children:p.title}),t.jsxs("div",{className:"announcement-meta",children:[t.jsxs("span",{className:"date-range",children:[m(p.start_date)," - ",m(p.end_date)]}),t.jsx("span",{className:"expand-icon",children:x?"":""})]})]})}),x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"announcement-content",children:t.jsx("div",{className:"content-text",children:p.content})}),t.jsx("div",{className:"announcement-footer",children:t.jsxs("div",{className:"announcement-info",children:[t.jsxs("span",{className:"info-item",children:["",g(p.created_at)]}),p.last_edited_at&&t.jsxs("span",{className:"info-item",children:["",g(p.last_edited_at)]})]})})]}):t.jsxs("div",{className:"announcement-preview",children:[t.jsx("div",{className:"preview-text",children:y?f(p.content):p.content}),y&&t.jsx("button",{className:"expand-btn",onClick:N=>{N.stopPropagation(),h(p.id)},children:""})]})]},p.id)})}):t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:""}),t.jsx("p",{children:""})]})})]})}function e1(){return t.jsx("div",{className:"content-page",children:t.jsx(gi,{pageKey:"admission-important-info",fallbackContent:t.jsxs("div",{className:"fallback-content",children:[t.jsx("h1",{children:""}),t.jsx("p",{children:""})]})})})}function t1(){return t.jsx("div",{className:"content-page",children:t.jsx(gi,{pageKey:"scholarship-info",fallbackContent:t.jsxs("div",{className:"fallback-content",children:[t.jsx("h1",{children:""}),t.jsx("p",{children:""})]})})})}function n1(){return t.jsxs(Vb,{children:[t.jsx($e,{path:"/",element:t.jsx(iN,{})}),t.jsx($e,{path:"news",element:t.jsx(lN,{})}),t.jsx($e,{path:"admission",element:t.jsx(rN,{})}),t.jsx($e,{path:"enrollment",element:t.jsx(cN,{})}),t.jsx($e,{path:"login",element:t.jsx(zN,{})}),t.jsx($e,{path:"register",element:t.jsx(qN,{})}),t.jsx($e,{path:"verify-email",element:t.jsx(UN,{})}),t.jsx($e,{path:"student-dashboard",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(HS,{})})})}),t.jsxs($e,{path:"/",element:t.jsx(cg,{}),children:[t.jsx($e,{path:"applications",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(XN,{})})})}),t.jsx($e,{path:"applications/:id/steps",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(mS,{})})})}),t.jsx($e,{path:"applications/:id/admission-result",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(DS,{})})})}),t.jsx($e,{path:"applications/:id/edit",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(PN,{})})})}),t.jsx($e,{path:"applications/:id/preview",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(dS,{})})})}),t.jsx($e,{path:"applications/:id/submit",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(hS,{})})})}),t.jsx($e,{path:"lobby",element:t.jsx(Bt,{children:t.jsx(BS,{})})}),t.jsx($e,{path:"chat",element:t.jsx(Bt,{children:t.jsx(kS,{})})}),t.jsx($e,{path:"chat-history",element:t.jsx(Bt,{children:t.jsx(zS,{})})}),t.jsx($e,{path:"profile",element:t.jsx(Bt,{children:t.jsx(FS,{})})}),t.jsx($e,{path:"system-announcements",element:t.jsx(Bt,{children:t.jsx(Iw,{})})}),t.jsx($e,{path:"admission-important-info",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(e1,{})})})}),t.jsx($e,{path:"scholarship-info",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["student","admin"],children:t.jsx(t1,{})})})}),t.jsx($e,{path:"document-reviewer",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["document_reviewer","admin"],children:t.jsx(Hw,{})})})}),t.jsx($e,{path:"second-reviewer",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["second_reviewer","admin"],children:t.jsx(Pw,{})})})}),t.jsx($e,{path:"administrative-unit",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["administrative_unit","admin"],children:t.jsx(Ww,{})})})}),t.jsx($e,{path:"admin",element:t.jsx(dd,{to:"/admin/unassigned",replace:!0})})]}),t.jsxs($e,{path:"/admin",element:t.jsx(Bt,{children:t.jsx(Vt,{allow:["admin","ambassador"],children:t.jsx(QS,{})})}),children:[t.jsx($e,{index:!0,element:t.jsx(Ng,{})}),t.jsx($e,{path:"all",element:t.jsx(Ng,{})}),t.jsx($e,{path:"applications",element:t.jsx(Vt,{allow:["admin"],children:t.jsx(PS,{})})}),t.jsx($e,{path:"admission",element:t.jsx(Vt,{allow:["admin"],children:t.jsx(IS,{})})}),t.jsx($e,{path:"content",element:t.jsx(Vt,{allow:["admin"],children:t.jsx(ww,{})})}),t.jsx($e,{path:"settings",element:t.jsx(Vt,{allow:["admin"],children:t.jsx(Nw,{})})}),t.jsx($e,{path:"test",element:t.jsx(Vt,{allow:["admin"],children:t.jsx(Rw,{})})})]}),t.jsx($e,{path:"/",element:t.jsx(cg,{}),children:t.jsx($e,{path:"*",element:t.jsx(Bt,{children:t.jsx(I0,{})})})})]})}vj.createRoot(document.getElementById("root")).render(t.jsx(mn.StrictMode,{children:t.jsx(Hj,{client:N_,children:t.jsx(m_,{children:t.jsx(n1,{})})})}));
