import{d as D,s as F,r as l,a as U,o as G,b as m,c as x,e,n as y,w as k,v as N,f as w,F as L,g as q,u as H,h as J,i as K,t as O,p as Q,j as W,_ as X}from"./index-C5k5Gm4v.js";import{_ as Y}from"./button_下一步-Dza0cO2-.js";import{u as S}from"./message-CKVmI11u.js";const _=n=>(Q("data-v-fd385687"),n=n(),W(),n),Z={class:"bg_img container relative min-h-screen bg-standard"},P={class:"relative flex h-screen flex-col items-center"},ee={class:"flex flex-col items-center"},te={class:"mb-4"},se=_(()=>e("label",{class:"mb-1 block text-[16px] font-medium tracking-[1.6px]",for:"giver"},"祝福要獻給⋯",-1)),oe={key:0,class:"text-xs text-red-600"},ae={class:"mb-7"},le=_(()=>e("label",{class:"mb-1 block text-[16px] font-medium tracking-[1.6px]",for:"taker"},"留下你的署名",-1)),ne={key:0,class:"text-xs text-red-600"},ce={class:"flex flex-col items-center"},ie={class:"mb-[26px] grid grid-cols-2 place-content-center gap-x-6 gap-y-[18px]"},re=["onClick"],de={class:"flex w-[235px] justify-center"},ue=["disabled"],pe=_(()=>e("img",{src:Y,alt:"下一步",class:"w-full"},null,-1)),me=[pe],xe=D({__name:"StartView",setup(n){const{cardMessages:g}=F(S()),{setSelectedMsg:B,setTakerName:C,setGiverName:j}=S(),c=l(""),i=l(""),r=l(!1),d=l(!1),V=()=>{c.value===""?r.value=!0:r.value=!1,i.value===""?d.value=!0:d.value=!1},b=[{id:1,displayName:"熱情"},{id:2,displayName:"真誠"},{id:3,displayName:"可靠"},{id:4,displayName:"細心"},{id:5,displayName:"獨特"},{id:6,displayName:"幽默"}],o=U(new Set),M=s=>{o.has(s)?o.delete(s):o.size<2&&o.add(s)},A=s=>o.has(s),I=s=>{console.log("selected:",s),console.log("Card Messages:",g.value);const a=g.value.pairings,t=s.map(f=>{var p;return(p=b.find(v=>v.id===f))==null?void 0:p.displayName}).filter(Boolean);console.log("pairings:",a),console.log("形容詞組合:",t);const u=a.find(f=>{const[p,v]=f.adjectives;return t.includes(p)&&t.includes(v)});return(u==null?void 0:u.content)||"未找到匹配的文案，請確認選擇的形容詞正確！"},T=H(),h=J(),z=l(""),R=l(25),E=l(65),$=()=>{if(V(),r.value||d.value)return;C(c.value),j(i.value),console.log("selectedAdjectives:",o);const s=[...o],a=I(s);B(a),T.push({name:"card"})};return G(()=>{h.name&&(z.value=h.name)}),(s,a)=>(m(),x("main",Z,[e("div",P,[e("div",{class:"absolute left-1/2 w-full -translate-x-1/2",style:y({top:`${R.value}%`})},[e("div",ee,[e("div",te,[se,k(e("input",{type:"text",id:"giver",class:"block h-8 w-[235px] rounded border-[0.5px] border-primary px-7 py-1 text-center text-sm font-medium tracking-[0.8px] text-secondary focus:outline-secondary",maxlength:"8",placeholder:"請輸入8個字以內的稱呼","onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t)},null,512),[[N,i.value,void 0,{trim:!0}]]),d.value?(m(),x("span",oe,"此欄位為必填")):w("",!0)]),e("div",ae,[le,k(e("input",{type:"text",id:"taker",class:"block h-8 w-[235px] rounded border-[0.5px] border-primary px-7 py-1 text-center text-sm font-medium tracking-[0.8px] text-secondary focus:outline-secondary",maxlength:"8",placeholder:"請輸入8個字以內的稱呼","onUpdate:modelValue":a[1]||(a[1]=t=>c.value=t)},null,512),[[N,c.value,void 0,{trim:!0}]]),r.value?(m(),x("span",ne,"此欄位為必填")):w("",!0)])])],4),e("div",{class:"absolute left-1/2 w-full -translate-x-1/2",style:y({top:`${E.value}%`})},[e("div",ce,[e("ul",ie,[(m(),x(L,null,q(b,t=>e("li",{class:K(["flex h-10 w-[108px] cursor-pointer items-center justify-center rounded-[30px] border-[0.5px] px-[33px] py-[5px] text-lg",A(t.id)?"border-black bg-green-500 text-white":"border-black bg-white text-black"]),style:{"font-weight":"500"},key:t.id,onClick:u=>M(t.id)},O(t.displayName),11,re)),64))]),e("div",de,[e("button",{type:"button",disabled:o&&o.size<2,onClick:$,class:"disabled:cursor-not-allowed disabled:opacity-50"},me,8,ue)])])],4)])]))}}),ge=X(xe,[["__scopeId","data-v-fd385687"]]);export{ge as default};
