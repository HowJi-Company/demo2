import{d as D,r as t,c,o as M,a as N,b as F,k as L,i as e,j as n,f as l,g as R}from"./index-BOktFF9V.js";import{l as x,a as V,t as C}from"./transition1_text-8_mbph0K.js";import{a as q,b as w,s as W,t as G}from"./過場煙霧-CCM1rfwx.js";import{w as H}from"./warning_footer-D9FTkEpB.js";import{q as J}from"./question_background1-CIrWtZw_.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"relative w-full max-w-md"},X=["src"],Y=["src"],Z=["src"],tt=["src"],et=["src"],at=D({__name:"Transition1View",setup(ot){const v=R(),b=C,g=w,h=t({x:11.4,y:57.3}),T=t(19),I=t("screen"),k=t(.7),f=t({x:87.6,y:57.3}),P=t(19),$=t("screen"),S=t(.7),y=t({x:50,y:18}),B=t(80),m=t(!1),u=t(!1),d=t(!1),s=t(null),E=c(()=>{const a=m.value?100:0;return{left:`${h.value.x}%`,top:`${h.value.y}%`,width:`${T.value}%`,transform:"translate(-50%, -50%)",mixBlendMode:I.value,opacity:k.value,clipPath:`inset(0 0 ${100-a}% 0)`,transition:"clip-path 1s ease-out, opacity 1s ease-out"}}),O=c(()=>{const a=m.value?100:0;return{left:`${f.value.x}%`,top:`${f.value.y}%`,width:`${P.value}%`,transform:"translate(-50%, -50%)",mixBlendMode:$.value,opacity:S.value,clipPath:`inset(0 0 ${100-a}% 0)`,transition:"clip-path 1s ease-out, opacity 1s ease-out"}}),U=c(()=>({left:`${y.value.x}%`,top:`${y.value.y}%`,width:`${B.value}%`,transform:u.value?"translate(-50%, -50%)":"translate(-50%, calc(-50% - 20px))",opacity:u.value?1:0,filter:u.value?"blur(0px)":"blur(8px)",transition:"opacity 1.5s ease-out, filter 1.5s ease-out, transform 1.5s ease-out"})),A=c(()=>({opacity:d.value?0:1,transition:"opacity 800ms ease-out"})),z=c(()=>({backgroundImage:`url(${g})`,backgroundSize:"cover",backgroundPosition:"center"})),_=async()=>{const i=[w,W,G,J].map(r=>new Promise(o=>{const p=new Image;p.onload=()=>o(),p.onerror=()=>o(),p.src=r}));return await Promise.all(i),new Promise(r=>{const o=document.createElement("video");o.preload="auto",o.src=q,o.load(),o.addEventListener("loadeddata",()=>r(),{once:!0}),o.addEventListener("error",()=>r(),{once:!0}),setTimeout(()=>r(),3e3)})},j=async()=>{s.value!==null&&(clearTimeout(s.value),s.value=null),await _(),d.value=!0,setTimeout(()=>{v.push({name:"transition2"})},600)};return M(async()=>{_().then(()=>{console.log("Transition2 資源預載入完成")}),setTimeout(()=>{m.value=!0},2e3),setTimeout(()=>{u.value=!0},1e3);const a=5e3,i=600;s.value=window.setTimeout(()=>{d.value=!0,setTimeout(()=>{v.push({name:"transition2"})},i)},a-i)}),N(()=>{s.value!==null&&(clearTimeout(s.value),s.value=null)}),(a,i)=>(F(),L("main",{class:"relative h-screen w-full cursor-pointer overflow-hidden font-sans",onClick:j},[e("div",{class:"background-base-layer",style:n(z.value)},null,4),e("div",{class:"fade-wrapper",style:n(A.value)},[e("div",{class:"relative mx-auto flex h-[100vh] w-full max-w-[480px] flex-col items-center justify-center overflow-hidden px-0 text-center",style:n({backgroundImage:`url(${l(g)})`,backgroundSize:"contain",backgroundPosition:"center"})},[e("div",Q,[e("img",{src:l(b),alt:"過場1",class:"h-auto w-full object-contain"},null,8,X),e("img",{src:l(x),alt:"light1",class:"pointer-events-none absolute h-auto object-contain",style:n(E.value)},null,12,Y),e("img",{src:l(x),alt:"light2",class:"pointer-events-none absolute h-auto object-contain",style:n(O.value)},null,12,Z),e("img",{src:l(V),alt:"transition text",class:"pointer-events-none absolute h-auto object-contain",style:n(U.value)},null,12,tt)]),e("img",{src:l(H),alt:"警告標語",class:"absolute bottom-0 left-0 z-10 w-full"},null,8,et)],4)],4)]))}}),ut=K(at,[["__scopeId","data-v-c56bd80a"]]);export{ut as default};
